<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>安知鱼</title>
  <icon>https://www.gravatar.com/avatar/e04bb745ddb4503076f6b8f540d5c60a</icon>
  <subtitle>生活明朗 万物可爱</subtitle>
  <link href="https://anzhiy.cn/atom.xml" rel="self"/>
  
  <link href="https://anzhiy.cn/"/>
  <updated>2022-07-27T15:05:55.705Z</updated>
  <id>https://anzhiy.cn/</id>
  
  <author>
    <name>安知鱼</name>
    <email>anzhiy-c@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vite 3.0发布, 下一代前端构建工具</title>
    <link href="https://anzhiy.cn/posts/15d8.html"/>
    <id>https://anzhiy.cn/posts/15d8.html</id>
    <published>2022-07-18T14:34:19.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<p>7 月 13 日，Vite 3.0 正式发布，它被称为下一代的前端工具链。Vite 团队决定至少每年发布一个新的 Vite 主要版本，以与 Node.js 的 EOL 保持一致，并借此机会定期审查 Vite 的 API，为生态系统中的项目提供较短的迁移路径。</p><p><img src="https://space.anzhiy.cn/i/2022/07/18/m599xy.png" alt="Vite 3"></p><p>去年 2 月，Vite 2 正式发布。从那时起,它的使用率不断增长,每周 npm 下载量超过 100 万次。发布后迅速形成了庞大的生态系统。Vite 正在推动 Web 框架的新一轮创新竞赛。Nuxt 3 默认使用 Vite。SvelteKit、Astro、Hydrogen 和 SolidStart 都是用 Vite 构建的。Laravel 现在决定默认使用 Vite。Vite Ruby 展示了 Vite 如何改进 Rails DX。Vitest 作为 Jest 的 Vite-native 替代品正在取得长足进步。Storybook 将 Vite 作为官方构建器。而且名单还在继续不断扩大。大多数这些项目的维护者都参与了 Vite 核心的改进，与 Vite团队和其他贡献者密切合作。</p><h2 id="全新文档😕"><a href="#全新文档😕" class="headerlink" title="全新文档😕"></a>全新文档😕</h2><p>全新的 v3 文档发布，可以前往 vitejs.dev 查看。Vite 现在使用新的 VitePress 默认主题，其支持黑暗模式。</p><p><img src="https://space.anzhiy.cn/i/2022/07/18/m62qkr.png" alt=""></p><p>生态系统中的几个项目的文档也已经迁移到了VitePress（ Vitest、vite-plugin-pwa 和 VitePress）。如果需要访问 Vite 2 的文档，可以前往 v2.vitejs.dev 查看。除此之外，还有一个新的 main.vitejs.dev，每次提交到 Vite 的主分支都会自动部署。这在测试 beta 版本或为核心开发做出贡献时很有用。文档新增了一个正式的西班牙语翻译，目前官网文档提供了<strong>英语、简体中文、日语、西班牙语</strong>版本。</p><h2 id="创建-Vite-入门模板💪"><a href="#创建-Vite-入门模板💪" class="headerlink" title="创建 Vite 入门模板💪"></a>创建 Vite 入门模板💪</h2><p>create-vite 模板是一个很好的工具，可以用你最喜欢的框架快速测试 Vite。在 Vite 3 中，所有的模板都有一个与新文档一致的新主题✊。</p><p><img src="https://space.anzhiy.cn/i/2022/07/18/m65hpb.png" alt=""></p><p>在线体验模版：</p><blockquote><ul><li><strong>Vite</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-qff3vk\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-qff3vk\?file=index.html\&amp;terminal=dev</a></li><li><strong>Vite + Vue</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-4hxjez\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-4hxjez\?file=index.html\&amp;terminal=dev</a></li><li><strong>Vite + Svelte</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-f3pc98\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-f3pc98\?file=index.html\&amp;terminal=dev</a></li><li><strong>Vite + React</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-s1q16q\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-s1q16q\?file=index.html\&amp;terminal=dev</a></li><li><strong>Vite + Preact</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-rndlvv\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-rndlvv\?file=index.html\&amp;terminal=dev</a></li><li><strong>Vite + Lite</strong>：<a href="https://stackblitz.com/edit/vitejs-vite-8zaxwn\?file=index.html\&amp;terminal=dev">https://stackblitz.com/edit/vitejs-vite-8zaxwn\?file=index.html\&amp;terminal=dev</a></li></ul></blockquote><p>该主题现在由所有模板共享。对于更完整的解决方案，包括linting、测试设置和其他功能，有一些基于 Vite 的官方模板，如create-vue 和 create-svelte。Awesome Vite 上有一个社区维护的模板列表。<strong>Awesome Vite：</strong><a href="https://github.com/vitejs/awesome-vite#templates">https://github.com/vitejs/awesome-vite#templates</a></p><h2 id="开发改进"><a href="#开发改进" class="headerlink" title="开发改进"></a>开发改进</h2><h3 id="Vite-CLI"><a href="#Vite-CLI" class="headerlink" title="Vite CLI"></a>Vite CLI</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VITE v3.0.0  ready in 320 ms</span><br><span class="line">➜  Local:   http://127.0.0.1:5173/  </span><br><span class="line">➜  Network: use --host to expose  </span><br></pre></td></tr></table></figure><p>除了 CLI 的美观改进之外，默认的 dev server 的端口现在是 5173，而 preview server 的端口现在是 4173。此更改可确保 Vite 避免与其他工具发生冲突。</p><h3 id="改进的-WebSocket-连接策略"><a href="#改进的-WebSocket-连接策略" class="headerlink" title="改进的 WebSocket 连接策略"></a>改进的 WebSocket 连接策略</h3><p>Vite 2 的痛点之一是在代理之后运行时配置服务器。Vite 3 更改了默认连接方案，因此在大多数情况下都是开箱即用的。所有这些设置现在都通过 vite-setup-catalogue 作为 Vite 生态系统 CI 的一部分进行测试。</p><h3 id="冷启动改进"><a href="#冷启动改进" class="headerlink" title="冷启动改进"></a>冷启动改进</h3><p>Vite 现在可以避免在冷启动期间，当插件在抓取初始静态导入的模块时注入导入时完全重新加载。</p><p><img src="https://files.mdnice.com/user/9553/3e9df597-8609-4e99-b41d-589e3569e4db.png" alt=""></p><h3 id="import-meta-glob"><a href="#import-meta-glob" class="headerlink" title="import.meta.glob"></a>import.meta.glob</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob` 支持被重写。下面是  Glob Import Guide 中的新功能：</span><br></pre></td></tr></table></figure><ul><li><strong>多个匹配模式</strong>可以作为数组传递</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob([&#x27;./dir/*.js&#x27;, &#x27;./another/*.js&#x27;])  </span><br></pre></td></tr></table></figure><ul><li>现在支持<strong>反面匹配模式</strong>（以!为前缀）以忽略某些特定文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob([&#x27;./dir/*.js&#x27;, &#x27;!**/bar.js&#x27;])  </span><br></pre></td></tr></table></figure><ul><li>可以指定<strong>具名导入</strong>以改进tree-shaking</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob(&#x27;./dir/*.js&#x27;, &#123; import: &#x27;setup&#x27; &#125;)  </span><br></pre></td></tr></table></figure><ul><li>可以使用 query 选项来提供对导入的<strong>自定义查询</strong>，以供其他插件使用</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob(&#x27;./dir/*.js&#x27;, &#123; query: &#123; custom: &#x27;data&#x27; &#125; &#125;)  </span><br></pre></td></tr></table></figure><ul><li>eager 作为 Glob 导入的一个标识传入</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import.meta.glob(&#x27;./dir/*.js&#x27;, &#123; eager: true &#125;)  </span><br></pre></td></tr></table></figure><h3 id="将-WASM-import-与未来标准对齐"><a href="#将-WASM-import-与未来标准对齐" class="headerlink" title="将 WASM import 与未来标准对齐"></a>将 WASM import 与未来标准对齐</h3><p>修改了 WebAssembly import API，以避免与未来的标准发生冲突，并使其更加灵活：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import init from &#x27;./example.wasm?init&#x27;  </span><br><span class="line">  </span><br><span class="line">init().then((instance) =&gt; &#123;  </span><br><span class="line">  instance.exports.test()  </span><br><span class="line">&#125;)  </span><br></pre></td></tr></table></figure><h2 id="构建改进"><a href="#构建改进" class="headerlink" title="构建改进"></a>构建改进</h2><h3 id="ESM-成为-SSR-构建的默认格式"><a href="#ESM-成为-SSR-构建的默认格式" class="headerlink" title="ESM 成为 SSR 构建的默认格式"></a>ESM 成为 SSR 构建的默认格式</h3><p>生态系统中的大多数SSR框架已经在使用ESM构建。因此，Vite 3 使 ESM 成为 SSR 构建的默认格式。这使我们能够简化以前的 SSR 外部化启发式方法，默认情况下外部化依赖项。</p><h3 id="改进的-Relative-Base-支持"><a href="#改进的-Relative-Base-支持" class="headerlink" title="改进的 Relative Base 支持"></a><strong>改进的 Relative Base 支持</strong></h3><p>Vite 3 现在正确支持 <strong>Relative Base</strong>（使用base: ‘’），允许将构建的产物部署到不同的 base，而无需重新构建。这在构建时不知道 base 的情况时很有用。</p><h2 id="减小构建体积"><a href="#减小构建体积" class="headerlink" title="减小构建体积"></a>减小构建体积</h2><p>Vite 关心它的发布和安装足迹；快速安装新应用程序是一项功能。Vite 打包了它的大部分依赖项，并尽可能地尝试使用现代轻量级替代方案。继续这个持续的目标，Vite 3 的发布规模比 v2 小了 30\%。</p><p><img src="https://space.anzhiy.cn/i/2022/07/18/m70qdf.png" alt=""></p><h2 id="Bug-修复"><a href="#Bug-修复" class="headerlink" title="Bug 修复"></a>Bug 修复</h2><p>在过去的三个月里，Vite 的开放 issues 从 770 减少到了 400。而这一下降是在新开放的 PR 处于历史最高水平的情况下实现的。<br><img src="https://space.anzhiy.cn/i/2022/07/18/m74mgr.png" alt=""><br><img src="https://space.anzhiy.cn/i/2022/07/18/m79ty0.png" alt=""></p><h2 id="兼容性说明"><a href="#兼容性说明" class="headerlink" title="兼容性说明"></a>兼容性说明</h2><ul><li>Vite 不再支持 Node.js 12，现在需要 Node.js 14.18+。</li><li>Vite 现在以 ESM 的形式发布。</li><li>现代浏览器 Baseline 现在支持本地 ES 模块、本地 ESM 动态导入和 <code>import.meta</code> 功能的浏览器。</li></ul><h2 id="Vite-核心升级"><a href="#Vite-核心升级" class="headerlink" title="Vite 核心升级"></a>Vite 核心升级</h2><p>在开发 Vite 3 的同时，还改进了合作者对 Vite 核心的贡献体验。</p><ul><li>单元和 E2E 测试已迁移到 Vitest，提供更快、更稳定的 DX。</li><li>VitePress 构建现在作为 CI 的一部分进行测试。</li><li>Vite 升级到 pnpm 7，跟随生态系统的其余部分。</li><li>Playgrounds 已从 packages 目录移到<code>/playgrounds</code>。</li><li>packages 和 playgrounds 现在是<code>&quot;type&quot;: &quot;module&quot;</code>。</li><li>插件现在使用 unbuild 进行构建，并且 <code>plugin-vue-jsx</code> 和 <code>plugin-legacy</code> 已移至 TypeScript。</li></ul><h2 id="生态系统已为v3做好准备"><a href="#生态系统已为v3做好准备" class="headerlink" title="生态系统已为v3做好准备"></a>生态系统已为v3做好准备</h2><p>Vite 团队与生态系统中的项目密切合作，以确保由 Vite 支持的框架为 Vite 3 做好准备。vite-ecosystem-ci 允许我们针对 Vite 的主分支运行生态系统中领先参与者的 CI，并在引入回归之前及时收到报告。v3 版本很快就会与大多数使用 Vite 的项目兼容。</p><h2 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h2><p>Vite 团队将在接下来的几个月内确保所有基于 Vite 构建的项目都能顺利过渡。Rollup 团队正在开发下一个主要版本，并将在接下来的几个月内发布。一旦 Rollup 插件生态系统有时间更新，Vite 团队将跟进一个新的主要版本。这将是另一个在今年引入更重大变化的机会，可以利用这些变化来稳定此版本中引入的一些实验性功能。</p><blockquote><p>原文：<a href="https://vitejs.dev/blog/announcing-vite3.html">https://vitejs.dev/blog/announcing-vite3.html</a></p></blockquote><h2 id="Vite插件推荐"><a href="#Vite插件推荐" class="headerlink" title="Vite插件推荐"></a>Vite插件推荐</h2><p>vite 插件推荐<br>如果这些插件对你有帮助，可以给一个 star 支持下</p><ul><li>vite-plugin-mock - 用于本地及开发环境数据 mock</li><li>vite-plugin-html - 用于 html 模版转换，可以在html文件内进行书写模版语法</li><li>vite-plugin-style-import - 用于组件库样式按需引入</li><li>vite-plugin-imagemin - 用于打包压缩图片资源</li><li>vite-plugin-theme - 用于在线切换主题色/黑暗主题适配等主题相关配置</li><li>vite-plugin-compression - 用于打包输出.gz|.br文件</li><li>vite-plugin-svg-icons - 快速生成 svg sprite</li></ul><h2 id="附言"><a href="#附言" class="headerlink" title="附言"></a>附言</h2><p>我个人是很看好vite的发展的,什么时候当vue-cli真正默认使用vite来构建的时候,也就是vite相对成熟的时候了.</p>]]></content>
    
    
    <summary type="html">目前可用cdn整理</summary>
    
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>目前可用cdn整理</title>
    <link href="https://anzhiy.cn/posts/fe76.html"/>
    <id>https://anzhiy.cn/posts/fe76.html</id>
    <published>2022-07-16T15:04:19.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<h1 id="可用npm镜像"><a href="#可用npm镜像" class="headerlink" title="可用npm镜像"></a>可用npm镜像</h1><h2 id="jsDelivr"><a href="#jsDelivr" class="headerlink" title="jsDelivr"></a>jsDelivr</h2><p><a href="https://cdn.jsdelivr.net/npm">https://cdn.jsdelivr.net/npm</a></p><h2 id="unpkg"><a href="#unpkg" class="headerlink" title="unpkg"></a>unpkg</h2><p><a href="https://unpkg.com/">https://unpkg.com/</a></p><h2 id="unpkg-自建"><a href="#unpkg-自建" class="headerlink" title="unpkg 自建"></a>unpkg 自建</h2><p><a href="https://cdn.cbd.int">https://cdn.cbd.int</a></p><h2 id="npm-element"><a href="#npm-element" class="headerlink" title="npm element"></a>npm element</h2><p><a href="http://npm.elemecdn.com/">http://npm.elemecdn.com/</a></p><h1 id="其他cdn"><a href="#其他cdn" class="headerlink" title="其他cdn"></a>其他cdn</h1><h2 id="bootcdn"><a href="#bootcdn" class="headerlink" title="bootcdn"></a>bootcdn</h2><p><a href="https://www.bootcdn.cn/">https://www.bootcdn.cn/</a></p><h2 id="loli-（cdnjs）"><a href="#loli-（cdnjs）" class="headerlink" title="loli （cdnjs）"></a>loli （cdnjs）</h2><p><a href="https://cdnjs.loli.net/">https://cdnjs.loli.net/</a></p><h2 id="Staticfile"><a href="#Staticfile" class="headerlink" title="Staticfile"></a>Staticfile</h2><p><a href="https://staticfile.org/">https://staticfile.org/</a></p><h2 id="75CDN"><a href="#75CDN" class="headerlink" title="75CDN"></a>75CDN</h2><p><a href="https://cdn.baomitu.com/">https://cdn.baomitu.com/</a></p><h2 id="今日头条-CDN"><a href="#今日头条-CDN" class="headerlink" title="今日头条 CDN"></a>今日头条 CDN</h2><p><a href="https://cdn.bytedance.com/">https://cdn.bytedance.com/</a></p><h2 id="cdnjs"><a href="#cdnjs" class="headerlink" title="cdnjs"></a>cdnjs</h2><p><a href="https://cdnjs.com/">https://cdnjs.com/</a></p>]]></content>
    
    
    <summary type="html">目前可用cdn整理</summary>
    
    
    
    
    <category term="杂谈" scheme="https://anzhiy.cn/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>cloudreve pdf预览偶尔出错修复方案</title>
    <link href="https://anzhiy.cn/posts/b1d7.html"/>
    <id>https://anzhiy.cn/posts/b1d7.html</id>
    <published>2022-06-12T14:41:44.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning simple"><p>完成此教程前请先完成前置教程</p><div class="tag link"><a class="link-card" title="cloudreve魔改前置教程" href="https://anzhiy.cn/posts/xoan.html"><div class="left"><img src="https://cdn.cbd.int/anzhiyu-blog/img/favicon.png"/></div><div class="right"><p class="text">cloudreve魔改前置教程</p><p class="url">https://anzhiy.cn/posts/xoan.html</p></div></a></div></div><p>找到src\component\Viewer\PDF.js下第<code>13</code>行左右</p><p>替换掉这一行<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 删除这一行</span></span><br><span class="line">pdfjs.<span class="property">GlobalWorkerOptions</span>.<span class="property">workerSrc</span> = <span class="string">`//cdnjs.cloudflare.com/ajax/libs/pdf.js/<span class="subst">$&#123;pdfjs.version&#125;</span>/pdf.worker.js`</span>;</span><br><span class="line"><span class="comment">// 加上这一行</span></span><br><span class="line">pdfjs.<span class="property">GlobalWorkerOptions</span>.<span class="property">workerSrc</span> = <span class="string">`//cdn.staticfile.org/pdf.js/<span class="subst">$&#123;pdfjs.version&#125;</span>/pdf.worker.js`</span>;</span><br></pre></td></tr></table></figure></p><p>然后在跟目录启动cmd或者git bash, 执行下面这行代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run build</span><br></pre></td></tr></table></figure><br>等待1-2分钟项目根目录下会产生build文件夹，将该文件夹压缩成一个压缩包。</p><p>然后来到服务器上cloudreve启动文件所在目录</p><p>执行 以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cloudreve -eject</span><br></pre></td></tr></table></figure><p>随后会在同级目录生成statics文件夹</p><p>进入statics文件夹，将里面的文件全部删除，再将刚刚的压缩包上传至statics文件夹里面，然后解压<br>解压完成以后记得重启cloudreve进程。</p>]]></content>
    
    
    <summary type="html">cloudreve pdf偶尔出错修复方案</summary>
    
    
    
    
    <category term="cloudreve" scheme="https://anzhiy.cn/tags/cloudreve/"/>
    
  </entry>
  
  <entry>
    <title>butterfly 重装指南</title>
    <link href="https://anzhiy.cn/posts/9bd.html"/>
    <id>https://anzhiy.cn/posts/9bd.html</id>
    <published>2022-06-08T15:55:44.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h2><p>参考教程: <a href="https://anzhiy.cn/posts/ddae.html">https://anzhiy.cn/posts/ddae.html</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="安装-Butterfly"><a href="#安装-Butterfly" class="headerlink" title="安装 Butterfly"></a>安装 Butterfly</h2><p>参考教程: <a href="https://butterfly.js.org/posts/21cfbf15/#%E5%AE%89%E8%A3%9D">https://butterfly.js.org/posts/21cfbf15/#%E5%AE%89%E8%A3%9D</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h2 id="修改-config-yml"><a href="#修改-config-yml" class="headerlink" title="修改 _config.yml"></a>修改 _config.yml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">安知鱼</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;生活明朗 万物可爱&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;生活明朗,万物可爱.&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">安知鱼,安知鱼的博客,博客,安知鱼博客,陈志伟,Blog,anzhiyu,安知鱼`Blog,hexo,ANZHIYU,</span> <span class="string">HEXO</span> <span class="string">anzhiyu,Blog,anzhiyu`Blog,💖,安,安知,安知鱼,In安知鱼,Go安知鱼,anzhiy</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">安知鱼</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span></span><br><span class="line"><span class="attr">email:</span> <span class="string">anzhiy-c@qq.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://anzhiy.cn</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># Apply to the whole site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Metadata elements</span></span><br><span class="line"><span class="comment">## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</span></span><br><span class="line"><span class="attr">meta_generator:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"><span class="comment">## updated_option supports &#x27;mtime&#x27;, &#x27;date&#x27;, &#x27;empty&#x27;</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">&#x27;mtime&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Include / Exclude file(s)</span></span><br><span class="line"><span class="comment">## include:/exclude: options only apply to the &#x27;source/&#x27; folder</span></span><br><span class="line"><span class="attr">include:</span></span><br><span class="line"><span class="attr">exclude:</span></span><br><span class="line"><span class="attr">ignore:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repository:</span></span><br><span class="line">      <span class="comment"># github: git@github.com:anzhiyu-c/anzhiyu-c.github.io.git  #用户名@服务器Ip:git仓库位置</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">https://anzhiyu-c:xxx@github.com/anzhiyu-c/anzhiyu-c.github.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span> <span class="comment"># 这是新加的百度主动推送</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章链接转数字或字母：https://github.com/rozbo/hexo-abbrlink</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">alg:</span> <span class="string">crc16</span>   <span class="comment">#算法： crc16(default) and crc32</span></span><br><span class="line"><span class="attr">rep:</span> <span class="string">hex</span>     <span class="comment">#进制： dec(default) and hex: dec #输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex为十六进制</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 本地搜索：https://github.com/wzpan/hexo-generator-search</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关插件版看板娘</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.cbd.int/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-koharu</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json # 你的自定义 url</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span> <span class="comment">#控制看板娘位置</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span> <span class="comment">#控制看板娘大小</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">false</span> <span class="comment"># 手机中是否展示</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://github.com/hexojs/hexo-generator-sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line">  <span class="attr">rel:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://github.com/coneycode/hexo-generator-baidu-sitemap</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://github.com/hexojs/hexo-generator-feed</span></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo-generator-feed</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo-generator-baidu-sitemap</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo-generator-sitemap</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 追番插件</span></span><br><span class="line"><span class="comment"># https://github.com/HCLonely/hexo-bilibili-bangumi</span></span><br><span class="line"><span class="attr">bangumi:</span> <span class="comment"># 追番设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">path:</span></span><br><span class="line">  <span class="attr">vmid:</span> <span class="number">372204786</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">&#x27;追番列表&#x27;</span></span><br><span class="line">  <span class="attr">quote:</span> <span class="string">&#x27;生命不息，追番不止！&#x27;</span></span><br><span class="line">  <span class="attr">show:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">loading:</span></span><br><span class="line">  <span class="attr">metaColor:</span></span><br><span class="line">  <span class="attr">color:</span></span><br><span class="line">  <span class="attr">webp:</span></span><br><span class="line">  <span class="attr">progress:</span></span><br><span class="line">  <span class="attr">extra_options:</span></span><br><span class="line">    <span class="attr">key:</span> <span class="string">value</span></span><br><span class="line"><span class="attr">cinema:</span> <span class="comment"># 追剧设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">path:</span></span><br><span class="line">  <span class="attr">vmid:</span> <span class="number">372204786</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">&#x27;追剧列表&#x27;</span></span><br><span class="line">  <span class="attr">quote:</span> <span class="string">&#x27;生命不息，追剧不止！&#x27;</span></span><br><span class="line">  <span class="attr">show:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">loading:</span></span><br><span class="line">  <span class="attr">metaColor:</span></span><br><span class="line">  <span class="attr">color:</span></span><br><span class="line">  <span class="attr">webp:</span></span><br><span class="line">  <span class="attr">progress:</span></span><br><span class="line">  <span class="attr">extra_options:</span></span><br><span class="line">    <span class="attr">key:</span> <span class="string">value</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 百度主动推送</span></span><br><span class="line"><span class="comment"># https://github.com/huiwang/hexo-baidu-url-submit</span></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">1</span>        <span class="comment"># 提交最新的多少个链接</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">blog.anzhiy.cn</span>  <span class="comment"># 在百度站长平台中添加的域名</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">Rgem9kAECSLflQq6</span>   <span class="comment"># 秘钥</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span>   <span class="comment"># 文本文档的地址， 新链接会保存在此文本文档里</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># APlayer</span></span><br><span class="line"><span class="comment"># https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Artitalk</span></span><br><span class="line"><span class="comment"># see https://artitalk.js.org/</span></span><br><span class="line"><span class="comment"># https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-artitalk</span></span><br><span class="line"><span class="attr">artitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">8Gw17kIV3j41zDcXcWFI4P1r-MdYXbMMI</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">0f3Xjw3qMxil73puamsp7n76</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">artitalk</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://cdn.cbd.int/artitalk</span></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">    <span class="attr">shuoPla:</span> <span class="string">写下今天的快乐叭~</span></span><br><span class="line">    <span class="attr">avatarPla:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/avatar.png</span></span><br><span class="line">    <span class="attr">bgImg:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/comment_bg.png</span></span><br><span class="line">    <span class="attr">atEmoji:</span> &#123;</span><br><span class="line">        <span class="string">&quot;酷安-1&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/d79edde04bd03.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-10&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/e84b0ea48383a.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-11&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/29be1c9d7042d.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-12&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bfba60ecb6cc6.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-13&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/6019afc31c8d2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-14&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3fb064da5dac2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-15&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f127ba6ee794a.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-16&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f1a49c89ec203.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-17&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/03d8aa90d5ffa.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-18&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/238a7c446f1da.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-2&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/725e848a16e1d.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-3&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/156aacb8fde41.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-4&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/49257728eeac3.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-5&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/ef52bbdb8dba2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-6&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/5e1f58a22eb1b.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-7&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/ae09426ffc052.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-8&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/cc0bd57e14172.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-9&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/98b032b2a71a9.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-aixin&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/e39a8e16b7f6d.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-aoman&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/fdcffa4a8ae4c.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-baiyan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/98699918092c8.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-baoquan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bf297cbf79577.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-bishi&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/59be811ed5b68.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-caidao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/59baa938beee7.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-chigua&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/8b1afe90b91b8.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-ciya&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/b2c520003cfe2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-coshuaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f49a7ee4bac5b.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-diaoxie&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bb0b8e68db729.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-doge&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7b15f7732d333.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-dogehechi&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/b44cb17d1be10.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-dogexiaoku&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/b8cc577aeab99.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-dogeyuanliangta&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3de6674a8e701.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-doujiyanhuaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/82492e225e877.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-erha&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/6417d51eab768.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-erhading&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/893603585a2d5.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-fadai&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/e91650e7074c2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-fanu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7c8a82e5ae7a1.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-hahaha&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/60330b48c5002.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-haixiu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/67057f65ef6a9.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-han&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bd91e01f60814.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-hehe&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/17fbf7df839d6.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-heiha&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/5f8b8d3350d53.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-heixian&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7a6f5ac8df889.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-hejiu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f456859d769a5.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-hongyaowan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/205c0e553f962.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-huaixiao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/aa0280dd17f73.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-huaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bc5d47be7dd61.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-huanhu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/e3645bd074e47.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-huoba&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/52bccfd07cd42.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-jingya&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/fa28851b21757.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-jizhi&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/8fb3db20e2970.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-keai&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/fad3ad127dc91.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-kelian&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/63d75bb5d6deb.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-koubi&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/c22c18faf18fd.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-ku&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/fced019d8cd36.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-kuan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/196e9683bb4c2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-kuanlvmao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3bd36495075b6.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-liuhanhuaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/0677bec17b611.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-liulei&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f06eac9acc4db.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-lvmao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3ad6bcbc4661f.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-lvyaowan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/eaae5763e0650.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-meigui&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7d0791eb5bf30.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-miaomiao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/d2ea812f4dfb5.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-mojinghuaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/91338ab3e04b9.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-naikezui&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7c547fda1e34e.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-nanguo&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/4f065524c5233.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-nb&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/2aca7bdb0ebe2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-ok&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/a53470afa1c1f.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-pen&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/39077063f798d.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-penxue&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/f793f26b74ddb.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-piezui&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3fe36dc5ad166.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-pu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/557d698e30855.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-pyjiaoyi&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/cafc37786127e.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-qiang&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/ee5220d999068.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-qinqin&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3d8a0587f57f0.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-qqdoge&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/3b782640f81ef.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-ruo&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/1f9103176b58a.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-se&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/e46710cff9b8c.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-shounuehuaji&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/1c131772d1bb2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-shui&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/27fecb3f84bc7.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-tuosai&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/d211229511504.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-tushe&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/983c8ebd87cf2.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-weiqu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/ee0a562c20067.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-weiweiyixiao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/d281ccdecda1a.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-weixiao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/9ef8b76db9b9c.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-wozuimei&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/996e570245530.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-wulian&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7e872f685ca1b.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-wunai&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/98741ccc53a16.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-wuyu&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/def9868ab4f79.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-wuzuixiao&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/46bbf77822f18.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-xiaoku&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/fe27d3c2dbbf8.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-xiaoyan&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/64d03bece8262.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-xinsui&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/d94af60c9fb37.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-ye&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/7f9cf72ba2ecd.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-yinxian&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/c32feba1e8817.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-yiwen&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/bc7a5a28808fb.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-zaijian&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/b25ccbf1814ae.png&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酷安-zhoumei&quot;</span><span class="string">:</span> <span class="string">&quot;https://7.dusays.com/2021/01/15/6bd6239753b7a.png&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">  <span class="attr">front_matter:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">闲言碎语</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">date:</span> <span class="number">2021-03-30 15:57:50</span></span><br><span class="line">    <span class="attr">copyright_author:</span> <span class="string">安知鱼</span></span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/anzhiy.cn.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hpptalk:</span></span><br><span class="line"><span class="comment">#   enable: true</span></span><br><span class="line"><span class="comment">#   domain: chen.2268025923.workers.dev</span></span><br><span class="line"><span class="comment">#   path: hpptalk</span></span><br><span class="line"><span class="comment">#   limit: 8</span></span><br><span class="line"><span class="comment">#   start: 0</span></span><br><span class="line"><span class="comment">#   js: https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@latest/talk_user.js</span></span><br><span class="line"><span class="comment">#   css: https://cdn.jsdelivr.net/gh/anzhiyu-c/cdn/qiqi/css/hpptalk.css</span></span><br><span class="line"><span class="comment">#   option:</span></span><br><span class="line"><span class="comment">#   front_matter:</span></span><br><span class="line"><span class="comment">#     title: 闲言碎语</span></span><br><span class="line"><span class="comment">#     date: 2021-03-30 15:57:50</span></span><br><span class="line"><span class="comment">#     comments: false</span></span><br></pre></td></tr></table></figure><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><ol><li><blockquote><p>配置文章链接转数字或字母：<a href="https://github.com/rozbo/hexo-abbrlink">https://github.com/rozbo/hexo-abbrlink</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>本地搜索依赖：<a href="https://github.com/wzpan/hexo-generator-search">https://github.com/wzpan/hexo-generator-search</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>live2d</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装live2d</span></span><br><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装模型</span></span><br><span class="line">npm install --save live2d-widget-model-koharu</span><br></pre></td></tr></table></figure></li><li><blockquote><p>sitemap</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save-dev</span><br></pre></td></tr></table></figure></li><li><blockquote><p>Rss</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>追番插件</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-bilibili-bangumi --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>百度主动推送</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>aplayer 音乐播放器</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>说说：hexo-butterfly-artitalk</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-artitalk</span><br></pre></td></tr></table></figure></li><li><blockquote><p>配置 pwa</p></blockquote><p>参考：<a href="https://akilar.top/posts/8f31c3d0/">https://akilar.top/posts/8f31c3d0/</a></p><p>安装必要插件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">npm install --global gulp-cli # 全局安装gulp命令集</span><br><span class="line">npm install workbox-build gulp --save # 安装workbox和gulp插件</span><br><span class="line"></span><br><span class="line"># 压缩html插件</span><br><span class="line">npm install gulp-htmlclean --save-dev</span><br><span class="line">npm install --save gulp-htmlmin</span><br><span class="line"># 压缩css插件</span><br><span class="line">npm install gulp-clean-css --save-dev</span><br><span class="line"># 压缩js插件</span><br><span class="line"># 使用babel压缩js，与terser二选一</span><br><span class="line">npm install --save-dev gulp-uglify</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"># 使用terser压缩js，与babel二选一</span><br><span class="line">npm install gulp-terser --save-dev</span><br><span class="line">npm install --save-dev gulp-babel @babel/core @babel/preset-env</span><br><span class="line"># 压缩图片插件</span><br><span class="line">npm install --save-dev gulp-imagemin</span><br></pre></td></tr></table></figure><p>在 package.json 中添加</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>创建<code>gulpfile.js</code><br>在 Hexo 的根目录，创建一个<code>gulpfile.js</code>文件,打开<code>[Blogroot]/gulpfile.js</code>,</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: gulp</span></span><br><span class="line"><span class="comment"> * @Author: 安知鱼</span></span><br><span class="line"><span class="comment"> * @Email: 2268025923@qq.com</span></span><br><span class="line"><span class="comment"> * @Date: 2022-02-22 11:22:57</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2022-02-23 10:18:05</span></span><br><span class="line"><span class="comment"> * @LastEditors: 安知鱼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> gulp <span class="keyword">from</span> <span class="string">&#x27;gulp&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> cleanCSS <span class="keyword">from</span> <span class="string">&#x27;gulp-clean-css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> htmlmin <span class="keyword">from</span> <span class="string">&#x27;gulp-htmlmin&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> htmlclean <span class="keyword">from</span> <span class="string">&#x27;gulp-htmlclean&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> imagemin <span class="keyword">from</span> <span class="string">&#x27;gulp-imagemin&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> workbox <span class="keyword">from</span> <span class="string">&#x27;workbox-build&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 若使用babel压缩js，则取消下方注释，并注释terser的代码</span></span><br><span class="line"><span class="comment">// var uglify = require(&#x27;gulp-uglify&#x27;);</span></span><br><span class="line"><span class="comment">// var babel = require(&#x27;gulp-babel&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 若使用terser压缩js</span></span><br><span class="line"><span class="keyword">import</span> terser <span class="keyword">from</span> <span class="string">&#x27;gulp-terser&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//pwa</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;generate-service-worker&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> workbox.<span class="title function_">injectManifest</span>(&#123;</span><br><span class="line">    <span class="attr">swSrc</span>: <span class="string">&#x27;./sw-template.js&#x27;</span>,</span><br><span class="line">    <span class="attr">swDest</span>: <span class="string">&#x27;./public/sw.js&#x27;</span>,</span><br><span class="line">    <span class="attr">globDirectory</span>: <span class="string">&#x27;./public&#x27;</span>,</span><br><span class="line">    <span class="attr">globPatterns</span>: [</span><br><span class="line">      <span class="comment">// 缓存所有以下类型的文件，极端不推荐</span></span><br><span class="line">      <span class="comment">// &quot;**/*.&#123;html,css,js,json,woff2,xml&#125;&quot;</span></span><br><span class="line">      <span class="comment">// 推荐只缓存404，主页和主要样式和脚本。</span></span><br><span class="line">      <span class="string">&#x27;404.html&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;js/main.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;css/index.css&#x27;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">modifyURLPrefix</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;&#x27;</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//minify js babel</span></span><br><span class="line"><span class="comment">// 若使用babel压缩js，则取消下方注释，并注释terser的代码</span></span><br><span class="line"><span class="comment">// gulp.task(&#x27;compress&#x27;, () =&gt;</span></span><br><span class="line"><span class="comment">//   gulp.src([&#x27;./public/**/*.js&#x27;, &#x27;!./public/**/*.min.js&#x27;])</span></span><br><span class="line"><span class="comment">// .pipe(babel(&#123;</span></span><br><span class="line"><span class="comment">// presets: [&#x27;@babel/preset-env&#x27;]</span></span><br><span class="line"><span class="comment">// &#125;))</span></span><br><span class="line"><span class="comment">//     .pipe(uglify().on(&#x27;error&#x27;, function(e)&#123;</span></span><br><span class="line"><span class="comment">//       console.log(e);</span></span><br><span class="line"><span class="comment">//     &#125;))</span></span><br><span class="line"><span class="comment">// .pipe(gulp.dest(&#x27;./public&#x27;))</span></span><br><span class="line"><span class="comment">// );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// minify js - gulp-tester</span></span><br><span class="line"><span class="comment">// 若使用terser压缩js</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;compress&#x27;</span>, <span class="function">() =&gt;</span></span><br><span class="line">  gulp</span><br><span class="line">    .<span class="title function_">src</span>([</span><br><span class="line">      <span class="string">&#x27;./public/**/*.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;!./public/js/custom/galmenu.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;!./public/js/custom/gitcalendar.js&#x27;</span>,</span><br><span class="line">    ])</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">terser</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//css</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(</span><br><span class="line">      <span class="title function_">cleanCSS</span>(&#123;</span><br><span class="line">        <span class="attr">compatibility</span>: <span class="string">&#x27;ie11&#x27;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public 目录内 html</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(</span><br><span class="line">      <span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">        <span class="attr">removeComments</span>: <span class="literal">true</span>, <span class="comment">//清除 HTML 註释</span></span><br><span class="line">        <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">//压缩 HTML</span></span><br><span class="line">        <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>, <span class="comment">//省略布尔属性的值 &lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">        <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除所有空格作属性值 &lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">        <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除 &lt;script&gt; 的 type=&quot;text/javascript&quot;</span></span><br><span class="line">        <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span>, <span class="comment">//删除 &lt;style&gt; 和 &lt;link&gt; 的 type=&quot;text/css&quot;</span></span><br><span class="line">        <span class="attr">minifyJS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面 JS</span></span><br><span class="line">        <span class="attr">minifyCSS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面 CSS</span></span><br><span class="line">        <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public/uploads 目录内图片</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-images&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  gulp</span><br><span class="line">    .<span class="title function_">src</span>(<span class="string">&#x27;./public/img/**/*.*&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(</span><br><span class="line">      <span class="title function_">imagemin</span>(&#123;</span><br><span class="line">        <span class="attr">optimizationLevel</span>: <span class="number">5</span>, <span class="comment">//类型：Number  预设：3  取值範围：0-7（优化等级）</span></span><br><span class="line">        <span class="attr">progressive</span>: <span class="literal">true</span>, <span class="comment">//类型：Boolean 预设：false 无失真压缩jpg图片</span></span><br><span class="line">        <span class="attr">interlaced</span>: <span class="literal">false</span>, <span class="comment">//类型：Boolean 预设：false 隔行扫描gif进行渲染</span></span><br><span class="line">        <span class="attr">multipass</span>: <span class="literal">false</span>, <span class="comment">//类型：Boolean 预设：false 多次优化svg直到完全优化</span></span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public/img&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.<span class="title function_">task</span>(</span><br><span class="line">  <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line">  gulp.<span class="title function_">series</span>(<span class="string">&#x27;generate-service-worker&#x27;</span>, gulp.<span class="title function_">parallel</span>(<span class="string">&#x27;compress&#x27;</span>, <span class="string">&#x27;minify-html&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-images&#x27;</span>))</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>创建在 Hexo 的根目录，创建一个<code>sw-template.js</code>文件,打开<code>[Blogroot]/sw-template.js</code>,输入以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Description: sw</span></span><br><span class="line"><span class="comment"> * @Author: 安知鱼</span></span><br><span class="line"><span class="comment"> * @Email: 2268025923@qq.com</span></span><br><span class="line"><span class="comment"> * @Date: 2022-02-22 11:23:58</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2022-03-08 12:24:30</span></span><br><span class="line"><span class="comment"> * @LastEditors: 安知鱼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> workboxVersion = <span class="string">&#x27;5.1.3&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">importScripts</span>(<span class="string">`https://storage.googleapis.com/workbox-cdn/releases/<span class="subst">$&#123;workboxVersion&#125;</span>/workbox-sw.js`</span>);</span><br><span class="line"></span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">setCacheNameDetails</span>(&#123;</span><br><span class="line">  <span class="attr">prefix</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">skipWaiting</span>();</span><br><span class="line"></span><br><span class="line">workbox.<span class="property">core</span>.<span class="title function_">clientsClaim</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册成功后要立即缓存的资源列表</span></span><br><span class="line"><span class="comment">// 具体缓存列表在gulpfile.js中配置，见下文</span></span><br><span class="line">workbox.<span class="property">precaching</span>.<span class="title function_">precacheAndRoute</span>(self.<span class="property">__WB_MANIFEST</span>, &#123;</span><br><span class="line">  <span class="attr">directoryIndex</span>: <span class="literal">null</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清空过期缓存</span></span><br><span class="line">workbox.<span class="property">precaching</span>.<span class="title function_">cleanupOutdatedCaches</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 图片资源（可选，不需要就注释掉）</span></span><br><span class="line"><span class="comment">// workbox.routing.registerRoute(</span></span><br><span class="line"><span class="comment">//   /\.(?:png|jpg|jpeg|gif|bmp|webp|svg|ico)$/,</span></span><br><span class="line"><span class="comment">//   new workbox.strategies.CacheFirst(&#123;</span></span><br><span class="line"><span class="comment">//     cacheName: &#x27;images&#x27;,</span></span><br><span class="line"><span class="comment">//     plugins: [</span></span><br><span class="line"><span class="comment">//       new workbox.expiration.ExpirationPlugin(&#123;</span></span><br><span class="line"><span class="comment">//         maxEntries: 1000,</span></span><br><span class="line"><span class="comment">//         maxAgeSeconds: 60 * 60 * 24 * 30,</span></span><br><span class="line"><span class="comment">//       &#125;),</span></span><br><span class="line"><span class="comment">//       new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span></span><br><span class="line"><span class="comment">//         statuses: [0, 200],</span></span><br><span class="line"><span class="comment">//       &#125;),</span></span><br><span class="line"><span class="comment">//     ],</span></span><br><span class="line"><span class="comment">//   &#125;)</span></span><br><span class="line"><span class="comment">// )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字体文件（可选，不需要就注释掉）</span></span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/\.(?:eot|ttf|woff|woff2)$/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">CacheFirst</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;fonts&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">expiration</span>.<span class="title class_">ExpirationPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">maxEntries</span>: <span class="number">1000</span>,</span><br><span class="line">        <span class="attr">maxAgeSeconds</span>: <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>,</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">cacheableResponse</span>.<span class="title class_">CacheableResponsePlugin</span>(&#123;</span><br><span class="line">        <span class="attr">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 谷歌字体（可选，不需要就注释掉）</span></span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/^https:\/\/fonts\.googleapis\.com/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">StaleWhileRevalidate</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;google-fonts-stylesheets&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line">workbox.<span class="property">routing</span>.<span class="title function_">registerRoute</span>(</span><br><span class="line">  <span class="regexp">/^https:\/\/fonts\.gstatic\.com/</span>,</span><br><span class="line">  <span class="keyword">new</span> workbox.<span class="property">strategies</span>.<span class="title class_">CacheFirst</span>(&#123;</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">&#x27;google-fonts-webfonts&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">expiration</span>.<span class="title class_">ExpirationPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">maxEntries</span>: <span class="number">1000</span>,</span><br><span class="line">        <span class="attr">maxAgeSeconds</span>: <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>,</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> workbox.<span class="property">cacheableResponse</span>.<span class="title class_">CacheableResponsePlugin</span>(&#123;</span><br><span class="line">        <span class="attr">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jsdelivr的CDN资源（可选，不需要就注释掉）</span></span><br><span class="line"><span class="comment">// workbox.routing.registerRoute(</span></span><br><span class="line"><span class="comment">//   /^https:\/\/cdn\.jsdelivr\.net/,</span></span><br><span class="line"><span class="comment">//   new workbox.strategies.CacheFirst(&#123;</span></span><br><span class="line"><span class="comment">//     cacheName: &#x27;static-libs&#x27;,</span></span><br><span class="line"><span class="comment">//     plugins: [</span></span><br><span class="line"><span class="comment">//       new workbox.expiration.ExpirationPlugin(&#123;</span></span><br><span class="line"><span class="comment">//         maxEntries: 1000,</span></span><br><span class="line"><span class="comment">//         maxAgeSeconds: 60 * 60 * 24 * 30,</span></span><br><span class="line"><span class="comment">//       &#125;),</span></span><br><span class="line"><span class="comment">//       new workbox.cacheableResponse.CacheableResponsePlugin(&#123;</span></span><br><span class="line"><span class="comment">//         statuses: [0, 200],</span></span><br><span class="line"><span class="comment">//       &#125;),</span></span><br><span class="line"><span class="comment">//     ],</span></span><br><span class="line"><span class="comment">//   &#125;)</span></span><br><span class="line"><span class="comment">// )</span></span><br><span class="line"></span><br><span class="line">workbox.<span class="property">googleAnalytics</span>.<span class="title function_">initialize</span>();</span><br></pre></td></tr></table></figure><p>在<code>[Blogroot]\themes\butterfly\layout\includes\third-party\</code>目录下新建<code>pwanotice.pug</code>文件，<br>打开<code>[Blogroot]\themes\butterfly\layout\includes\third-party\pwanotice.pug</code>,输入：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#app-refresh.<span class="property">app</span>-<span class="title function_">refresh</span>(style=<span class="string">&#x27;position: fixed;top: -2.2rem;left: 0;right: 0;z-index: 99999;padding: 0 1rem;font-size: 15px;height: 2.2rem;transition: all 0.3s ease;&#x27;</span>)</span><br><span class="line">  .<span class="property">app</span>-refresh-<span class="title function_">wrap</span>(style=<span class="string">&#x27; display: flex;color: #fff;height: 100%;align-items: center;justify-content: center;&#x27;</span>)</span><br><span class="line">    label ✨ 有新文章啦！ 👉</span><br><span class="line">    <span class="title function_">a</span>(href=<span class="string">&#x27;javascript:void(0)&#x27;</span> onclick=<span class="string">&#x27;location.reload()&#x27;</span>)</span><br><span class="line">      <span class="title function_">span</span>(style=<span class="string">&#x27;color: #fff;text-decoration: underline;cursor: pointer;&#x27;</span>) 🍗点击食用🍔</span><br><span class="line">script.</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="keyword">if</span> (navigator.<span class="property">serviceWorker</span>.<span class="property">controller</span>) &#123;</span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;controllerchange&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">showNotification</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">register</span>(<span class="string">&#x27;/sw.js&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">showNotification</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> snackbarBg =</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;light&#x27;</span> ?</span><br><span class="line">  <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">bgLight</span> :</span><br><span class="line">  <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">bgDark</span></span><br><span class="line">  <span class="keyword">var</span> snackbarPos = <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">position</span></span><br><span class="line">  <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">  <span class="attr">text</span>: <span class="string">&#x27;✨ 有新文章啦！ 👉&#x27;</span>,</span><br><span class="line">  <span class="attr">backgroundColor</span>: snackbarBg,</span><br><span class="line">  <span class="attr">duration</span>: <span class="number">500000</span>,</span><br><span class="line">  <span class="attr">pos</span>: snackbarPos,</span><br><span class="line">  <span class="attr">actionText</span>: <span class="string">&#x27;🍗点击食用🍔&#x27;</span>,</span><br><span class="line">  <span class="attr">actionTextColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">  <span class="attr">onActionClick</span>: <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  location.<span class="title function_">reload</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> showBg =</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;light&#x27;</span> ?</span><br><span class="line">  <span class="string">&#x27;#49b1f5&#x27;</span> :</span><br><span class="line">  <span class="string">&#x27;#1f1f1f&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> cssText = <span class="string">`top: 0; background: <span class="subst">$&#123;showBg&#125;</span>;`</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app-refresh&#x27;</span>).<span class="property">style</span>.<span class="property">cssText</span> = cssText</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\additional-js.pug</code>,在文件底部添加以下内容，注意缩进。<code>butterfly_v3.6.0</code>取消了缓存配置，转为完全默认，需要将<code>&#123;cache:theme.fragment_cache&#125;</code>改为<code>&#123;cache: true&#125;</code>:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      if theme.pjax.enable</span><br><span class="line">        !=partial(&#x27;includes/third-party/pjax&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"></span><br><span class="line">      !=partial(&#x27;includes/third-party/baidu_push&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"></span><br><span class="line"><span class="addition">+     if theme.pwa.enable</span></span><br><span class="line"><span class="addition">+       !=partial(&#x27;includes/third-party/pwanotice&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br></pre></td></tr></table></figure><p><strong>复制静态资源（文章等）</strong></p><p><code>将整个source文件夹的内容复制过来包括图片文章之类的</code></p><p>打开图标包内的<code>site.webmanifest</code>,建议修改文件名为<code>manifest.json</code>并将其放到<code>[Blogroot]/source</code>目录下，此时还不能直接用，需要添加一些内容，以下是我的<code>manifest.json</code>配置内容，权且作为参考，其中的<code>theme_color</code>建议用取色器取设计的图标的主色调，<strong>同时务必配置 start_url 和 name 的配置项，这关系到你之后能否看到浏览器的应用安装按钮</strong>。：</p><p>打开主题配置文件<code>[Blogroot]/_config.butterfly.yml</code>,找到<code>PWA</code>配置项。添加图标路径。这里的 theme_color 建议改成你图标的主色调，包括<code>manifest.json</code>中的<code>theme_color</code>也是如此。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/manifest.json</span></span><br><span class="line">  <span class="attr">theme_color:</span> <span class="string">&#x27;#49b1f5&#x27;</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/siteicon/128.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/siteicon/32.png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/siteicon/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/siteicon/128.png</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>添加外挂标签</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://www.npmjs.com/package/hexo-butterfly-tag-plugins-plus</span></span><br><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br><span class="line"></span><br><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tag-plugins-plus</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/615e2dec/</span></span><br><span class="line"><span class="attr">tag_plugins:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">issues:</span> <span class="literal">false</span> <span class="comment">#issues标签开关</span></span><br><span class="line">  <span class="attr">link:</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">/img/siteicon/64.png</span> <span class="comment">#link_card标签默认的图标图片</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br><span class="line">    <span class="attr">anima:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css</span> <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    <span class="attr">jquery:</span> <span class="string">https://cdn.cbd.int/jquery@latest/dist/jquery.min.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">issues:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js</span> <span class="comment">#issues标签依赖</span></span><br><span class="line">    <span class="attr">iconfont:</span> <span class="string">//at.alicdn.com/t/font_2508400_b89jnqce3q4.js</span> <span class="comment">#参看https://akilar.top/posts/d2ebecef/</span></span><br><span class="line">    <span class="attr">carousel:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span></span><br><span class="line">    <span class="attr">tag_plugins_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>添加 <a href="https://akilar.top/posts/abab51cf/">wowjs 特效</a></p><p>see <a href="https://www.npmjs.com/package/hexo-butterfly-wowjs">https://www.npmjs.com/package/hexo-butterfly-wowjs</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wowjs</span></span><br><span class="line"><span class="comment"># see https://www.npmjs.com/package/hexo-butterfly-wowjs</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="number">1.</span><span class="string">5s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">200ms</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">30</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">200ms</span></span><br><span class="line">    <span class="comment"># - class: flink-list-card</span></span><br><span class="line">    <span class="comment">#   style: wowpanels</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">flink-list-card</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__flipInY</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">flink-list-card</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__animated</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">article-sort-item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__slideInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="number">1.</span><span class="string">5s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">site-card</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__flipInY</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">site-card</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__animated</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span></span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure><p>1</p></li><li><blockquote><p>留言板：薇尔莉特信封</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>使用 Github Action 实现全自动部署</p></blockquote><p>参考<a href="https://akilar.top/posts/f752c86d/">https://akilar.top/posts/f752c86d/</a></p><p>复制 <code>.github</code>文件夹</p><p>复制 <code>.git</code>文件</p><p>复制 <code>.gitignore</code>文件</p></li><li><blockquote><p>页脚 github 徽标和计时器 # see <a href="https://www.npmjs.com/package/hexo-butterfly-footer-beautify">https://www.npmjs.com/package/hexo-butterfly-footer-beautify</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footer_beautify</span></span><br><span class="line"><span class="comment"># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span></span><br><span class="line"><span class="comment"># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span></span><br><span class="line"><span class="attr">footer_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">true</span> <span class="comment"># 计时器开关</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># 徽标开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># 计时器部分配置项</span></span><br><span class="line">  <span class="attr">runtime_js:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/js/runtime.min.js</span></span><br><span class="line">  <span class="attr">runtime_css:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/css/runtime.min.css</span></span><br><span class="line">  <span class="comment"># 徽标部分配置项</span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#若非0，则开启轮播功能，每行徽标个数</span></span><br><span class="line">  <span class="attr">bdageitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#徽标指向网站链接</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#徽标API</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">博客框架为Hexo_v5.4.0</span> <span class="comment">#徽标提示语</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">主题版本Butterfly_v3.8.2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://www.jsdelivr.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站使用JsDelivr为静态资源提供CDN加速</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://beian.miit.gov.cn/#/Integrated/index</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/湘ICP备-2022004213号-e1d492?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAACNlJREFUSInF1mmMVeUdx/Hv2e+5+519mJWBYQZkGxZZxLKJqBXGoLS1iXWrmihotFXaJiTWWlsbl6q1aetWd5u0VkKjNG4YEJSlOCibDLMwM8x679z9nnPP1jcVJUxf+7z6J8+LT37/Z4VvaQhfFS8+sBXbctCDGrVTKlBUH4mxAbI9Hfj0IJLsp6paJ5/tmn20N/D0wKDRMq9F/c3M2U1/V0vDfWMFh+tv/Ig1zYPMabDImPJ52OaXO87W580KggCiiOsJOJ6I3wcNFaaeNKxrt72f2fLGu4FpJ/sDQABRzD22fH7/Yze069vGc6mrDLNIJCDik10sxz2by3VdPM87xzkP9jwPTZFRVI1YUJKH+oy7n3tbvv/P2wW/UQxRWe6w4ZJRptYLHDoCuz8v5cP92XbI762O+h6UVWHnUFbPpU0fEb2A60mMJ7MUi9b/b7UgKhiZMaIxm8YLplLMDPz8hl/EH+rs8TNlUpFf32uyZJGLPDwCiTGUyTWodTN49eUCdz2YwXb9NNcObp1X98WDoufynzMVCEKGn27ayPTWBi5ad8P5iQUkJEnFLjqM9Z+hrVX0vfDe6K2dPRWsW2bwyp9EUifSJB84gdxrkR0eRgv1o/3I4fbbprJ6scqamzVO9pffec1S5ZWY2Nfz5qEy/FqOC2Y3s3j53HMSi18VRjFPwSwg+1RfVbl115vvJrsfej7UGIsYPPGgQ7JXoO+Xx5B3dHEomyJ9x1qiQozkr95h5937aFnVyouPlgJK+Ss7Fxz64OTSxSX+LHYxT2IsRW5kbGI4oHcR0jqoqTjV9se3I7/f8rS/ClS23GxSXhph6L5d9Akm7qqZhHWBQGUJ+CWGFzcg7e7m6D3/ZuW1Ea5YKdA3EojuONi813TqNi+YPYOKUhXDtCeGL26/hakLLiEcdsaHRkRAoLRc4fJrmhnekyF0apgZowWSwwkaa+rw3f8WA1GZZsPP5JEChX8dhZTN6iU6kAcs5s+dHd183SJ0VVKL57pfw6YdRQw23aeWTns47DPTALWlRTR7kMLew6hGgYqUhWXYFFUdPZ6lUBahLA8hVcOftckfi7No7VRAAQqsX1dybfvG1qwriM9mM5mJ4e4jO5Cc01dPqixbr8tWGBQUL4vjGigEEShi+xUmZ2RiR/sJ1pbS8NkgZrKAGw0TsgQsQyFaF/nfYTGprAlMFysbA1pI3mhkR6snhGsaymYGvPyFEb9IdbUE2AzFFTwpRqCtBY0wmdER+hZW4j63gcJj38V+/ErSUZXsYBfjIZHIRW0c2Z8BskCAqN+CbBJBFnyyKjR+Ez57nBxLqpfMUeSISElMBFz6x2Q6OxzWrYjyxWVzEewioU3LCS5vQY6nMUrLwNaxXvoQ59IloFSx54PPAZtQLExVZZDxsVE8J4dn6v4JYatgbSjk0owPw7RGH2ADMo88Z7L20ip8f7gC7fAo0q4+0rt7kEQDvaghVZbiPHUHcyeXcfLjT3jmpR7AYsnSScya3UR8bARVMck7Y/cB75/X6rDf3Fg2dw2jKZm5dXGm1LuAzO5DCo9v6aT0ibco5kzOvLOP+NGTFJtDpPYeZKijk/Rn3QxsfZV7txwhX7ABiZUXBsGvIvguQApNQQva9RMmTvZ2dpVUls+tX/UD7GN/Y8Ws05w6rQF+9vyzg1vZjbvMRJhXiRSU8DpTFFe0QE8S6SfPkOkZoktrB2oAhZWrwljxOPmchiSMYOWNoxNuruFU5vWeXdsojiUon345113dBBQBmTYlTimgdB8nfPo4WjaNFgN9OMEkJ02dnadVt5ki54Esqy+bzKJltVhSPbI3iN2zCyMTeXNCuG7Omm2Zok7PR2+R7jvD8ouruHhmCrB5jVZeYxLdrTP4sr4Vtd9g4MA4qc4c+6cu5NPamfw4P59t2WrA4YdXKkASf7SFivo6PDdEPmf1fRM++zp1bH/0r4I1dD1ODtOWaW4IsvPjL7nqXhloQiSPwjjgMYkMASyGEBkjhISCQwkwzve/18AbT+pk8pVY4UacQi9y+gyZ0eRAw4qHa89LXEx1LXMSPfhDJYRb59BtlLKg2WPT2l6qYl1svtGkrLYckyA1S+t5+2ATm37WCui0LSynsckDNH5zTxAchbQtkx08hDHYiW6NgC0enHBzEZ102UDH8QORdEckjEzZrNWkRydzyx17uGnDXqbUnGZ6dRPjSY91q2TqwjFuvTxLo5Zn5Qo/pumRSFcTLQtybEhGE0fQrDhhJ0VvH2lTnnHPhGtsmWan469apERjI2MH3qN7+7MEfH6ql29CbV7PvsMG32k6yU2XDhEKyZw66eJaRdrXR7CzCcqUNC3zwgymPJRCH4KRRLINimpL14A5Y4GDeOqbsPRVcfuN7Xj44pav/hFfrNT2kr2rsqf2Ibp5pEA14ZIImUyW3t5REkkTXRGQ/DGGhtLginhqCWknQDE5hKf5UFSF9Lj020Q2ul5V1AR2hr+8vuP8Vlc2zMPRxoSjnx7XBC14sDoydahSGq7KdO/HFyrBchxCVfX4fDKp4T7SCQejYODZLrYgIqgKFsNIgQqEYob8mW6yiUyb7Z64LVK/+B85xznnJ3AWzqTzuIX46mr5wLs+UUTyIriBCjRNxguHMJIFDLEEvXEOVRWnSJ0+jCd4CJoGjoedM1CLcXQziW3nMV2TSMBeOx7vWZvPt1r+cMPzE8KunaUkFn0vNrvtqXj34c1W6gzxlEQ6naIoBahtnkMwoFMwIVzSRNguMt53Aj2s4nkSlgPoGqLkICsRNF0gl8rYWuP8+11/w/OOJDEhHPKLCIpOXmi+M9AgP+maiesLifF2T1Rn5ZNj5Lo/Qc/GcPMmhdoqlEgIGzCK4PiCmJKK68p4KfF3qYGuF0qCRUkJTzleUbvQyWRTuE5xYthxQbBs7EISAbkzUFG3VfXXbK2YFi3X/eryfKKnqVBItNjJxDzH8erddC4SqWwcN5WyTtlyO1RP/Lh3eHD76MB40swmiDVJyDLYRhpc5+ub6tse/wWKbvSQEAw1awAAAABJRU5ErkJggg==</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站已在湘进行备案</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://github.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站项目由Github托管</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">http://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># swiper_css: https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper.min.css</span></span><br><span class="line">  <span class="comment"># swiper_js: https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper.min.js</span></span><br><span class="line">  <span class="comment"># swiperbdage_init_js: https://cdn.cbd.int/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>电子钟</p></blockquote><p>参考：<a href="https://akilar.top/posts/4e39cf4a/">https://akilar.top/posts/4e39cf4a/</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-butterfly-clock</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># electric_clock</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/4e39cf4a/</span></span><br><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">8</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">loading:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock/lib/loading.gif</span> <span class="comment">#加载动画自定义</span></span><br><span class="line">  <span class="comment"># clock_css: https://cdn.cbd.int/anzhiyu-blog@latest/css/clock.min.css</span></span><br><span class="line">  <span class="attr">clock_css:</span> <span class="string">/css/clock.min.css</span></span><br><span class="line">  <span class="attr">clock_js:</span> <span class="string">/js/clock.js</span></span><br><span class="line">  <span class="comment"># clock_js: https://cdn.cbd.int/anzhiyu-blog/js/clock.min.js</span></span><br><span class="line">  <span class="comment"># clock_js: https://cdn.cbd.int/hexo-butterfly-clock/lib/clock.min.js</span></span><br><span class="line">  <span class="attr">ip_api:</span> <span class="string">https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0</span></span><br><span class="line">  <span class="comment"># ip_api: https://pv.sohu.com/cityjson?ie=utf-8</span></span><br><span class="line">  <span class="comment"># ip_api: https://restapi.amap.com/v3/ip?key=e2b04289e870b005374ee030148d64fd&amp;s=rsv3</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>Gitcalendar</p></blockquote><p>参考：<a href="https://akilar.top/posts/1f9c68c9/">https://akilar.top/posts/1f9c68c9/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-gitcalendar --save</span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="comment"># butterfly挂载容器</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">anzhiyu-c</span> <span class="comment">#git用户名</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://python-github-calendar-api-spk83h666-anzhiyu-c.vercel.app&#x27;</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#桌面端最小高度</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#移动端最小高度</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot; #橘黄色调</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot;</span> <span class="comment">#浅紫色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#父元素容器，需要使用pug语法</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>Swiper Bar</p></blockquote><p>参考:<a href="https://akilar.top/posts/8e1264d1/">https://akilar.top/posts/8e1264d1/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure><p>配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/js/swiper.min.js</span> <span class="comment">#swiper js依赖 #swiper js依赖</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>hexo-butterfly-categories-card</p></blockquote><p>参考<a href="https://akilar.top/posts/a9131002/">https://akilar.top/posts/a9131002/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-categories-card --save</span><br></pre></td></tr></table></figure><p>配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-categories-card</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/a9131002/</span></span><br><span class="line"><span class="attr">categoryBar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">column:</span> <span class="string">odd</span> <span class="comment"># odd：3列 | even：4列</span></span><br><span class="line">  <span class="attr">row:</span> <span class="number">1</span> <span class="comment">#显示行数，默认两行，超过行数切换为滚动显示</span></span><br><span class="line">  <span class="attr">message:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">大学学习史</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover1.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">前端成长历程</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover2.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span> <span class="string">生活欢乐多</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover3.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover4.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover5.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">descr:</span></span><br><span class="line">      <span class="attr">cover:</span> <span class="string">https://cdn.cbd.int/akilar-candyassets/image/cover6.webp</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>友链朋友圈</p></blockquote><p>参考：<a href="https://akilar.top/posts/62f13a97/">https://akilar.top/posts/62f13a97/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-butterfly-fcircle --save</span><br><span class="line">npm install hexo-filter-fcircle --save</span><br></pre></td></tr></table></figure><p>配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fcircle</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/62f13a97/</span></span><br><span class="line"><span class="attr">fcircle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">https://hexo-friendcircle-api-ai9d4hwad-anzhiyu-c.vercel.app/api</span> <span class="comment">#api地址</span></span><br><span class="line">  <span class="attr">initnumber:</span> <span class="number">20</span> <span class="comment">#【可选】页面初始化展示文章数量</span></span><br><span class="line">  <span class="attr">stepnumber:</span> <span class="number">10</span> <span class="comment">#【可选】每次加载增加的篇数</span></span><br><span class="line">  <span class="attr">css:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/css/friend.min.css</span> <span class="comment">#【可选】开发者接口，自定义css链接</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://cdn.cbd.int/anzhiyu-blog@latest/js/fcircle.min.js</span> <span class="comment">#【可选】开发者接口，自定义js链接</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】fcircle的路径名称。默认为 fcircle，生成的页面为 fcircle/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】fcircle页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">朋友圈</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>魔改友人帐</p></blockquote><p>参考：<a href="https://akilar.top/posts/57291286/">https://akilar.top/posts/57291286/</a></p><p>替换 themes\butterfly\layout\includes\page\flink.pug</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#article-container</span><br><span class="line">  if top_img === false</span><br><span class="line">    h1.page-title= page.title</span><br><span class="line"></span><br><span class="line">  if (theme.flink_style === &#x27;butterfly&#x27;)</span><br><span class="line">    .flink</span><br><span class="line">      if site.data.link</span><br><span class="line">        each i in site.data.link</span><br><span class="line">          if i.class_name</span><br><span class="line">            h2!= i.class_name</span><br><span class="line">          if i.class_desc</span><br><span class="line">            .flink-desc!=i.class_desc</span><br><span class="line">          .flink-list</span><br><span class="line">            each item in i.link_list</span><br><span class="line">              .flink-list-item</span><br><span class="line">                a(href=url_for(item.link)  title=item.name target=&quot;_blank&quot;)</span><br><span class="line">                  if theme.lazyload.enable</span><br><span class="line">                    img(data-lazy-src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=item.name )</span><br><span class="line">                  else</span><br><span class="line">                    img(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=item.name )</span><br><span class="line">                  span.flink-item-name= item.name</span><br><span class="line">                  span.flink-item-desc(title=item.descr)= item.descr</span><br><span class="line">      != page.content</span><br><span class="line">  else if (theme.flink_style === &#x27;volantis&#x27;)</span><br><span class="line">    .flink</span><br><span class="line">      if site.data.link</span><br><span class="line">        each i in site.data.link</span><br><span class="line">          if i.class_name</span><br><span class="line">            h2!= i.class_name</span><br><span class="line">          if i.class_desc</span><br><span class="line">            .flink-desc!=i.class_desc</span><br><span class="line">          .site-card-group</span><br><span class="line">            each item in i.link_list</span><br><span class="line">              a.site-card(target=&#x27;_blank&#x27; rel=&#x27;noopener&#x27; href=url_for(item.link))</span><br><span class="line">                .img</span><br><span class="line">                  - var siteshot = item.siteshot ? url_for(item.siteshot) : &#x27;https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/&#x27; + item.link</span><br><span class="line">                  if theme.lazyload.enable</span><br><span class="line">                    img(data-lazy-src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  else</span><br><span class="line">                    img(src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                .info</span><br><span class="line">                  if theme.lazyload.enable</span><br><span class="line">                    img(data-lazy-src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  else</span><br><span class="line">                    img(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  span.title= item.name</span><br><span class="line">                  span.desc(title=item.descr)= item.descr</span><br><span class="line">      != page.content</span><br><span class="line">  else if (theme.flink_style === &#x27;flexcard&#x27;)</span><br><span class="line">    .flink</span><br><span class="line">      if site.data.link</span><br><span class="line">        each i in site.data.link</span><br><span class="line">          if i.class_name</span><br><span class="line">            h2!= i.class_name</span><br><span class="line">          if i.class_desc</span><br><span class="line">            .flink-desc!=i.class_desc</span><br><span class="line">          .flink-list</span><br><span class="line">            each item in i.link_list</span><br><span class="line">              a.flink-list-card(href=url_for(item.link) target=&#x27;_blank&#x27; data-title=item.descr)</span><br><span class="line">                .wrapper.cover</span><br><span class="line">                  - var siteshot = item.siteshot ? url_for(item.siteshot) : &#x27;https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/&#x27; + item.link</span><br><span class="line">                  if theme.lazyload.enable</span><br><span class="line">                    img.cover.fadeIn(data-lazy-src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  else</span><br><span class="line">                    img.cover.fadeIn(src=siteshot onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                .info</span><br><span class="line">                  if theme.lazyload.enable</span><br><span class="line">                    img.flink-avatar(data-lazy-src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  else</span><br><span class="line">                    img(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&#x27;&#x27; )</span><br><span class="line">                  span.flink-sitename= item.name</span><br><span class="line">      != page.content</span><br></pre></td></tr></table></figure><p>替换 themes\butterfly\source\css_page\flink.styl</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;butterfly&#x27;</span></span><br><span class="line">  .flink<span class="selector-id">#article-container</span></span><br><span class="line">    <span class="selector-class">.flink-desc</span></span><br><span class="line">      <span class="attribute">margin</span>: .<span class="number">2rem</span> <span class="number">0</span> .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.flink-list</span></span><br><span class="line">      <span class="attribute">overflow</span>: auto</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">text-align</span>: center</span><br><span class="line"></span><br><span class="line">      &amp; &gt; <span class="selector-class">.flink-list-item</span></span><br><span class="line">        <span class="attribute">position</span>: relative</span><br><span class="line">        <span class="attribute">float</span>: left</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">7px</span></span><br><span class="line">        <span class="attribute">width</span>: calc(<span class="number">100%</span> / <span class="number">3</span> - <span class="number">15px</span>)</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">90px</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">17px</span></span><br><span class="line">        -webkit-<span class="attribute">transform</span>: translateZ(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        +<span class="built_in">maxWidth1024</span>()</span><br><span class="line">          <span class="attribute">width</span>: calc(<span class="number">50%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">        +<span class="built_in">maxWidth600</span>()</span><br><span class="line">          <span class="attribute">width</span>: calc(<span class="number">100%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">        <span class="selector-pseudo">&amp;:focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">        <span class="selector-pseudo">&amp;:active</span><span class="selector-pseudo">:before</span></span><br><span class="line">          <span class="attribute">transform</span>: scale(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">color</span>: var(--font-color)</span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">float</span>: left</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">10px</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">60px</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">60px</span></span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">35px</span></span><br><span class="line">            <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.img-alt</span></span><br><span class="line">            <span class="attribute">display</span>: none</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.flink-item-name</span></span><br><span class="line">            <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">            <span class="attribute">display</span>: block</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">            <span class="attribute">font-weight</span>: bold</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">1.43em</span></span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.flink-item-desc</span></span><br><span class="line">            <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">            <span class="attribute">display</span>: block</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">16px</span> <span class="number">0</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">50px</span></span><br><span class="line">            <span class="attribute">font-size</span>: .<span class="number">93em</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;volantis&#x27;</span></span><br><span class="line">  <span class="built_in">trans</span>(<span class="variable">$time</span> = <span class="number">0.28s</span>)</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="variable">$time</span> ease</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all <span class="variable">$time</span> ease</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all <span class="variable">$time</span> ease</span><br><span class="line">    -o-<span class="attribute">transition</span>: all <span class="variable">$time</span> ease</span><br><span class="line">  <span class="selector-class">.site-card-group</span></span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-start</span><br><span class="line">    <span class="attribute">margin</span>: -<span class="number">0.5</span> * <span class="number">16px</span></span><br><span class="line">    <span class="attribute">align-items</span>: stretch</span><br><span class="line">  <span class="selector-class">.site-card</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">16px</span> * <span class="number">0.5</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="string">&quot;calc(100% / 4 - %s)&quot;</span> % <span class="number">16px</span></span><br><span class="line">    <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">2048px</span>)</span><br><span class="line">        <span class="attribute">width</span>: &quot;calc(<span class="number">100%</span> / <span class="number">5</span> - %s)&quot; % <span class="number">16px</span></span><br><span class="line">    @media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>)</span><br><span class="line">        <span class="attribute">width</span>: &quot;calc(<span class="number">100%</span> / <span class="number">3</span> - %s)&quot; % <span class="number">16px</span></span><br><span class="line">    @media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">500px</span>)</span><br><span class="line">        <span class="attribute">width</span>: &quot;calc(<span class="number">100%</span> / <span class="number">2</span> - %s)&quot; % <span class="number">16px</span></span><br><span class="line">    display: block</span><br><span class="line">    line-height: <span class="number">1.4</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">    .img</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">120px</span></span><br><span class="line">      @media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">500px</span>)</span><br><span class="line">        <span class="attribute">height</span> <span class="number">100px</span></span><br><span class="line">      overflow: hidden</span><br><span class="line">      border-radius: <span class="number">12px</span> * <span class="number">0.5</span></span><br><span class="line">      box-shadow: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>)</span><br><span class="line">      background: #f6f6f6</span><br><span class="line">      img</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">        // trans(.<span class="number">75s</span>)</span><br><span class="line">        transition: transform <span class="number">2s</span> ease</span><br><span class="line">        object-fit: cover</span><br><span class="line"></span><br><span class="line">    .info</span><br><span class="line">      margin-top: <span class="number">16px</span> * <span class="number">0.5</span></span><br><span class="line">      img</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">32px</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">32px</span></span><br><span class="line">        border-radius: <span class="number">16px</span></span><br><span class="line">        float: left</span><br><span class="line">        margin-right: <span class="number">8px</span></span><br><span class="line">        margin-top: <span class="number">2px</span></span><br><span class="line">      span</span><br><span class="line">        display: block</span><br><span class="line">      .title</span><br><span class="line">        font-weight: <span class="number">600</span></span><br><span class="line">        font-size: $fontsize-list</span><br><span class="line">        <span class="attribute">color</span>: #<span class="number">444</span></span><br><span class="line">        display: -webkit-box</span><br><span class="line">        -webkit-box-orient: vertical</span><br><span class="line">        overflow: hidden</span><br><span class="line">        -webkit-line-clamp: <span class="number">1</span></span><br><span class="line">        trans()</span><br><span class="line">      .desc</span><br><span class="line">        font-size: $fontsize-footnote</span><br><span class="line">        word-wrap: break-word;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.2</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#888</span></span><br><span class="line">        <span class="attribute">display</span>: -webkit-box</span><br><span class="line">        -webkit-box-orient: vertical</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        -webkit-line-clamp: <span class="number">2</span></span><br><span class="line">    <span class="selector-class">.img</span></span><br><span class="line">      <span class="built_in">trans</span>()</span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-class">.img</span></span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>)</span><br><span class="line">      <span class="selector-class">.info</span> <span class="selector-class">.title</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#ff5722</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;flink_style&#x27;</span>) == <span class="string">&#x27;flexcard&#x27;</span></span><br><span class="line">  <span class="selector-id">#article-container</span> <span class="selector-tag">img</span></span><br><span class="line">        <span class="attribute">margin</span> <span class="number">0</span> auto<span class="meta">!important</span></span><br><span class="line">  <span class="selector-class">.flink-list</span></span><br><span class="line">    <span class="attribute">overflow</span> auto</span><br><span class="line">    &amp; &gt; <span class="selector-tag">a</span></span><br><span class="line">      <span class="attribute">width</span> calc(<span class="number">25%</span> - <span class="number">15px</span>)</span><br><span class="line">      <span class="attribute">height</span> <span class="number">130px</span></span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="attribute">display</span> block</span><br><span class="line">      <span class="attribute">margin</span> <span class="number">15px</span> <span class="number">7px</span></span><br><span class="line">      <span class="attribute">float</span> left</span><br><span class="line">      <span class="attribute">overflow</span> hidden</span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">      <span class="attribute">transition</span> all .<span class="number">3s</span> ease <span class="number">0s</span>, transform .<span class="number">6s</span> cubic-bezier(.<span class="number">6</span>, .<span class="number">2</span>, .<span class="number">1</span>, <span class="number">1</span>) <span class="number">0s</span></span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">14px</span> <span class="number">38px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">08</span>), <span class="number">0</span> <span class="number">3px</span> <span class="number">8px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">06</span>)</span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-class">.info</span></span><br><span class="line">          <span class="attribute">transform</span> translateY(-<span class="number">100%</span>)</span><br><span class="line">        <span class="selector-class">.wrapper</span></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">transform</span> scale(<span class="number">1.2</span>)</span><br><span class="line">      <span class="selector-class">.cover</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">transition</span> transform .<span class="number">5s</span> ease-out</span><br><span class="line">      <span class="selector-class">.wrapper</span></span><br><span class="line">        <span class="attribute">position</span> relative</span><br><span class="line">        <span class="selector-class">.fadeIn</span></span><br><span class="line">          <span class="attribute">animation</span> coverIn .<span class="number">8s</span> ease-out forwards</span><br><span class="line">        <span class="selector-tag">img</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">130px</span></span><br><span class="line">          <span class="attribute">pointer-events</span> none</span><br><span class="line">      <span class="selector-class">.info</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">flex-direction</span> column</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">        <span class="attribute">overflow</span> hidden</span><br><span class="line">        <span class="attribute">border-radius</span> <span class="number">3px</span></span><br><span class="line">        <span class="attribute">background-color</span> hsla(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">7</span>)</span><br><span class="line">        <span class="attribute">transition</span> transform .<span class="number">5s</span> cubic-bezier(.<span class="number">6</span>, .<span class="number">2</span>, .<span class="number">1</span>, <span class="number">1</span>) <span class="number">0s</span></span><br><span class="line">        <span class="selector-tag">img</span></span><br><span class="line">          <span class="attribute">position</span> relative</span><br><span class="line">          <span class="attribute">top</span> <span class="number">22px</span> //因为字体大小不同，可能导致头像偏高，可以在此处通过修改top的值来微调头像框的位置至卡片正中。</span><br><span class="line">          <span class="attribute">width</span> <span class="number">66px</span></span><br><span class="line">          <span class="attribute">height</span> <span class="number">66px</span></span><br><span class="line">          <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">          <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">3</span>)</span><br><span class="line">          <span class="attribute">z-index</span> <span class="number">1</span></span><br><span class="line">          <span class="attribute">text-align</span> center</span><br><span class="line">          <span class="attribute">pointer-events</span> none</span><br><span class="line">        <span class="selector-tag">span</span></span><br><span class="line">          <span class="attribute">padding</span> <span class="number">20px</span> <span class="number">10%</span> <span class="number">60px</span> <span class="number">10%</span></span><br><span class="line">          <span class="attribute">font-size</span> <span class="number">16px</span></span><br><span class="line">          <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">          <span class="attribute">text-align</span> center</span><br><span class="line">          <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">3</span>)</span><br><span class="line">          <span class="attribute">background-color</span> hsla(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">7</span>)</span><br><span class="line">          <span class="attribute">color</span> var(--font-color)</span><br><span class="line">          <span class="attribute">white-space</span> nowrap</span><br><span class="line">          <span class="attribute">overflow</span> hidden</span><br><span class="line">          <span class="attribute">text-overflow</span> ellipsis</span><br><span class="line">  .flink-list&gt;<span class="selector-tag">a</span> <span class="selector-class">.info</span>,</span><br><span class="line">  .flink-list&gt;<span class="selector-tag">a</span> <span class="selector-class">.wrapper</span> <span class="selector-class">.cover</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">1024px</span>)</span><br><span class="line">    .flink-list</span><br><span class="line">      &amp; &gt; a</span><br><span class="line">        <span class="attribute">width</span> calc(<span class="number">33.33333%</span> - <span class="number">15px</span>)</span><br><span class="line"></span><br><span class="line">  @media screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">600px</span>)</span><br><span class="line">    .flink-list</span><br><span class="line">      &amp; &gt; a</span><br><span class="line">        <span class="attribute">width</span> calc(<span class="number">50%</span> - <span class="number">15px</span>)</span><br><span class="line"></span><br><span class="line">  [data-theme=dark]</span><br><span class="line">    .flink-list a .info,</span><br><span class="line">    .flink-list a .info span</span><br><span class="line">      background-color rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">6</span>)</span><br><span class="line">    .flink-list</span><br><span class="line">      &amp; &gt; a</span><br><span class="line">        &amp;:<span class="attribute">hover</span></span><br><span class="line">          &amp;:before</span><br><span class="line">            background-color: rgba(#<span class="number">121212</span>,<span class="number">0.8</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 友链样式，butterfly为默认样式，volantis为站点卡片样式.flexcard为弹性卡片样式</span></span><br><span class="line"><span class="attr">flink_style:</span> <span class="string">flexcard</span> <span class="comment"># butterfly | volantis | flexcard</span></span><br></pre></td></tr></table></figure></li><li><blockquote><p>字数统计</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure></li><li><blockquote><p>使用 github-action 推送博客部署仓库至 NPM</p></blockquote><p>参考：<a href="https://akilar.top/posts/e82444a6/">https://akilar.top/posts/e82444a6/</a></p></li><li><blockquote><p>引入阿里图标</p></blockquote><p>参考<a href="https://akilar.top/posts/d2ebecef/">https://akilar.top/posts/d2ebecef/</a></p><p>添加外挂标签，在<code>[Blogroot]\themes\butterfly\scripts\tag\</code>目录下新建<code>iconfont.js</code>，打开<code>[Blogroot]\themes\butterfly\scripts\tag\iconfont.js</code>,输入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">iconFont</span>(<span class="params">args</span>) &#123;</span><br><span class="line">  args = args.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> p0 = args[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">let</span> p1 = args[<span class="number">1</span>] ? args[<span class="number">1</span>] : <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;svg class=&quot;icon&quot; style=&quot;width:<span class="subst">$&#123;p1&#125;</span>em; height:<span class="subst">$&#123;p1&#125;</span>em&quot; aria-hidden=&quot;true&quot;&gt;&lt;use xlink:href=&quot;#<span class="subst">$&#123;p0&#125;</span>&quot;&gt;&lt;/use&gt;&lt;/svg&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">tag</span>.<span class="title function_">register</span>(<span class="string">&#x27;icon&#x27;</span>, iconFont);</span><br></pre></td></tr></table></figure></li><li><blockquote><p>站点动态 title</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动态标题</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;</span><br><span class="line">    <span class="comment">//离开当前页面时标签显示内容</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;w(ﾟДﾟ)w 不要走！再看看嘛！&#x27;</span>;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//返回当前页面时标签显示内容</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;♪(^∇^*)欢迎肥来！&#x27;</span> + <span class="title class_">OriginTitile</span>;</span><br><span class="line">    <span class="comment">//两秒后变回正常标题</span></span><br><span class="line">    titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span>;</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><blockquote><p>时间轴生肖</p></blockquote><p>参考<a href="https://akilar.top/posts/22257072/">https://akilar.top/posts/22257072/</a></p><p>在<code>[Blogroot]\themes\butterfly\scripts\</code>目录下新建<code>year.js</code>，并在<code>[Blogroot]\themes\butterfly\scripts\year.js</code>中输入以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&#x27;getAnimalIcon&#x27;</span>, <span class="keyword">function</span> (<span class="params">year</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="built_in">parseInt</span>(year) % <span class="number">12</span>;</span><br><span class="line">  <span class="keyword">var</span> icon = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">&#x27;icon-monkey&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">&#x27;icon-rooster&#x27;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&#x27;icon-dog&#x27;</span>,</span><br><span class="line">    <span class="number">3</span>: <span class="string">&#x27;icon-boar&#x27;</span>,</span><br><span class="line">    <span class="number">4</span>: <span class="string">&#x27;icon-rat&#x27;</span>,</span><br><span class="line">    <span class="number">5</span>: <span class="string">&#x27;icon-ox&#x27;</span>,</span><br><span class="line">    <span class="number">6</span>: <span class="string">&#x27;icon-tiger&#x27;</span>,</span><br><span class="line">    <span class="number">7</span>: <span class="string">&#x27;icon-rabbit&#x27;</span>,</span><br><span class="line">    <span class="number">8</span>: <span class="string">&#x27;icon-dragon&#x27;</span>,</span><br><span class="line">    <span class="number">9</span>: <span class="string">&#x27;icon-snake&#x27;</span>,</span><br><span class="line">    <span class="number">10</span>: <span class="string">&#x27;icon-horse&#x27;</span>,</span><br><span class="line">    <span class="number">11</span>: <span class="string">&#x27;icon-goat&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> icon[index];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\mixins\article-sort.pug</code>，第 7 行开始，注意缩进。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    - let title = article.title || _p(&#x27;no_title&#x27;)</span><br><span class="line"><span class="addition">+   - let iconAnimal = &#x27;#&#x27;+ getAnimalIcon(tempYear)</span></span><br><span class="line">    if tempYear !== year</span><br><span class="line">      - year = tempYear</span><br><span class="line"><span class="deletion">-     .article-sort-item.year= year</span></span><br><span class="line"><span class="addition">+     .article-sort-item.year</span></span><br><span class="line"><span class="addition">+       span= year</span></span><br><span class="line"><span class="addition">+       svg.icon(aria-hidden=&#x27;true&#x27;)</span></span><br><span class="line"><span class="addition">+         use(xlink:href=iconAnimal)</span></span><br><span class="line">    .article-sort-item(class=no_cover)</span><br><span class="line">      if article.cover &amp;&amp; theme.cover.archives_enable</span><br></pre></td></tr></table></figure></li><li><blockquote><p>打赏按钮投币彩蛋效果</p></blockquote><p>参考：<a href="https://akilar.top/posts/23fdf850/#%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE%E6%8A%95%E5%B8%81%E5%BD%A9%E8%9B%8B%E6%95%88%E6%9E%9C">https://akilar.top/posts/23fdf850/#%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE%E6%8A%95%E5%B8%81%E5%BD%A9%E8%9B%8B%E6%95%88%E6%9E%9C</a></p><p>修改<code>[Blogroot]\themes\butterfly\languages\zh-CN.yml</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">date_suffix:</span><br><span class="line">  just: 刚刚</span><br><span class="line">  min: 分钟前</span><br><span class="line">  hour: 小时前</span><br><span class="line">  day: 天前</span><br><span class="line">  month: 个月前</span><br><span class="line"></span><br><span class="line"><span class="deletion">- donate: 打赏</span></span><br><span class="line"><span class="addition">+ donate: 不给糖果就捣蛋</span></span><br><span class="line">share: 分享</span><br></pre></td></tr></table></figure><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\post\reward.pug</code>,整体替换为以下内容：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">link(rel=<span class="string">&#x27;stylesheet&#x27;</span> href=url_for(theme.CDN.option.coin_css) media=<span class="string">&quot;defer&quot;</span> onload=<span class="string">&quot;this.media=&#x27;all&#x27;&quot;</span>)</span><br><span class="line">.post-reward</span><br><span class="line">  button.tip-button.reward-button</span><br><span class="line">    span.tip-button__text= _p(<span class="string">&#x27;donate&#x27;</span>)</span><br><span class="line">    .coin-wrapper</span><br><span class="line">      .coin</span><br><span class="line">        .coin__middle</span><br><span class="line">        .coin__back</span><br><span class="line">        .coin__front</span><br><span class="line">    .reward-main</span><br><span class="line">      ul.reward-<span class="built_in">all</span></span><br><span class="line">        each item <span class="keyword">in</span> theme.reward.QR_code</span><br><span class="line">          - var clickTo = (item.itemlist||item).link ? (item.itemlist||item).link : (item.itemlist||item).img</span><br><span class="line">          li.reward-item</span><br><span class="line">            a(href=clickTo target=<span class="string">&#x27;_blank&#x27;</span>)</span><br><span class="line">              img.post-qr-code-img(src=url_for((item.itemlist||item).img) alt=(item.itemlist||item).text)</span><br><span class="line">            .post-qr-code-desc=(item.itemlist||item).text</span><br><span class="line"><span class="keyword">if</span> theme.reward.coinAudio</span><br><span class="line">  - var coinAudio = theme.reward.coinAudio ? url_for(theme.reward.coinAudio) : <span class="string">&#x27;https://cdn.cbd.int/akilar-candyassets@1.0.16/audio/coin.mp3&#x27;</span></span><br><span class="line">  audio<span class="comment">#coinAudio(src=coinAudio)</span></span><br><span class="line">script(defer src=url_for(theme.CDN.option.coin_js))</span><br></pre></td></tr></table></figure><p>新建<code>[Blogroot]source\css\coin.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tip-button</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.6rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">0%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">50ms</span> ease-in-out;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  -webkit-tap-highlight-<span class="attribute">color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">4deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: <span class="number">150ms</span> ease-in-out <span class="number">1</span> shake;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> <span class="selector-class">.tip-button__text</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">200ms</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">  <span class="attribute">background</span>: $button-hover-color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> <span class="selector-class">.coin</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: margin-bottom <span class="number">1s</span> linear <span class="number">200ms</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.shrink-landing</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: width <span class="number">200ms</span> ease-in;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.coin-landed</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.coin-landed</span> <span class="selector-class">.coin-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">35%</span> <span class="number">97%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>, transparent <span class="number">0.04rem</span>), <span class="built_in">radial-gradient</span>(</span><br><span class="line">      circle at <span class="number">45%</span> <span class="number">92%</span>,</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>,</span><br><span class="line">      transparent <span class="number">0.02rem</span></span><br><span class="line">    ), <span class="built_in">radial-gradient</span>(circle at <span class="number">55%</span> <span class="number">98%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>, transparent <span class="number">0.04rem</span>), <span class="built_in">radial-gradient</span>(circle</span><br><span class="line">        at <span class="number">65%</span> <span class="number">96%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.06rem</span>, transparent <span class="number">0.06rem</span>);</span><br><span class="line">  <span class="attribute">background-position</span>: center bottom;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2</span>) <span class="built_in">translateY</span>(-<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button__text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">1.8rem</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">500ms</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transition</span>: height <span class="number">250ms</span> ease-in-out <span class="number">400ms</span>, width <span class="number">250ms</span> ease-in-out <span class="number">300ms</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;ヾ(≧O≦)〃嗷~&#x27;</span>; <span class="comment">/*点击后显示的内容*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">110%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">200ms</span> <span class="built_in">cubic-bezier</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>, <span class="number">1.43</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coin-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: none;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">transform</span>: none;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">200ms</span> linear <span class="number">100ms</span>, transform <span class="number">300ms</span> ease-out;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coin</span> &#123;</span><br><span class="line">  <span class="attr">--front-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--back-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-x-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-scale-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-rotation-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--shine-opacity-multiplier</span>: <span class="number">0.4</span>;</span><br><span class="line">  <span class="attr">--shine-bg-multiplier</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-y-multiplier) * <span class="number">1rem</span> - <span class="number">3.5rem</span>);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">3.05rem</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-x-multiplier) * <span class="number">34%</span> + <span class="number">16%</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">50%</span>) <span class="built_in">scale</span>(<span class="built_in">calc</span>(<span class="number">0.4</span> + <span class="built_in">var</span>(--coin-scale-multiplier))) <span class="built_in">rotate</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(</span><br><span class="line">            --coin-rotation-multiplier</span><br><span class="line">          ) * -<span class="number">1deg</span>));</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">200ms</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span>,</span><br><span class="line"><span class="selector-class">.coin__middle</span>,</span><br><span class="line"><span class="selector-class">.coin__back</span>,</span><br><span class="line"><span class="selector-class">.coin</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.coin__front</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.coin__back</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">50%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">115</span>, <span class="number">124</span>, <span class="number">153</span>, <span class="number">0.4</span>) <span class="number">54%</span>, <span class="number">#c2cadf</span> <span class="number">54%</span>),</span><br><span class="line">    <span class="built_in">linear-gradient</span>(<span class="number">210deg</span>, <span class="number">#8590b3</span> <span class="number">32%</span>, transparent <span class="number">32%</span>), <span class="built_in">linear-gradient</span>(<span class="number">150deg</span>, <span class="number">#8590b3</span> <span class="number">32%</span>, transparent <span class="number">32%</span>),</span><br><span class="line">    <span class="built_in">linear-gradient</span>(to right, <span class="number">#8590b3</span> <span class="number">22%</span>, transparent <span class="number">22%</span>, transparent <span class="number">78%</span>, <span class="number">#8590b3</span> <span class="number">78%</span>), <span class="built_in">linear-gradient</span>(</span><br><span class="line">      to bottom,</span><br><span class="line">      <span class="number">#fcfaf9</span> <span class="number">44%</span>,</span><br><span class="line">      transparent <span class="number">44%</span>,</span><br><span class="line">      transparent <span class="number">65%</span>,</span><br><span class="line">      <span class="number">#fcfaf9</span> <span class="number">65%</span>,</span><br><span class="line">      <span class="number">#fcfaf9</span> <span class="number">71%</span>,</span><br><span class="line">      <span class="number">#8590b3</span> <span class="number">71%</span></span><br><span class="line">    ), <span class="built_in">linear-gradient</span>(to right, transparent <span class="number">28%</span>, <span class="number">#fcfaf9</span> <span class="number">28%</span>, <span class="number">#fcfaf9</span> <span class="number">34%</span>, <span class="number">#8590b3</span> <span class="number">34%</span>, <span class="number">#8590b3</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span></span><br><span class="line">        <span class="number">47%</span>, <span class="number">#8590b3</span> <span class="number">47%</span>, <span class="number">#8590b3</span> <span class="number">53%</span>, <span class="number">#fcfaf9</span> <span class="number">53%</span>, <span class="number">#fcfaf9</span> <span class="number">60%</span>, <span class="number">#8590b3</span> <span class="number">60%</span>, <span class="number">#8590b3</span> <span class="number">66%</span>, <span class="number">#fcfaf9</span> <span class="number">66%</span>, <span class="number">#fcfaf9</span> <span class="number">72%</span>, transparent</span><br><span class="line">        <span class="number">72%</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#8590b3</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--front-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--front-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--front-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__middle</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#737c99</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--middle-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(</span><br><span class="line">      <span class="built_in">var</span>(--middle-scale-multiplier)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__back</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">50%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">115</span>, <span class="number">124</span>, <span class="number">153</span>, <span class="number">0.4</span>) <span class="number">54%</span>, <span class="number">#c2cadf</span> <span class="number">54%</span>),</span><br><span class="line">    <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span> <span class="number">23%</span>, transparent <span class="number">23%</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">100%</span>, <span class="number">#fcfaf9</span></span><br><span class="line">        <span class="number">35%</span>, transparent <span class="number">35%</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#8590b3</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--back-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--back-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__back</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--back-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">25%</span> <span class="number">65%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>) <span class="number">90%</span>), <span class="built_in">linear-gradient</span>(<span class="number">55deg</span>, transparent</span><br><span class="line">        <span class="built_in">calc</span>(<span class="built_in">var</span>(--shine-bg-multiplier) + <span class="number">0%</span>), <span class="number">#e9f4ff</span> <span class="built_in">calc</span>(<span class="built_in">var</span>(--shine-bg-multiplier) + <span class="number">0%</span>), transparent <span class="built_in">calc</span>(<span class="built_in">var</span>(</span><br><span class="line">              --shine-bg-multiplier</span><br><span class="line">            ) + <span class="number">50%</span>));</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--shine-opacity-multiplier);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--middle-y-multiplier) * <span class="number">0.3181818182rem</span> / -<span class="number">2</span>)) <span class="built_in">scaleY</span>(</span><br><span class="line">      <span class="built_in">var</span>(--middle-scale-multiplier)</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">rotate</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-rotation-multiplier) * <span class="number">1deg</span>));</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#737c99</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0.3181818182rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> shake &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">4deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">66%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">4deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[Blogroot]\source\js\coin.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tipButtons = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.tip-button&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">coinAudio</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> coinAudio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;coinAudio&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (coinAudio) &#123;</span><br><span class="line">    coinAudio.<span class="title function_">play</span>(); <span class="comment">//有音频时播放</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Loop through all buttons (allows for multiple buttons on page)</span></span><br><span class="line">tipButtons.<span class="title function_">forEach</span>(<span class="function"><span class="params">button</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> coin = button.<span class="title function_">querySelector</span>(<span class="string">&#x27;.coin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// The larger the number, the slower the animation</span></span><br><span class="line">  coin.<span class="property">maxMoveLoopCount</span> = <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line">  button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/Android|webOS|BlackBerry/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>)) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//媒体选择</span></span><br><span class="line">    <span class="keyword">if</span> (button.<span class="property">clicked</span>) <span class="keyword">return</span>;</span><br><span class="line">    button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;clicked&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Wait to start flipping th coin because of the button tilt animation</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// Randomize the flipping speeds just for fun</span></span><br><span class="line">      coin.<span class="property">sideRotationCount</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">5</span>) * <span class="number">90</span>;</span><br><span class="line">      coin.<span class="property">maxFlipAngle</span> = (<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">4</span>) + <span class="number">3</span>) * <span class="title class_">Math</span>.<span class="property">PI</span>;</span><br><span class="line">      button.<span class="property">clicked</span> = <span class="literal">true</span>;</span><br><span class="line">      <span class="title function_">flipCoin</span>();</span><br><span class="line">      <span class="title function_">coinAudio</span>();</span><br><span class="line">    &#125;, <span class="number">50</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">flipCoin</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">moveLoopCount</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="title function_">flipCoinLoop</span>();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">resetCoin</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-x-multiplier&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-scale-multiplier&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-rotation-multiplier&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-opacity-multiplier&#x27;</span>, <span class="number">0.4</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-bg-multiplier&#x27;</span>, <span class="string">&#x27;50%&#x27;</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;opacity&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// Delay to give the reset animation some time before you can click again</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      button.<span class="property">clicked</span> = <span class="literal">false</span>;</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">flipCoinLoop</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">moveLoopCount</span>++;</span><br><span class="line">    <span class="keyword">var</span> percentageCompleted = coin.<span class="property">moveLoopCount</span> / coin.<span class="property">maxMoveLoopCount</span>;</span><br><span class="line">    coin.<span class="property">angle</span> = -coin.<span class="property">maxFlipAngle</span> * <span class="title class_">Math</span>.<span class="title function_">pow</span>(percentageCompleted - <span class="number">1</span>, <span class="number">2</span>) + coin.<span class="property">maxFlipAngle</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Calculate the scale and position of the coin moving through the air</span></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-y-multiplier&#x27;</span>, -<span class="number">11</span> * <span class="title class_">Math</span>.<span class="title function_">pow</span>(percentageCompleted * <span class="number">2</span> - <span class="number">1</span>, <span class="number">4</span>) + <span class="number">11</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-x-multiplier&#x27;</span>, percentageCompleted);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-scale-multiplier&#x27;</span>, percentageCompleted * <span class="number">0.6</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-rotation-multiplier&#x27;</span>, percentageCompleted * coin.<span class="property">sideRotationCount</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Calculate the scale and position values for the different coin faces</span></span><br><span class="line">    <span class="comment">// The math uses sin/cos wave functions to similate the circular motion of 3D spin</span></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--front-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span>), <span class="number">0</span>));</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--front-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">sin</span>(coin.<span class="property">angle</span>));</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--middle-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span>), <span class="number">0</span>));</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--middle-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">cos</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>));</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--back-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span> - <span class="title class_">Math</span>.<span class="property">PI</span>), <span class="number">0</span>));</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--back-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">sin</span>(coin.<span class="property">angle</span> - <span class="title class_">Math</span>.<span class="property">PI</span>));</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-opacity-multiplier&#x27;</span>, <span class="number">4</span> * <span class="title class_">Math</span>.<span class="title function_">sin</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>) - <span class="number">3.2</span>);</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(</span><br><span class="line">      <span class="string">&#x27;--shine-bg-multiplier&#x27;</span>,</span><br><span class="line">      -<span class="number">40</span> * (<span class="title class_">Math</span>.<span class="title function_">cos</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>) - <span class="number">0.5</span>) + <span class="string">&#x27;%&#x27;</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Repeat animation loop</span></span><br><span class="line">    <span class="keyword">if</span> (coin.<span class="property">moveLoopCount</span> &lt; coin.<span class="property">maxMoveLoopCount</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (coin.<span class="property">moveLoopCount</span> === coin.<span class="property">maxMoveLoopCount</span> - <span class="number">6</span>) button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;shrink-landing&#x27;</span>);</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(flipCoinLoop);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;coin-landed&#x27;</span>);</span><br><span class="line">      coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;opacity&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        button.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;clicked&#x27;</span>, <span class="string">&#x27;shrink-landing&#x27;</span>, <span class="string">&#x27;coin-landed&#x27;</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">resetCoin</span>();</span><br><span class="line">        &#125;, <span class="number">300</span>);</span><br><span class="line">      &#125;, <span class="number">1500</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>修改<code>_config.butterfly.yml</code>,添加音频文件配置项，添加 CDN 配置项：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">  # Sponsor/reward</span><br><span class="line">  reward:</span><br><span class="line">    enable: true</span><br><span class="line"><span class="addition">+   coinAudio: https://cdn.cbd.int/akilar-candyassets@1.0.16/audio/coin.mp3</span></span><br><span class="line">    QR_code:</span><br><span class="line">    。</span><br><span class="line">    。</span><br><span class="line">    。</span><br><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://cdn.cbd.int/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: /js/main.js</span><br><span class="line">    utils:/js/utils.js</span><br><span class="line">    option:</span><br><span class="line">    +    # 打赏按钮投币效果</span><br><span class="line">    +   coin_js: /js/coin.js</span><br><span class="line">    +   coin_css: /css/coin.css</span><br></pre></td></tr></table></figure><p>现在的打赏按钮样式需要稍作适配，当前若提示语太长，悬停时会无法显示完全。需要微调一下,修改<code>[Blogroot]\themes\butterfly\source\css\_layout\reward.styl</code>，整体替换为以下内容：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-reward</span></span><br><span class="line">  <span class="attribute">position</span>: relative</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4rem</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">text-align</span>: center</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.reward-button</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">2rem</span> <span class="number">1.2rem</span></span><br><span class="line">    <span class="attribute">background</span>: var(--btn-bg)</span><br><span class="line">    <span class="attribute">color</span>: var(--btn-color)</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">4s</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: inset <span class="number">15em</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> var(--btn-hover-color)</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.reward-main</span></span><br><span class="line">        <span class="attribute">display</span>: block</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.reward-main</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">40px</span></span><br><span class="line">      <span class="attribute">left</span>: -<span class="number">25%</span></span><br><span class="line">      <span class="attribute">z-index</span>: <span class="number">100</span></span><br><span class="line">      <span class="attribute">display</span>: none</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">150%</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.reward-all</span></span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">1rem</span> .<span class="number">5rem</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span></span><br><span class="line">        <span class="attribute">background</span>: var(--reward-pop)</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">          <span class="attribute">position</span>: absolute</span><br><span class="line">          <span class="attribute">bottom</span>: -<span class="number">10px</span></span><br><span class="line">          <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">20px</span></span><br><span class="line">          <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">          <span class="attribute">position</span>: absolute</span><br><span class="line">          <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">bottom</span>: <span class="number">2px</span></span><br><span class="line">          <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> auto</span><br><span class="line">          <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">border-top</span>: <span class="number">13px</span> solid var(--reward-pop)</span><br><span class="line">          <span class="attribute">border-right</span>: <span class="number">13px</span> solid transparent</span><br><span class="line">          <span class="attribute">border-left</span>: <span class="number">13px</span> solid transparent</span><br><span class="line">          <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.reward-item</span></span><br><span class="line">          <span class="attribute">display</span>: inline-block</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">8px</span></span><br><span class="line">          <span class="attribute">list-style-type</span>: none</span><br><span class="line">          <span class="attribute">vertical-align</span>: top</span><br><span class="line"></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">130px</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">130px</span></span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.post-qr-code-desc</span></span><br><span class="line">            <span class="attribute">padding-top</span>: .<span class="number">4rem</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">130px</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="variable">$reward</span>-pop-up-color</span><br></pre></td></tr></table></figure><p>还可以针对自己的情况适度调整以下内容：</p><ul><li><p>修改悬停打赏按钮时的颜色填充长度：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  .reward-button</span><br><span class="line">    display: inline-block</span><br><span class="line">    padding: .2rem 1.2rem</span><br><span class="line">    background: var(--btn-bg)</span><br><span class="line">    color: var(--btn-color)</span><br><span class="line">    cursor: pointer</span><br><span class="line">    transition: all .4s</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line"><span class="deletion">-     box-shadow: inset 9em 0 0 0 var(--btn-hover-color)</span></span><br><span class="line"><span class="addition">+     box-shadow: inset 20em 0 0 0 var(--btn-hover-color)</span></span><br></pre></td></tr></table></figure></li><li><p>修改打赏二维码的样式（仅针对 2 张二维码的情况，单张不用改动。两张以上需要自己调试这两个参数）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  .reward-main</span><br><span class="line">    position: absolute</span><br><span class="line">    bottom: 40px</span><br><span class="line"><span class="deletion">-   left: 0</span></span><br><span class="line"><span class="addition">+   left: -25%</span></span><br><span class="line">    z-index: 100</span><br><span class="line">    display: none</span><br><span class="line">    padding: 0 0 15px</span><br><span class="line"><span class="deletion">-   width: 100%</span></span><br><span class="line"><span class="addition">+   width: 150%</span></span><br></pre></td></tr></table></figure></li></ul></li><li><blockquote><p>每页单独配置背景图</p></blockquote><p>参考：<a href="https://akilar.top/posts/23fdf850/#%E6%AF%8F%E9%A1%B5%E5%8D%95%E7%8B%AC%E9%85%8D%E7%BD%AE%E8%83%8C%E6%99%AF%E5%9B%BE">https://akilar.top/posts/23fdf850/#%E6%AF%8F%E9%A1%B5%E5%8D%95%E7%8B%AC%E9%85%8D%E7%BD%AE%E8%83%8C%E6%99%AF%E5%9B%BE</a></p><ol><li><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\layout.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  if theme.background</span><br><span class="line"><span class="deletion">-   #web_bg</span></span><br><span class="line"><span class="addition">+   if page.background</span></span><br><span class="line"><span class="addition">+     #web_bg(style=`background:`+ page.background + `;background-attachment: local;background-position: center;background-size: cover;background-repeat: no-repeat;`)</span></span><br><span class="line"><span class="addition">+   else</span></span><br><span class="line"><span class="addition">+     #web_bg</span></span><br></pre></td></tr></table></figure></li><li><p>如此即可在每个页面的<code>markdown</code>文件的<code>front-matter</code>中使用<code>background</code>配置项单独配置页面背景了,不写或留空则使用主题配置文件中的默认背景。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 使用 Github Pages 和 Hexo 搭建自己的独立博客</span><br><span class="line">tags: Hexo</span><br><span class="line">cover: &#x27;https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/banner.jpg&#x27;</span><br><span class="line">keywords: &#x27;使用 Github Pages 和 Hexo 搭建自己的独立博客,博客,hexo,github,搭博客&#x27;</span><br><span class="line">description: 记录搭建博客的经历~</span><br><span class="line">abbrlink: ddae</span><br><span class="line">date: 2021-03-31 13:26:54</span><br><span class="line">background: url(https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/banner.jpg)</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 4</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure></li><li><p>开了 pjax 的用户会发现背景变了以后就变不回去了，需要刷新才行。因此为了实现期望的效果，这里还要再把<code>#web_bg</code>加到<code>pjax</code>选择器中。<br>修改<code>[Blogroot]\themes\butterfly\layout\includes\third-party\pjax.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  script(src=url_for(theme.CDN.pjax))</span><br><span class="line">  script.</span><br><span class="line">    let pjaxSelectors = [</span><br><span class="line">      &#x27;title&#x27;,</span><br><span class="line">      &#x27;#config-diff&#x27;,</span><br><span class="line">      &#x27;#body-wrap&#x27;,</span><br><span class="line">      &#x27;#rightside-config-hide&#x27;,</span><br><span class="line">      &#x27;#rightside-config-show&#x27;,</span><br><span class="line"><span class="addition">+     &#x27;#web_bg&#x27;,</span></span><br><span class="line">      &#x27;.js-pjax&#x27;</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></li></ol></li><li><blockquote><p>菜单栏多色图标配置教程</p></blockquote><p>参考：<a href="https://akilar.top/posts/23fdf850">https://akilar.top/posts/23fdf850</a></p><ol><li><p>配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># 公共css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&quot;&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.cbd.int/qweather-icons@1.1.1/font/qweather-icons.css&quot;&gt;</span></span><br><span class="line">    <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot; media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># 控制台打印消息</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">rel=&quot;prefetch&quot;</span> <span class="string">src=&quot;/js/console.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># 标题卖萌</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/diytitle.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># 站点公祭日自动变灰判定</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;/js/grayscale.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># 浮动动画特效</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/floatpanel.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># aplayer音乐</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;7692780743&quot;</span> <span class="string">data-server=&quot;tencent&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span>   <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-preload=&quot;auto&quot;</span> <span class="string">data-autoplay=&quot;false&quot;</span> <span class="string">data-mutex=&quot;true&quot;</span> <span class="string">&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>替换全部内容修改<code>[Blogroot]\themes\butterfly\layout\includes\header\menu_item.pug</code>,本方案默认使用观感最佳的悬停父元素触发子元素动画效果。默认动画为<code>faa-tada</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.menu</span><br><span class="line">  //- <span class="keyword">for</span> mobile sidebar</span><br><span class="line">  - let sidebarChildHide = theme.hide_sidebar_menu_child ? <span class="string">&#x27;hide&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">  .menus_items</span><br><span class="line">    each value, label <span class="keyword">in</span> theme.menu</span><br><span class="line">      <span class="keyword">if</span> typeof value !== <span class="string">&#x27;object&#x27;</span></span><br><span class="line">        .menus_item</span><br><span class="line">          a.site-page.faa-parent.animated-hover(href=url_for(trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">0</span>])))</span><br><span class="line">            <span class="keyword">if</span> value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">              - var icon_value = trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">              - var anima_value = value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>] ? trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">              <span class="keyword">if</span> icon_value.substring(<span class="number">0</span>,<span class="number">2</span>)==<span class="string">&quot;fa&quot;</span></span><br><span class="line">                i.fa-fw(<span class="keyword">class</span>=icon_value + <span class="string">&#x27; &#x27;</span> + anima_value)</span><br><span class="line">              <span class="keyword">else</span> <span class="keyword">if</span> icon_value.substring(<span class="number">0</span>,<span class="number">4</span>)==<span class="string">&quot;icon&quot;</span></span><br><span class="line">                svg.icon(aria-hidden=<span class="string">&quot;true&quot;</span> <span class="keyword">class</span>=anima_value)</span><br><span class="line">                  use(xlink:href=`<span class="comment">#`+ icon_value)</span></span><br><span class="line">            span=<span class="string">&#x27; &#x27;</span>+label</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        .menus_item</span><br><span class="line">          a.site-page.faa-parent.animated-hover(href=<span class="string">&#x27;javascript:void(0);&#x27;</span>)</span><br><span class="line">            <span class="keyword">if</span> label.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">              - var icon_label = trim(label.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">              - var anima_label = label.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>] ? trim(label.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">              <span class="keyword">if</span> icon_label.substring(<span class="number">0</span>,<span class="number">2</span>)==<span class="string">&quot;fa&quot;</span></span><br><span class="line">                i.fa-fw(<span class="keyword">class</span>=icon_label + <span class="string">&#x27; &#x27;</span> + anima_label)</span><br><span class="line">              <span class="keyword">else</span> <span class="keyword">if</span> icon_label.substring(<span class="number">0</span>,<span class="number">4</span>)==<span class="string">&quot;icon&quot;</span></span><br><span class="line">                svg.icon(aria-hidden=<span class="string">&quot;true&quot;</span> <span class="keyword">class</span>=anima_label)</span><br><span class="line">                  use(xlink:href=`<span class="comment">#`+ icon_label)</span></span><br><span class="line">            span=<span class="string">&#x27; &#x27;</span>+ trim(label.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">            i.fas.fa-chevron-down.expand(<span class="keyword">class</span>=sidebarChildHide)</span><br><span class="line">          ul.menus_item_child</span><br><span class="line">            each val,lab <span class="keyword">in</span> value</span><br><span class="line">              li</span><br><span class="line">                a.site-page.child.faa-parent.animated-hover(href=url_for(trim(val.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">0</span>])))</span><br><span class="line">                  <span class="keyword">if</span> val.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">                    - var icon_val = trim(val.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">                    - var anima_val = val.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>] ? trim(val.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">                    <span class="keyword">if</span> icon_val.substring(<span class="number">0</span>,<span class="number">2</span>)==<span class="string">&quot;fa&quot;</span></span><br><span class="line">                      i.fa-fw(<span class="keyword">class</span>=icon_val + <span class="string">&#x27; &#x27;</span> + anima_val)</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> icon_val.substring(<span class="number">0</span>,<span class="number">4</span>)==<span class="string">&quot;icon&quot;</span></span><br><span class="line">                      svg.icon(aria-hidden=<span class="string">&quot;true&quot;</span> <span class="keyword">class</span>=anima_val)</span><br><span class="line">                        use(xlink:href=`<span class="comment">#`+ icon_val)</span></span><br><span class="line">                  span=<span class="string">&#x27; &#x27;</span>+ lab</span><br></pre></td></tr></table></figure><p>修改配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">闲言碎语:</span> <span class="string">/artitalk/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-comment-dots</span></span><br><span class="line">  <span class="string">音乐馆:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="comment"># List||fas fa-list:</span></span><br><span class="line">  <span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line">  <span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br><span class="line"></span><br><span class="line">  <span class="string">朋友圈:</span> <span class="string">/fcircle/</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-artstation</span></span><br><span class="line">  <span class="string">留言板:</span> <span class="string">/comments/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="string">友人帐:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="comment"># 闲言碎语: /hpptalk/ || fas fa-comment-dots</span></span><br><span class="line">  <span class="string">追番:</span> <span class="string">/bangumis/</span> <span class="string">||</span> <span class="string">icon-bilibili1</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">icon-zhifeiji</span></span><br></pre></td></tr></table></figure></li></ol></li><li><blockquote><p>Social 卡片彩色图标引入</p></blockquote><ol><li><p>重写<code>[Blogroot]\themes\butterfly\layout\includes\header\social.pug</code>,替换为以下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">each value, title <span class="keyword">in</span> theme.social</span><br><span class="line">  a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">0</span>])) target=<span class="string">&quot;_blank&quot;</span> title=title === undefined ? <span class="string">&#x27;&#x27;</span> : trim(title))</span><br><span class="line">    <span class="keyword">if</span> value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">      - var icon_value = trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">      - var anima_value = value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>] ? trim(value.split(<span class="string">&#x27;||&#x27;</span>)[<span class="number">2</span>]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">      <span class="keyword">if</span> icon_value.substring(<span class="number">0</span>,<span class="number">2</span>)==<span class="string">&quot;fa&quot;</span></span><br><span class="line">        i.fa-fw(<span class="keyword">class</span>=icon_value + <span class="string">&#x27; &#x27;</span> + anima_value)</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> icon_value.substring(<span class="number">0</span>,<span class="number">4</span>)==<span class="string">&quot;icon&quot;</span></span><br><span class="line">        svg.icon(aria-hidden=<span class="string">&quot;true&quot;</span> <span class="keyword">class</span>=anima_value)</span><br><span class="line">          use(xlink:href=`<span class="comment">#`+ icon_value)</span></span><br></pre></td></tr></table></figure></li><li><p>以下为对应的<code>social</code>配置项。写法沿用<code>menu_item</code>的写法示例。<del>早就想吐槽 butterfly 里 menu 和 social 截然相反的配置项写法了</del>。修改<code>[Blogroot]\_config.butterfly.yml</code>的<code>social</code>配置项。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># social settings (社交图标设置)</span></span><br><span class="line"><span class="comment"># formal:</span></span><br><span class="line"><span class="comment">#   icon: link || the description</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">Github:</span> <span class="string">https://github.com/anzhiyu-c</span> <span class="string">||</span> <span class="string">icon-gitHub</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="attr">Email:</span> <span class="string">https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2268025923@qq.com</span> <span class="string">||</span> <span class="string">icon-youxiang</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="attr">RSS:</span> <span class="string">atom.xml</span> <span class="string">||</span> <span class="string">icon-rss</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="attr">BiliBili:</span> <span class="string">https://space.bilibili.com/372204786</span> <span class="string">||</span> <span class="string">icon-bilibili</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="attr">QQ:</span> <span class="string">tencent://Message/?Uin=2268025923&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes</span> <span class="string">||</span> <span class="string">icon-QQ1</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br></pre></td></tr></table></figure></li></ol></li><li><blockquote><p>404</p></blockquote><p>参考：<a href="https://blog.zhheo.com/p/f48e518b.html">https://blog.zhheo.com/p/f48e518b.html</a></p><p>替换<code>themes\butterfly\layout\includes\404.pug</code>为以下代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">- var top_img = theme.error_404.background || theme.default_top_img</span><br><span class="line">- var bg_img = `background-image: url(<span class="string">&#x27;$&#123;url_for(top_img)&#125;&#x27;</span>)`</span><br><span class="line"></span><br><span class="line"><span class="comment">#body-wrap.error</span></span><br><span class="line">  div(style=<span class="string">&#x27;display: none&#x27;</span>)</span><br><span class="line">    include ./header/index.pug</span><br><span class="line"></span><br><span class="line">  <span class="comment">#error-wrap</span></span><br><span class="line">    .error-content</span><br><span class="line">      .error-img(style=bg_img)</span><br><span class="line">      .error-info</span><br><span class="line">        h1.error_title= <span class="string">&#x27;404&#x27;</span></span><br><span class="line">        .error_subtitle= theme.error_404.subtitle</span><br><span class="line">        a.button--animated(href=config.root)</span><br><span class="line">          i.fas.fa-rocket</span><br><span class="line">          = _p(<span class="string">&#x27;返回主页&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  .aside-<span class="built_in">list</span></span><br><span class="line">    .aside-<span class="built_in">list</span>-group</span><br><span class="line">        - let postLimit = theme.aside.card_recent_post.limit === <span class="number">0</span> ? site.posts.length : theme.aside.card_recent_post.limit || <span class="number">5</span></span><br><span class="line">        - let sort = theme.aside.card_recent_post.sort === <span class="string">&#x27;updated&#x27;</span> ? <span class="string">&#x27;updated&#x27;</span> : <span class="string">&#x27;date&#x27;</span></span><br><span class="line">        - site.posts.sort(sort, -<span class="number">1</span>).limit(postLimit).each(function(article)&#123;</span><br><span class="line">          - let link = article.link || article.path</span><br><span class="line">          - let title = article.title || _p(<span class="string">&#x27;no_title&#x27;</span>)</span><br><span class="line">          - let no_cover = article.cover === false || !theme.cover.aside_enable ? <span class="string">&#x27;no-cover&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">          - let post_cover = article.cover</span><br><span class="line">          .aside-<span class="built_in">list</span>-item(<span class="keyword">class</span>=no_cover)</span><br><span class="line">            <span class="keyword">if</span> post_cover &amp;&amp; theme.cover.aside_enable</span><br><span class="line">              a.thumbnail(href=url_for(link) title=title)</span><br><span class="line">                img(src=url_for(post_cover) onerror=`this.onerror=null;this.src=<span class="string">&#x27;$&#123;url_for(theme.error_img.post_page)&#125;&#x27;</span>` alt=title)</span><br><span class="line">            .content</span><br><span class="line">              a.title(href=url_for(link) title=title)= title</span><br><span class="line">              <span class="keyword">if</span> theme.aside.card_recent_post.sort === <span class="string">&#x27;updated&#x27;</span></span><br><span class="line">                time(datetime=date_xml(article.updated) title=_p(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + full_date(article.updated)) <span class="comment">#[=date(article.updated, config.date_format)]</span></span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                time(datetime=date_xml(article.date) title=_p(<span class="string">&#x27;post.created&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + full_date(article.date)) <span class="comment">#[=date(article.date, config.date_format)]</span></span><br><span class="line">        - &#125;)</span><br></pre></td></tr></table></figure></li><li><blockquote><p>修改配置_config.butterfly.yml</p></blockquote><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br></pre></td><td class="code"><pre><span class="line"># Code Blocks (代码相关)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="deletion">- highlight_theme: light #  darker / pale night / light / ocean / mac / mac light / false</span></span><br><span class="line"><span class="addition">+ highlight_theme: mac #  darker / pale night / light / ocean / mac / mac light / false</span></span><br><span class="line">  highlight_copy: true # copy button</span><br><span class="line">  highlight_lang: true # show the code language</span><br><span class="line">  highlight_shrink: false # true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button</span><br><span class="line"><span class="deletion">- highlight_height_limit: false # unit: px</span></span><br><span class="line"><span class="addition">+ highlight_height_limit: 230 # unit: px</span></span><br><span class="line">  code_word_wrap: false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="deletion">- preload: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line"><span class="addition">+ preload: true</span></span><br><span class="line">  CDN:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Avatar (头像)</span><br><span class="line">avatar:</span><br><span class="line"><span class="deletion">- img: https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png</span></span><br><span class="line"><span class="addition">+ img: https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/avatar.png</span></span><br><span class="line">  effect: false</span><br><span class="line"></span><br><span class="line">cover:</span><br><span class="line">  # display the cover or not (是否显示文章封面)</span><br><span class="line">  index_enable: true</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: true</span><br><span class="line">  # the position of cover in home page (封面显示的位置)</span><br><span class="line">  # left/right/both</span><br><span class="line">  position: both</span><br><span class="line">  # When cover is not set, the default cover is displayed (当没有设置cover时，默认的封面显示)</span><br><span class="line">  default_cover:</span><br><span class="line"><span class="deletion">-   - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br><span class="line"><span class="addition">+- https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/post-defualt.jpg</span></span><br><span class="line"></span><br><span class="line"># A simple 404 page</span><br><span class="line">error_404:</span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line">  subtitle: &#x27;Page Not Found&#x27;</span><br><span class="line"><span class="deletion">- background: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span></span><br><span class="line"><span class="addition">+ background: https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/page-404.png</span></span><br><span class="line"></span><br><span class="line">post_meta:</span><br><span class="line">  page: # Home Page</span><br><span class="line"><span class="deletion">-   date_type: created # created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line"><span class="addition">+   date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    date_format: date # date/relative 显示日期还是相对日期</span><br><span class="line">    categories: true # true or false 主页是否显示分类</span><br><span class="line">    tags: false # true or false 主页是否显示标籤</span><br><span class="line">    label: true # true or false 显示描述性文字</span><br><span class="line"></span><br><span class="line"># wordcount (字数统计)</span><br><span class="line"># see https://butterfly.js.org/posts/ceeb73f/#字数统计</span><br><span class="line">wordcount:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br><span class="line"></span><br><span class="line"># post_pagination (分页)</span><br><span class="line"># value: 1 || 2 || false</span><br><span class="line"># 1: The &#x27;next post&#x27; will link to old post</span><br><span class="line"># 2: The &#x27;next post&#x27; will link to new post</span><br><span class="line"># false: disable pagination</span><br><span class="line"><span class="deletion">-post_pagination: 1</span></span><br><span class="line"><span class="addition">+post_pagination: 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Displays outdated notice for a post (文章过期提醒)</span><br><span class="line">noticeOutdate:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  style: flat # style: simple/flat</span><br><span class="line"><span class="deletion">- limit_day: 500 # When will it be shown</span></span><br><span class="line"><span class="addition">+ limit_day: 365 # When will it be shown</span></span><br><span class="line">  position: top # position: top/bottom</span><br><span class="line">  message_prev: It has been</span><br><span class="line">  message_next: days since the last update, the content of the article may be outdated.</span><br><span class="line"></span><br><span class="line">comments:</span><br><span class="line">  # Up to two comments system, the first will be shown as default</span><br><span class="line">  # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus</span><br><span class="line"><span class="deletion">- use: # Valine,Disqus</span></span><br><span class="line"><span class="addition">+ use: Twikoo # Valine,Disqus</span></span><br><span class="line">  text: true # Display the comment name next to the button</span><br><span class="line">  # lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span><br><span class="line">  # If you set it to true, the comment count will be invalid</span><br><span class="line">  lazyload: false</span><br><span class="line">  count: false # Display comment count in post&#x27;s top_img</span><br><span class="line">  card_post_count: false # Display comment count in Home Page</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# valine</span></span><br><span class="line"><span class="deletion">-# https://valine.js.org</span></span><br><span class="line"><span class="deletion">-valine:</span></span><br><span class="line"><span class="deletion">-  appId: # leancloud application app id</span></span><br><span class="line"><span class="deletion">-  appKey: # leancloud application app key</span></span><br><span class="line"><span class="deletion">-  avatar: monsterid # gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line"><span class="deletion">-  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line"><span class="deletion">-  bg: # valine background</span></span><br><span class="line"><span class="deletion">-  visitor: false</span></span><br><span class="line"><span class="deletion">-  option:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# valine</span></span><br><span class="line"><span class="addition">+# https://valine.js.org</span></span><br><span class="line"><span class="addition">+valine:</span></span><br><span class="line"><span class="addition">+  appId: fUPzdzwpqVLMTHdwiLaYhxox-MdYXbMMI # leancloud application app id</span></span><br><span class="line"><span class="addition">+  appKey: 4t2p3yOXXLlFtqJoqBmnqtYG # leancloud application app key</span></span><br><span class="line"><span class="addition">+  pageSize: 10 # comment list page size</span></span><br><span class="line"><span class="addition">+  avatar: mp # gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line"><span class="addition">+  lang: zh-CN # i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line"><span class="addition">+  placeholder: 填写QQ邮箱就会使用QQ头像喔~. # valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line"><span class="addition">+  guest_info: nick,mail,link # valine comment header info (nick/mail/link)</span></span><br><span class="line"><span class="addition">+  recordIP: false # Record reviewer IP</span></span><br><span class="line"><span class="addition">+  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line"><span class="addition">+  bg: /img/comment_bg.png # valine background</span></span><br><span class="line"><span class="addition">+  emojiCDN: //i0.hdslb.com/bfs/emote/ # emoji CDN</span></span><br><span class="line"><span class="addition">+  enableQQ: true # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line"><span class="addition">+  requiredFields: nick,mail # required fields (nick/mail)</span></span><br><span class="line"><span class="addition">+  visitor: false</span></span><br><span class="line"><span class="addition">+  master:</span></span><br><span class="line"><span class="addition">+    - a1fb76727a9930bc7ef25541851ee785</span></span><br><span class="line"><span class="addition">+    - 23a7b9e573cbe803c54c65783ff2ce23</span></span><br><span class="line"><span class="addition">+  friends:</span></span><br><span class="line"><span class="addition">+    - ea646e8971be65bd177af95a2ea351c8</span></span><br><span class="line"><span class="addition">+    - 20b8af4886d9f822cdae8710709e3e16</span></span><br><span class="line"><span class="addition">+    - b0b3ecc23f86596fd8325916d21bb69d</span></span><br><span class="line"><span class="addition">+    - a6e844cc099b1a964eaf79e7fdafd760</span></span><br><span class="line"><span class="addition">+  tagMeta: &#x27;博主,小伙伴,访客&#x27;</span></span><br><span class="line"><span class="addition">+  option:</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# waline - A simple comment system with backend support fork from Valine</span></span><br><span class="line"><span class="deletion">-# https://waline.js.org/</span></span><br><span class="line"><span class="deletion">-waline:</span></span><br><span class="line"><span class="deletion">-  serverURL: # Waline server address url</span></span><br><span class="line"><span class="deletion">-  bg: # waline background</span></span><br><span class="line"><span class="deletion">-  pageview: false</span></span><br><span class="line"><span class="deletion">-  option:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# waline - A simple comment system with backend support fork from Valine</span></span><br><span class="line"><span class="addition">+# https://waline.js.org/</span></span><br><span class="line"><span class="addition">+waline:</span></span><br><span class="line"><span class="addition">+  serverURL: https://waline-api-ebon.vercel.app/ # Waline server address url</span></span><br><span class="line"><span class="addition">+  avatar: mp # gravatar style https://zh-tw.gravatar.com/site/implement/images/#default-+image</span></span><br><span class="line"><span class="addition">+  emojiCDN: //i0.hdslb.com/bfs/emote/ # emoji CDN</span></span><br><span class="line"><span class="addition">+  bg: /img/comment_bg.png # waline background</span></span><br><span class="line"><span class="addition">+  visitor: false</span></span><br><span class="line"><span class="addition">+  option:</span></span><br><span class="line"><span class="addition">+    - placeholder: 今天应该会收到少佐的信叭~&lt;br&gt;生活明朗，万物可爱</span></span><br><span class="line"></span><br><span class="line"># Twikoo</span><br><span class="line"># https://github.com/imaegoo/twikoo</span><br><span class="line"><span class="addition">+ # blogcomment-9gwtd96d01685149</span></span><br><span class="line">twikoo:</span><br><span class="line"><span class="deletion">- envId:</span></span><br><span class="line"><span class="addition">+ envId: https://twikoo-hazel-tau.vercel.app/</span></span><br><span class="line">  region:</span><br><span class="line">  visitor: false</span><br><span class="line">  option:</span><br><span class="line"></span><br><span class="line"># Chat Button [recommend]</span><br><span class="line"># It will create a button in the bottom right corner of website, and hide the origin button</span><br><span class="line"><span class="deletion">-chat_btn: false</span></span><br><span class="line"><span class="addition">+chat_btn: true</span></span><br><span class="line"></span><br><span class="line"># The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span><br><span class="line"><span class="deletion">-chat_hide_show: false</span></span><br><span class="line"><span class="addition">+chat_hide_show: true</span></span><br><span class="line"></span><br><span class="line"># tidio</span><br><span class="line"># https://www.tidio.com/</span><br><span class="line">tidio:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="deletion">-  public_key:</span></span><br><span class="line"><span class="addition">+  public_key: lpcfvqfq39w0zjxvzzrchgwldmpvavcc</span></span><br><span class="line"></span><br><span class="line"># Footer Settings</span><br><span class="line"># --------------------------------------</span><br><span class="line">footer:</span><br><span class="line">  owner:</span><br><span class="line">    enable: true</span><br><span class="line">    since: 2020</span><br><span class="line">  custom_text:</span><br><span class="line"><span class="deletion">- copyright: true # Copyright of theme and framework</span></span><br><span class="line"><span class="addition">+ copyright: false # Copyright of theme and framework</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Verification (站长验证)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">site_verification:</span><br><span class="line"><span class="deletion">-  # - name: google-site-verification</span></span><br><span class="line"><span class="deletion">-  #   content: xxxxxx</span></span><br><span class="line"><span class="deletion">-  # - name: baidu-site-verification</span></span><br><span class="line"><span class="deletion">-  #   content: xxxxxxx</span></span><br><span class="line"><span class="addition">+  - name: google-site-verification</span></span><br><span class="line"><span class="addition">+    content: Fp4KxwzD3CX5X5DzxzaRj89cAC6AXCxsxUUEa4KzSeY</span></span><br><span class="line"><span class="addition">+  - name: baidu-site-verification</span></span><br><span class="line"><span class="addition">+    content: code-k07C6QzkAV</span></span><br><span class="line"><span class="addition">+  - name: msvalidate.01</span></span><br><span class="line"><span class="addition">+    content: 3668ACA4D1AD64D50C462C4A30E300BC</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Beautify/Effect (美化/效果)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Theme color for customize</span><br><span class="line"># Notice: color value must in double quotes like &quot;#000&quot; or may cause error!</span><br><span class="line"></span><br><span class="line"><span class="deletion">-# theme_color:</span></span><br><span class="line"><span class="addition">+ theme_color:</span></span><br><span class="line"><span class="deletion">-#  enable: true</span></span><br><span class="line"><span class="addition">+   enable: true</span></span><br><span class="line">#   main: &quot;#49B1F5&quot;</span><br><span class="line"><span class="deletion">-#  paginator: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="addition">+   paginator: &quot;#49b1f5&quot;</span></span><br><span class="line">#   button_hover: &quot;#FF7242&quot;</span><br><span class="line"><span class="deletion">-#  text_selection: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="addition">+   text_selection: &#x27;#49b1f5&#x27;</span></span><br><span class="line">#   link_color: &quot;#99a9bf&quot;</span><br><span class="line">#   meta_color: &quot;#858585&quot;</span><br><span class="line">#   hr_color: &quot;#A4D8FA&quot;</span><br><span class="line">#   code_foreground: &quot;#F47466&quot;</span><br><span class="line">#   code_background: &quot;rgba(27, 31, 35, .05)&quot;</span><br><span class="line"><span class="deletion">-#  toc_color: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="addition">+toc_color: &#x27;#49b1f5&#x27;</span></span><br><span class="line"><span class="deletion">-#  blockquote_padding_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="deletion">-#  blockquote_background_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="deletion">-#  scrollbar_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="addition">+scrollbar_color: &#x27;#49b1f5&#x27;</span></span><br><span class="line"><span class="deletion">-#  meta_theme_color_light: &quot;ffffff&quot;</span></span><br><span class="line"><span class="deletion">-#  meta_theme_color_dark: &quot;#0d0d0d&quot;</span></span><br><span class="line"></span><br><span class="line"># The user interface setting of category and tag page (category和tag页的UI设置)</span><br><span class="line"># index - same as Homepage UI (index 值代表 UI将与首页的UI一样)</span><br><span class="line"># default - same as archives UI 默认跟archives页面UI一样</span><br><span class="line"><span class="deletion">-category_ui: # 留空或 index</span></span><br><span class="line"><span class="deletion">-tag_ui: # 留空或 index</span></span><br><span class="line"><span class="addition">+category_ui: index # 留空或 index</span></span><br><span class="line"><span class="addition">+tag_ui: index # 留空或 index</span></span><br><span class="line"></span><br><span class="line"># Website Background (设置网站背景)</span><br><span class="line"># can set it to color or image (可设置图片 或者 顔色)</span><br><span class="line"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span><br><span class="line"><span class="deletion">-background:</span></span><br><span class="line"><span class="addition">+background: url(https://cdn.cbd.int/anzhiyu-blog@latest/img/post/common/site-backgound.jpg)</span></span><br><span class="line"></span><br><span class="line"># the position of bottom right button/default unit: px (右下角按钮距离底部的距离/默认单位为px)</span><br><span class="line"><span class="deletion">-rightside-bottom:</span></span><br><span class="line"><span class="addition">+rightside-bottom: 100px</span></span><br><span class="line"></span><br><span class="line"># Beautify (美化页面显示)</span><br><span class="line">beautify:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  field: post # site/post</span><br><span class="line"><span class="deletion">- title-prefix-icon: # &#x27;\f0c1&#x27;</span></span><br><span class="line"><span class="addition">+ title-prefix-icon: &#x27;\f0c1&#x27;</span></span><br><span class="line"><span class="deletion">- title-prefix-icon-color: # &#x27;#F47466&#x27;</span></span><br><span class="line"><span class="addition">+ title-prefix-icon-color: &#x27;#F47466&#x27;</span></span><br><span class="line"></span><br><span class="line"># Typewriter Effect (打字效果)</span><br><span class="line"># https://github.com/disjukr/activate-power-mode</span><br><span class="line">activate_power_mode:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line">  colorful: true # open particle animation (冒光特效)</span><br><span class="line"><span class="deletion">-  shake: true #  open shake (抖动特效)</span></span><br><span class="line"><span class="addition">+  shake: false #  open shake (抖动特效)</span></span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Global font settings</span><br><span class="line"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span><br><span class="line">font:</span><br><span class="line">  global-font-size:</span><br><span class="line">  code-font-size:</span><br><span class="line">  font-family:</span><br><span class="line"><span class="deletion">- code-font-family:</span></span><br><span class="line"><span class="addition">+   code-font-family: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, &quot;Microsoft YaHei&quot;, sans-serif</span></span><br><span class="line"></span><br><span class="line"># Font settings for the site title and site subtitle</span><br><span class="line"># 左上角网站名字 主页居中网站名字</span><br><span class="line">blog_title_font:</span><br><span class="line"><span class="deletion">- font_link:</span></span><br><span class="line"><span class="deletion">- font-family:</span></span><br><span class="line"><span class="addition">+ font_link: https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line"><span class="addition">+ font-family: Titillium Web, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Microsoft JhengHei&#x27;, &#x27;Microsoft YaHei&#x27;, sans-serif</span></span><br><span class="line"></span><br><span class="line"># The setting of divider icon (水平分隔线图标设置)</span><br><span class="line">hr_icon:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="deletion">- icon: # the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line"><span class="addition">+ icon: \f0f3 # the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line">  icon-top:</span><br><span class="line"></span><br><span class="line"># the subtitle on homepage (主页subtitle)</span><br><span class="line">subtitle:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  # Typewriter Effect (打字效果)</span><br><span class="line">  effect: true</span><br><span class="line">  # loop (循环打字)</span><br><span class="line">  loop: true</span><br><span class="line">  # source 调用第三方服务</span><br><span class="line">  # source: false 关闭调用</span><br><span class="line">  # source: 1  调用一言网的一句话（简体） https://hitokoto.cn/</span><br><span class="line">  # source: 2  调用一句网（简体） http://yijuzhan.com/</span><br><span class="line">  # source: 3  调用今日诗词（简体） https://www.jinrishici.com/</span><br><span class="line">  # subtitle 会先显示 source , 再显示 sub 的内容</span><br><span class="line"><span class="deletion">- source: false</span></span><br><span class="line"><span class="addition">+ source: 1</span></span><br><span class="line">  # 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span><br><span class="line">  sub:</span><br><span class="line"><span class="addition">+ - 生活明朗&amp;#44;万物可爱&amp;#44;人间值得&amp;#44;未来可期.</span></span><br><span class="line"></span><br><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line">    button:</span><br><span class="line">      enable: true</span><br><span class="line">      icon: fab fa-github</span><br><span class="line">      text: Follow Me</span><br><span class="line"><span class="deletion">-     link: https://github.com/xxxxxx</span></span><br><span class="line"><span class="addition">+  link: https://github.com/anzhiyu-c</span></span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line"><span class="deletion">-   content: This is my Blog</span></span><br><span class="line"><span class="addition">+   content: 欢迎来看我的博客鸭~</span></span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 5 # if set 0 will show all</span><br><span class="line">    sort: date # date or updated</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_categories:</span><br><span class="line"><span class="deletion">-   enable: true</span></span><br><span class="line"><span class="addition">+   enable: false</span></span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    expand: none # none/true/false</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_tags:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 40 # if set 0 will show all</span><br><span class="line">    color: false</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_archives:</span><br><span class="line">    enable: true</span><br><span class="line">    type: monthly # yearly or monthly</span><br><span class="line">    format: MMMM YYYY # eg: YYYY年MM月</span><br><span class="line">    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  card_webinfo:</span><br><span class="line">    enable: true</span><br><span class="line">    post_count: true</span><br><span class="line">    last_push_date: true</span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line"></span><br><span class="line"># Time difference between publish date and now (网页运行时间)</span><br><span class="line"># Formal: Month/Day/Year Time or Year/Month/Day Time</span><br><span class="line">runtimeshow:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="deletion">- publish_date:</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line"><span class="addition">+ publish_date: 4/1/2021 00:00:00</span></span><br><span class="line"></span><br><span class="line"># Conversion between Traditional and Simplified Chinese (简繁转换)</span><br><span class="line">translate:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  # The text of a button</span><br><span class="line">  default: 繁</span><br><span class="line">  # the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span><br><span class="line">  defaultEncoding: 2</span><br><span class="line">  # Time delay</span><br><span class="line">  translateDelay: 0</span><br><span class="line">  # The text of the button when the language is Simplified Chinese</span><br><span class="line">  msgToTraditionalChinese: &#x27;繁&#x27;</span><br><span class="line">  # The text of the button when the language is Traditional Chinese</span><br><span class="line">  msgToSimplifiedChinese: &#x27;简&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Note (Bootstrap Callout)</span><br><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line"><span class="deletion">- style: flat</span></span><br><span class="line"><span class="addition">+ style: simple</span></span><br><span class="line">  icons: true</span><br><span class="line">  border_radius: 3</span><br><span class="line">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span><br><span class="line">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span><br><span class="line">  light_bg_offset: 0</span><br><span class="line"></span><br><span class="line"># Pjax</span><br><span class="line"># It may contain bugs and unstable, give feedback when you find the bugs.</span><br><span class="line"># https://github.com/MoOx/pjax</span><br><span class="line">pjax:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  exclude:</span><br><span class="line">    # - xxxx</span><br><span class="line">    # - xxxx</span><br><span class="line"></span><br><span class="line"># Inject the css and script (aplayer/meting)</span><br><span class="line">aplayerInject:</span><br><span class="line"><span class="deletion">- enable: false</span></span><br><span class="line"><span class="addition">+ enable: true</span></span><br><span class="line">  per_page: true</span><br><span class="line"></span><br><span class="line"># Snackbar (Toast Notification 弹窗)</span><br><span class="line"># https://github.com/polonel/SnackBar</span><br><span class="line"># position 弹窗位置</span><br><span class="line"># 可选 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span><br><span class="line">snackbar:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="deletion">- position: bottom-left</span></span><br><span class="line"><span class="addition">+ position: top-right</span></span><br><span class="line">  bg_light: &#x27;#49b1f5&#x27; # The background color of Toast Notification in light mode</span><br><span class="line">  bg_dark: &#x27;#1f1f1f&#x27; # The background color of Toast Notification in dark mode</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">butterfly 重装指南</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>cloudreve网盘魔改前置教程</title>
    <link href="https://anzhiy.cn/posts/xoan.html"/>
    <id>https://anzhiy.cn/posts/xoan.html</id>
    <published>2022-06-07T15:55:44.000Z</published>
    <updated>2022-06-07T15:55:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>Cloudreve 是一款非常非常牛皮的网盘系统, Cloudreve 可以让您快速搭建起公私兼备的网盘系统。Cloudreve 在底层支持不同的云存储平台，用户在实际使用时无须关心物理存储方式。你可以使用 Cloudreve 搭建个人用网盘、文件分享系统，亦或是针对大小团体的公有云系统。<br><span class='p center logo large'>Cloudreve</span><br>文档地址；<a href="https://docs.cloudreve.org/">https://docs.cloudreve.org/</a></p><p>以下教程 基于 cloudreve pro（amd64 linux版本）其他版本请自行测试</p><div class="note red icon simple"><i class="note-icon fas fa-fan"></i><p>既然要魔改我们当然得先安装环境</p></div><h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><details class="folding-tag" blue><summary> 安装 node.js </summary>              <div class='content'>              <p>安装完node以后会自动存在npm</p><p>进入 node.js 官网：<a href="https://nodejs.org/en/download/">Node.js 官网</a><br>按照自己的机器选择对应的版本下载，我是 windous 64 位</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/2.png" alt=""></p><p>然后差不多就是一直下一步 hhh~</p><p>具体可以参考<a href="https://www.cnblogs.com/pengpengdeyuan/p/14434559.html">Node.js 安装教程</a></p><p>如果遇到什么问题，一般百度都能解决，这里就不在赘述.</p>              </div>            </details><details class="folding-tag" blue><summary> 安装 Git </summary>              <div class='content'>              <p>这是 Git 官网：<a href="https://git-scm.com/downloads">Git 官网</a></p><p>Git 的安装请参考：<a href="https://www.cnblogs.com/jytx/p/5602927.html">Git 安装教程</a></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/3.png" alt=""></p><p>具体的 git 学习可以访问：<a href="http://git.oschina.net/progit/">Pro Git 中文版</a></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/4.png" alt=""></p>              </div>            </details><h2 id="检验环境是否安装成功"><a href="#检验环境是否安装成功" class="headerlink" title="检验环境是否安装成功"></a>检验环境是否安装成功</h2><p>同时按下 Win 键和 R 键打开运行窗口,输入 <code>cmd</code> ，然后输入以下命令，有相应版本信息显示则安装成功，若不正确可以卸载软件重新安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/5.png" alt=""></p><p>此外若安装成功，在桌面右键鼠标，可以看到菜单里多了 <code>Git GUI Here</code> 和 <code>Git Bash Here</code>两个选项，第一个是<code>图形界面的Git操作</code>，另一个<code>是命令行</code>，我们一般使用第二个</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/blog-construct/6.png" alt=""></p><h2 id="前端源代码依赖安装"><a href="#前端源代码依赖安装" class="headerlink" title="前端源代码依赖安装"></a>前端源代码依赖安装</h2><p>将couldreve的前端源码下载下来<br>地址：<a href="https://github.com/cloudreve/Cloudreve/releases/">https://github.com/cloudreve/Cloudreve/releases/</a></p><p>pro版本的请自行去管理面板下载文件夹名称为frontend-pro-master的文件夹</p><p>将该文件夹放到一个你容易找到的地方, 我这里放在F盘<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/cloudreve/01.png" alt=""></p><p>如：我的文件夹为：F:\Cloudreve\frontend-pro-master, 前端源码储存在此文件夹下，在该文件夹下右键鼠标，点击 Git Bash Here，输入以下 npm 命令即可安装,第一次可能需要久一点输入命令后等一等，再输入第二条命令</p><details class="folding-tag" blue><summary> 安装 yarn </summary>              <div class='content'>              <p>如已安装可跳过这一步<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure></p>              </div>            </details><details class="folding-tag" blue><summary> 使用yarn安装所有依赖 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 使用yarn安装styled-components </summary>              <div class='content'>              <p>魔改部分样式依赖于styled-components (如不魔改提现等功能, 只修改图标, 图片可以不安装) 默认是5.3.5版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add styled-components</span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
    
    
    <summary type="html">cloudreve网盘魔改前置教程</summary>
    
    
    
    
    <category term="cloudreve" scheme="https://anzhiy.cn/tags/cloudreve/"/>
    
  </entry>
  
  <entry>
    <title>数据结构复习题</title>
    <link href="https://anzhiy.cn/posts/8645.html"/>
    <id>https://anzhiy.cn/posts/8645.html</id>
    <published>2022-02-23T15:55:12.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<div class="note orange icon flat"><i class="note-icon fas fa-battery-half"></i><p>由于我实在是太菜了，于是就有了这篇文章，仅供参考，不说了，充电了~</p></div><span class='p center logo large'>数据结构</span><h1 id="练习题一"><a href="#练习题一" class="headerlink" title="练习题一"></a>练习题一</h1><details class="folding-tag" open><summary> 选择题 </summary>              <div class='content'>              <ol><li>线性结构中数据元素之间是（ ）关系。<br>A.一对多 B.多对多 C.多对一 D.一对一<br>答：<psw>D</psw></li><li>数据结构中与所使用的计算机无关的是数据的（ ）结构。<br>A.存储 B.物理 C.逻辑 D.物理和存储<br>答：<psw>C</psw></li><li>算法分析的目的是（ ）。<br>A.找出数据结构的合理性<br>B.研究算法中的输入和输出的关系<br>C.分析算法的效率以求改进<br>D.分析算法的易懂性和文档性<br>答：<psw>C</psw></li><li>算法分析的两个主要方面是（ ）。<br>A.空间复杂性和时间复杂性<br>B.正确性和简明性<br>C.可读性和文档性<br>D.数据复杂性和程序复杂性<br>答：<psw>A</psw></li><li>计算机算法指的是（ ）。<br>A.计算方法<br>B. 排序方法<br>C.求解问题的有限运算序列<br>D.调度方法<br>答：<psw>C</psw></li><li>计算机算法必须具备输入、输出和（ ）等 5 个特性。<br>A.可行性、可移植性和可扩充性<br>B.可行性、确定性和有穷性<br>C.确定性、有穷性和稳定性<br>D.易读性、稳定性和安全性<br>答：<psw>B</psw></li></ol>              </div>            </details><details class="folding-tag" ><summary> 填空题 </summary>              <div class='content'>              <ol><li><p>数据结构包括数据的 <psw>逻辑结构</psw> 、数据的 <psw>存储结构</psw> 和数据的 <psw>运算</psw> 这三个方面的内容。</p></li><li><p>数据结构按逻辑结构可分为两大类，它们分别是 <psw>线性结构</psw> 和 <psw>非线性结构</psw> 。</p></li><li><p>数据结构被形式地定义为（D,R），其中 D 是 <psw>数据元素</psw> 的有限集合，R 是 D 上的 <psw>关系</psw> 有限集合。</p></li><li><p>在<emp>线性结构</emp>中，第一个结点 <psw>没有</psw> 前驱结点，其余每个结点有且只有 1 个前驱结点；最后一个结点 <psw>没有</psw> 后继结点，其余每个结点有且只有 1 个后继结点。</p></li><li><p>在<emp>树形结构</emp>中，树根结点没有 <psw>前驱</psw> 结点，其余每个结点有且只有 <psw>1</psw> 个前驱结点；叶子结点没有 <psw>后继</psw> 结点，其余每个结点的后继结点数可以是 <psw>任意多个</psw> 。</p></li><li><p>在<emp>图形结构</emp>中，每个结点的前驱结点数和后继结点数可以是（ <psw>任意多个</psw> ）。</p></li><li><p>数据的存储结构主要有四种，它们分别是 <psw>顺序</psw> 、 <psw>链式</psw> 、 <psw>索引</psw> 和 <psw>哈希</psw> 存储结构。</p></li><li><p>一个算法的效率可分为 <psw>时间</psw> 效率和 <psw>空间</psw> 效率。</p></li></ol>              </div>            </details><details class="folding-tag" ><summary> 简答题 </summary>              <div class='content'>              <ol><li><p>数据结构和数据类型两个概念之间有区别吗？</p><psw>简单地说，数据结构定义了一组按某些关系结合在一起的数组元素的集合。数据类型不仅定义了一组数据元素，而且还在其上定义了一组操作。</psw></li><li><p>简述线性结构、树形结构和图形结构的不同点。</p><psw>线性结构反映结点间的逻辑关系是一对一的，树形线性结构反映结点间的逻辑关系是一对多的，图在结构反映结点间的逻辑关系是多对多的。</psw></li><li><p>设有采用二元组表示的数据逻辑结构 S=(D,R)，其中 D={a,b,…,i}，R={(a,b),(a,c),(c,d),(c,f),(f,h),(d,e),(f,g),(h,i)}，问相对于关系 R，哪些结点是开始结点，哪些结点是终端结点？</p><psw>该逻辑结构为树形结构，其中 a 结点没有前驱结点，称为根结点，b、e、g、i 结点没有后继结点，是终端结点，也称为叶子结点。</psw></li><li><p>以下各函数是算法中语句的执行频度，n 为问题规模，给出对应的时间复杂度：</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">T1(n)=nlog2n-1000log2n</span><br><span class="line">T2(n)=n的log2为底3次方-1000log2n</span><br><span class="line">T3(n)=n2-1000log2n</span><br><span class="line">T4(n)=2nlog2n-1000log2n</span><br></pre></td></tr></table></figure><psw>T1(n)=O(nlog2n)，T2(n)=O(n的log2为底3次方)，T3(n)=O(n2)，T4(n)=O(nlog2n)。</psw><ol><li>分析下面程序段中循环语句的执行次数。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> j=<span class="number">0</span>,s=<span class="number">0</span>,n=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">   j=j+<span class="number">1</span>;</span><br><span class="line">   s=s+<span class="number">10</span>*j;</span><br><span class="line">&#125; <span class="keyword">while</span> (j&lt;n &amp;&amp; s&lt;n);</span><br></pre></td></tr></table></figure><psw>j=0，第 1 次循环：j=1，s=10。第 2 次循环：j=2，s=30。第 3 次循环：j=3，s=60。第 4 次循环：j=4，s=100。while 条件不再满足。所以，其中循环语句的执行次数为 4。</psw><ol><li>执行下面的语句时，语句 s++的执行次数为多少？</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> s=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line">   <span class="keyword">for</span> (j=n;j&gt;=i;j--)</span><br><span class="line">      s++;</span><br></pre></td></tr></table></figure><psw>语句 s 的执行次数。(n+3)(n-2)/2</psw><ol><li>设 n 为问题规模，求以下算法的时间复杂度。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="type">int</span> x=<span class="number">0</span>,i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">for</span> (j=i+<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">x++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><psw>其中 x++语句属基本运算语句，n(n-1)/2=O(n2)。</psw><ol><li>设 n 为问题规模，是一个正偶数，试计算以下算法结束时 m 的值，并给出该算法的时间复杂度。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="type">int</span> m=<span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">      <span class="keyword">for</span> (j=<span class="number">2</span>\*i;j&lt;=n;j++)</span><br><span class="line">         m++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><psw>由于内循环 j 的取值范围，所以 i≤n/2，则m=n的平方/4，该程序段的时间复杂度为 O(n2)。</psw>              </div>            </details>]]></content>
    
    
    <summary type="html">数据结构, 题目, 专升本复习, 专升本复习数据结构,数据结构与算法</summary>
    
    
    
    <category term="大学" scheme="https://anzhiy.cn/categories/%E5%A4%A7%E5%AD%A6/"/>
    
    
    <category term="数据结构" scheme="https://anzhiy.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>彻底搞懂 HTTPS 的加密原理</title>
    <link href="https://anzhiy.cn/posts/aa28.html"/>
    <id>https://anzhiy.cn/posts/aa28.html</id>
    <published>2021-12-11T09:02:13.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<p>HTTPS（SSL/TLS）的加密机制虽然是大家都应了解的基本知识，但网上很多相关文章总会忽略一些内容，没有阐明完整的逻辑脉络，我当年学习它的时候也废了挺大功夫。</p><p>对称与非对称加密、数字签名、数字证书等，在学习过程中，除了了解“它是什么”，你是否有想过“为什么是它”？我认为理解了后者才真正理解了 HTTPS 的加密机制。</p><p>本文以问题的形式逐步展开，一步步解开 HTTPS 的面纱，希望能帮助你彻底搞懂 HTTPS。</p><h2 id="为什么需要加密？"><a href="#为什么需要加密？" class="headerlink" title="为什么需要加密？"></a><strong>为什么需要加密？</strong></h2><p>因为 http 的内容是明文传输的，明文数据会经过中间代理服务器、路由器、wifi 热点、通信服务运营商等多个物理节点，如果信息在传输过程中被劫持，传输的内容就完全暴露了。劫持者还可以篡改传输的信息且不被双方察觉，这就是<code>中间人攻击</code>。所以我们才需要对信息进行加密。最容易理解的就是<code>对称加密</code> 。</p><h2 id="什么是对称加密？"><a href="#什么是对称加密？" class="headerlink" title="什么是对称加密？"></a><strong>什么是对称加密？</strong></h2><p>简单说就是有一个密钥，它可以加密一段信息，也可以对加密后的信息进行解密，和我们日常生活中用的钥匙作用差不多。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/1.jpg" alt="">对称加密（<a href="https://sectigostore.com/blog/types-of-encryption-what-to-know-about-symmetric-vs-asymmetric-encryption/）">https://sectigostore.com/blog/types-of-encryption-what-to-know-about-symmetric-vs-asymmetric-encryption/）</a></p><h2 id="用对称加密可行吗？"><a href="#用对称加密可行吗？" class="headerlink" title="用对称加密可行吗？"></a><strong>用对称加密可行吗？</strong></h2><p><strong>如果通信双方都各自持有同一个密钥，且没有别人知道，这两方的通信安全当然是可以被保证的（除非密钥被破解）。</strong></p><p>然而最大的问题就是<strong>这个密钥怎么让传输的双方知晓，同时不被别人知道</strong>。如果由服务器生成一个密钥并传输给浏览器，那在这个传输过程中密钥被别人劫持到手了怎么办？之后他就能用密钥解开双方传输的任何内容了，所以这么做当然不行。</p><p>换种思路？试想一下，如果浏览器内部就预存了网站 A 的密钥，且可以确保除了浏览器和网站 A，不会有任何外人知道该密钥，那理论上用对称加密是可以的，这样浏览器只要预存好世界上所有 HTTPS 网站的密钥就行了！这么做显然不现实。<br>怎么办？所以我们就需要<code>非对称加密</code> 。</p><h2 id="什么是非对称加密？"><a href="#什么是非对称加密？" class="headerlink" title="什么是非对称加密？"></a><strong>什么是非对称加密？</strong></h2><p>简单说就是有两把密钥，通常一把叫做公钥、一把叫私钥，用公钥加密的内容必须用私钥才能解开，同样，私钥加密的内容只有公钥能解开。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/2.jpg" alt="">非对称加密（<a href="https://sectigostore.com/blog/types-of-encryption-what-to-know-about-symmetric-vs-asymmetric-encryption/）">https://sectigostore.com/blog/types-of-encryption-what-to-know-about-symmetric-vs-asymmetric-encryption/）</a></p><h2 id="用非对称加密可行吗？"><a href="#用非对称加密可行吗？" class="headerlink" title="用非对称加密可行吗？"></a>用非对称加密可行吗？</h2><p>鉴于非对称加密的机制，我们可能会有这种思路：服务器先把公钥以明文方式传输给浏览器，之后浏览器向服务器传数据前都先用这个公钥加密好再传，这条数据的安全似乎可以保障了！<strong>因为只有服务器有相应的私钥能解开公钥加密的数据</strong>。</p><p>然而反过来<strong>由服务器到浏览器的这条路怎么保障安全？</strong>如果服务器用它的私钥加密数据传给浏览器，那么浏览器用公钥可以解密它，而这个公钥是一开始通过明文传输给浏览器的，若这个公钥被中间人劫持到了，那他也能用该公钥解密服务器传来的信息了。所以<strong>目前似乎只能保证由浏览器向服务器传输数据的安全性</strong>（其实仍有漏洞，下文会说），那利用这点你能想到什么解决方案吗？</p><h2 id="改良的非对称加密方案，似乎可以？"><a href="#改良的非对称加密方案，似乎可以？" class="headerlink" title="改良的非对称加密方案，似乎可以？"></a><strong>改良的非对称加密方案，似乎可以？</strong></h2><p>我们已经理解通过一组公钥私钥，可以保证单个方向传输的安全性，那用两组公钥私钥，是否就能保证双向传输都安全了？请看下面的过程：</p><ol><li>某网站服务器拥有公钥 A 与对应的私钥 A’；浏览器拥有公钥 B 与对应的私钥 B’。</li><li>浏览器把公钥 B 明文传输给服务器。</li><li>服务器把公钥 A 明文给传输浏览器。</li><li>之后浏览器向服务器传输的内容都用公钥 A 加密，服务器收到后用私钥 A’解密。由于只有服务器拥有私钥 A’，所以能保证这条数据的安全。</li><li>同理，服务器向浏览器传输的内容都用公钥 B 加密，浏览器收到后用私钥 B’解密。同上也可以保证这条数据的安全。</li></ol><p>的确可以！抛开这里面仍有的漏洞不谈（下文会讲），HTTPS 的加密却没使用这种方案，为什么？很重要的原因是非对称加密算法非常耗时，而对称加密快很多。那我们能不能运用非对称加密的特性解决前面提到的对称加密的漏洞？</p><h2 id="非对称加密-对称加密？"><a href="#非对称加密-对称加密？" class="headerlink" title="非对称加密+对称加密？"></a><strong>非对称加密+对称加密？</strong></h2><p>既然非对称加密耗时，那非对称加密+对称加密结合可以吗？而且得尽量减少非对称加密的次数。当然是可以的，且非对称加密、解密各只需用一次即可。<br>请看一下这个过程：</p><ol><li>某网站拥有用于非对称加密的公钥 A、私钥 A’。</li><li>浏览器向网站服务器请求，服务器把公钥 A 明文给传输浏览器。</li><li>浏览器随机生成一个用于对称加密的密钥 X，用公钥 A 加密后传给服务器。</li><li>服务器拿到后用私钥 A’解密得到密钥 X。</li><li>这样双方就都拥有密钥 X 了，且别人无法知道它。之后双方所有数据都通过密钥 X 加密解密即可。</li></ol><p>完美！HTTPS 基本就是采用了这种方案。完美？还是有漏洞的。</p><h2 id="中间人攻击"><a href="#中间人攻击" class="headerlink" title="中间人攻击"></a><strong>中间人攻击</strong></h2><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/3.jpg" alt="">中间人攻击（<a href="https://blog.pradeo.com/man-in-the-middle-attack）">https://blog.pradeo.com/man-in-the-middle-attack）</a></p><p>如果在数据传输过程中，中间人劫持到了数据，此时他的确无法得到浏览器生成的密钥 X，这个密钥本身被公钥 A 加密了，只有服务器才有私钥 A’解开它，然而中间人却完全不需要拿到私钥 A’就能干坏事了。请看：</p><ol><li>某网站有用于非对称加密的公钥 A、私钥 A’。</li><li>浏览器向网站服务器请求，服务器把公钥 A 明文给传输浏览器。</li><li><strong>中间人劫持到公钥 A，保存下来，把数据包中的公钥 A 替换成自己伪造的公钥 B（它当然也拥有公钥 B 对应的私钥 B’）</strong>。</li><li>浏览器生成一个用于对称加密的密钥 X，用<strong>公钥 B</strong>（浏览器无法得知公钥被替换了）加密后传给服务器。</li><li><strong>中间人劫持后用私钥 B’解密得到密钥 X，再用公钥 A 加密后传给服务器</strong>。</li><li>服务器拿到后用私钥 A’解密得到密钥 X。</li></ol><p>这样在双方都不会发现异常的情况下，中间人通过一套“狸猫换太子”的操作，掉包了服务器传来的公钥，进而得到了密钥 X。<strong>根本原因是浏览器无法确认收到的公钥是不是网站自己的，</strong>因为公钥本身是明文传输的，难道还得对公钥的传输进行加密？这似乎变成鸡生蛋、蛋生鸡的问题了。解法是什么？</p><h2 id="如何证明浏览器收到的公钥一定是该网站的公钥？"><a href="#如何证明浏览器收到的公钥一定是该网站的公钥？" class="headerlink" title="如何证明浏览器收到的公钥一定是该网站的公钥？"></a><strong>如何证明浏览器收到的公钥一定是该网站的公钥？</strong></h2><p>其实所有证明的源头都是一条或多条不证自明的“公理”（可以回想一下数学上公理），由它推导出一切。比如现实生活中，若想证明某身份证号一定是小明的，可以看他身份证，而身份证是由政府作证的，这里的“公理”就是“政府机构可信”，这也是社会正常运作的前提。</p><p>那能不能类似地有个机构充当互联网世界的“公理”呢？让它作为一切证明的源头，给网站颁发一个“身份证”？</p><p>它就是<strong>CA 机构</strong>，它是如今互联网世界正常运作的前提，而 CA 机构颁发的“身份证”就是<strong>数字证书</strong>。</p><h2 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a><strong>数字证书</strong></h2><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/4.jpg" alt=""></p><p>网站在使用 HTTPS 前，需要向<strong>CA 机构</strong>申领一份<strong>数字证书</strong>，数字证书里含有证书持有者信息、公钥信息等。服务器把证书传输给浏览器，浏览器从证书里获取公钥就行了，证书就如身份证，证明“该公钥对应该网站”。而这里又有一个显而易见的问题，“<strong>证书本身的传输过程中，如何防止被篡改”</strong>？即如何证明证书本身的真实性？身份证运用了一些防伪技术，而数字证书怎么防伪呢？解决这个问题我们就接近胜利了！</p><h2 id="如何放防止数字证书被篡改？"><a href="#如何放防止数字证书被篡改？" class="headerlink" title="如何放防止数字证书被篡改？"></a><strong>如何放防止数字证书被篡改？</strong></h2><p>我们把证书原本的内容生成一份“签名”，比对证书内容和签名是否一致就能判别是否被篡改。这就是数字证书的“防伪技术”，这里的“签名”就叫<code>数字签名</code>：</p><h2 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a><strong>数字签名</strong></h2><p>这部分内容建议看下图并结合后面的文字理解，图中左侧是数字签名的制作过程，右侧是验证过程：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/5.jpg" alt="">数字签名的生成与验证（<a href="https://cheapsslsecurity.com/blog/digital-signature-vs-digital-certificate-the-difference-explained/）">https://cheapsslsecurity.com/blog/digital-signature-vs-digital-certificate-the-difference-explained/）</a></p><p>数字签名的制作过程：</p><ol><li>CA 机构拥有非对称加密的私钥和公钥。</li><li>CA 机构对证书明文数据 T 进行 hash。</li><li>对 hash 后的值用私钥加密，得到数字签名 S。</li></ol><p>明文和数字签名共同组成了数字证书，这样一份数字证书就可以颁发给网站了。<br>那浏览器拿到服务器传来的数字证书后，如何验证它是不是真的？（有没有被篡改、掉包）</p><p>浏览器验证过程：</p><ol><li>拿到证书，得到明文 T，签名 S。</li><li>用 CA 机构的公钥对 S 解密（由于是浏览器信任的机构，所以浏览器保有它的公钥。详情见下文），得到 S’。</li><li>用证书里指明的 hash 算法对明文 T 进行 hash 得到 T’。</li><li>显然通过以上步骤，T’应当等于 S‘，除非明文或签名被篡改。所以此时比较 S’是否等于 T’，等于则表明证书可信。</li></ol><p>为何么这样可以保证证书可信呢？我们来仔细想一下。</p><h2 id="中间人有可能篡改该证书吗？"><a href="#中间人有可能篡改该证书吗？" class="headerlink" title="中间人有可能篡改该证书吗？"></a><strong>中间人有可能篡改该证书吗？</strong></h2><p>假设中间人篡改了证书的原文，由于他没有 CA 机构的私钥，所以无法得到此时加密后签名，无法相应地篡改签名。浏览器收到该证书后会发现原文和签名解密后的值不一致，则说明证书已被篡改，证书不可信，从而终止向服务器传输信息，防止信息泄露给中间人。</p><p>既然不可能篡改，那整个证书被掉包呢？</p><h2 id="中间人有可能把证书掉包吗？"><a href="#中间人有可能把证书掉包吗？" class="headerlink" title="中间人有可能把证书掉包吗？"></a><strong>中间人有可能把证书掉包吗？</strong></h2><p>假设有另一个网站 B 也拿到了 CA 机构认证的证书，它想劫持网站 A 的信息。于是它成为中间人拦截到了 A 传给浏览器的证书，然后替换成自己的证书，传给浏览器，之后浏览器就会错误地拿到 B 的证书里的公钥了，这确实会导致上文“中间人攻击”那里提到的漏洞？</p><p>其实这并不会发生，因为证书里包含了网站 A 的信息，包括域名，浏览器把证书里的域名与自己请求的域名比对一下就知道有没有被掉包了。</p><h2 id="为什么制作数字签名时需要-hash-一次？"><a href="#为什么制作数字签名时需要-hash-一次？" class="headerlink" title="为什么制作数字签名时需要 hash 一次？"></a><strong>为什么制作数字签名时需要 hash 一次？</strong></h2><p>我初识 HTTPS 的时候就有这个疑问，因为似乎那里的 hash 有点多余，把 hash 过程去掉也能保证证书没有被篡改。</p><p>最显然的是性能问题，前面我们已经说了非对称加密效率较差，证书信息一般较长，比较耗时。而 hash 后得到的是固定长度的信息（比如用 md5 算法 hash 后可以得到固定的 128 位的值），这样加解密就快很多。</p><p>当然也有安全上的原因，这部分内容相对深一些，感兴趣的可以看这篇解答：<a href="https://crypto.stackexchange.com/a/12780">crypto.stackexchange.com/a/12780</a></p><h2 id="怎么证明-CA-机构的公钥是可信的？"><a href="#怎么证明-CA-机构的公钥是可信的？" class="headerlink" title="怎么证明 CA 机构的公钥是可信的？"></a><strong>怎么证明 CA 机构的公钥是可信的？</strong></h2><p>你们可能会发现上文中说到 CA 机构的公钥，我几乎一笔带过，“浏览器保有它的公钥”，这是个什么保有法？怎么证明这个公钥是否可信？</p><p>让我们回想一下数字证书到底是干啥的？没错，为了证明某公钥是可信的，即“该公钥是否对应该网站”，那 CA 机构的公钥是否也可以用数字证书来证明？没错，操作系统、浏览器本身会预装一些它们信任的根证书，如果其中会有 CA 机构的根证书，这样就可以拿到它对应的可信公钥了。</p><p>实际上证书之间的认证也可以不止一层，可以 A 信任 B，B 信任 C，以此类推，我们把它叫做<code>信任链</code>或<code>数字证书链</code>。也就是一连串的数字证书，由根证书为起点，透过层层信任，使终端实体证书的持有者可以获得转授的信任，以证明身份。</p><p>另外，不知你们是否遇到过网站访问不了、提示需安装证书的情况？这里安装的就是根证书。说明浏览器不认给这个网站颁发证书的机构，那么你就得手动下载安装该机构的根证书（风险自己承担 XD）。安装后，你就有了它的公钥，就可以用它验证服务器发来的证书是否可信了。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/6.jpg" alt="">信任链（<a href="https://publib.boulder.ibm.com/tividd/td/TRM/GC32-1323-00/en_US/HTML/admin230.htm）">https://publib.boulder.ibm.com/tividd/td/TRM/GC32-1323-00/en_US/HTML/admin230.htm）</a></p><h2 id="每次进行-HTTPS-请求时都必须在-SSL-TLS-层进行握手传输密钥吗？"><a href="#每次进行-HTTPS-请求时都必须在-SSL-TLS-层进行握手传输密钥吗？" class="headerlink" title="每次进行 HTTPS 请求时都必须在 SSL/TLS 层进行握手传输密钥吗？"></a><strong>每次进行 HTTPS 请求时都</strong>必须<strong>在 SSL/TLS 层进行握手传输密钥吗？</strong></h2><p>这也是我当时的困惑之一，显然每次请求都经历一次密钥传输过程非常耗时，那怎么达到只传输一次呢？</p><p>服务器会为每个浏览器（或客户端软件）维护一个 session ID，在 TLS 握手阶段传给浏览器，浏览器生成好密钥传给服务器后，服务器会把该密钥存到相应的 session ID 下，之后浏览器每次请求都会携带 session ID，服务器会根据 session ID 找到相应的密钥并进行解密加密操作，这样就不必要每次重新制作、传输密钥了！</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h2><p>可以看下这张图，梳理一下整个流程（SSL、TLS 握手有一些区别，不同版本间也有区别，不过大致过程就是这样）：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/https/7.jpg" alt=""></p><p>（www.extremetech.com）</p><p>至此，我们已自上而下地打通了 HTTPS 加密的整体脉络以及核心知识点，不知你是否真正搞懂了 HTTPS 呢？<br>找几个时间，多看、多想、多理解几次就会越来越清晰的！<br>那么，下面的问题你是否已经可以解答了呢？</p><ol><li>为什么要用对称加密+非对称加密？</li><li>为什么不能只用非对称加密？</li><li>为什么需要数字证书？</li><li>为什么需要数字签名？<br>…</li></ol><p>当然，由于篇幅和能力所限，一些更深入的内容没有覆盖到。但我认为一般对于前后端开发人员来说，了解到这步就够了，有兴趣的可以再深入研究~如有疏漏之处，欢迎指出。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;HTTPS（SSL/TLS）的加密机制虽然是大家都应了解的基本知识，但网上很多相关文章总会忽略一些内容，没有阐明完整的逻辑脉络，我当年学习它的时候也废了挺大功夫。&lt;/p&gt;
&lt;p&gt;对称与非对称加密、数字签名、数字证书等，在学习过程中，除了了解“它是什么”，你是否有想过“为什么</summary>
      
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="HTTPS" scheme="https://anzhiy.cn/tags/HTTPS/"/>
    
  </entry>
  
  <entry>
    <title>京东自动签到实现教程</title>
    <link href="https://anzhiy.cn/posts/3830.html"/>
    <id>https://anzhiy.cn/posts/3830.html</id>
    <published>2021-08-20T06:45:21.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>前段时间在某论坛上看到关于京东签到脚本的实现方式，于是就进行了记录部署过程</p></blockquote><div class="tip warning"><p>任何脚本都是有风险的，实践之前请注意，京东 cokies 代表的即是你本人，不要轻易将你的 cokies 交给其他人，下面示例中使用的是 Github<a href="https://github.com/zero205">zero205</a>搬运的代码，内置了该搬运工的助力码，也就是使用改代码必会帮他助力（不过人家不能用爱发电 hhh，更新速度也很快）</p></div><div class="tip warning"><p>该教程仅供学习使用，请于 24 小时内删除该代码！</p></div><p>有两种部署方式，如果你有自己的服务器建议使用第二种部署方式，第一种部署方式可能会产生部分费用但是相对第二种部署方式较为简单</p><details class="folding-tag" blue><summary> 部署方式 1：利用腾讯云或阿里云函数实现 </summary>              <div class='content'>              <p>如果你没有服务器，并且也不想折腾的很麻烦，建议使用此方式进行部署</p><p>首先我们先来了解什么是：Github Action</p><details class="folding-tag" blue><summary> Github Action </summary>              <div class='content'>              <h3 id="Github-Action"><a href="#Github-Action" class="headerlink" title="Github Action"></a><a href="https://link.zhihu.com/?target=https%3A//github.com/features/actions">Github Action</a></h3><p>Github Actions 是由 Github 创建的 CI/CD 服务。 它的目的是使所有软件开发工作流程的自动化变得容易。 直接从 GitHub 构建，测试和部署代码。CI（持续集成）由很多操作组成，比如代码合并、运行测试、登录远程服务器，发布到第三方服务等等。GitHub 把这些操作就称为 actions。</p><p>很多操作在不同项目里面是类似的，完全可以共享。GitHub 允许开发者把每个操作写成独立的脚本文件，存放到代码仓库，使得其他开发者可以引用。</p><p>如果你需要某个 action，不必自己写复杂的脚本，直接引用他人写好的 action 即可，整个持续集成过程，就变成了一个 actions 的组合。这就是 GitHub Actions 最特别的地方。</p><p>GitHub 做了一个<a href="https://link.zhihu.com/?target=https%3A//github.com/marketplace%3Ftype%3Dactions">GitHub Marketplace</a> ，可以搜索到他人提交的 actions。另外，还有一个<a href="https://link.zhihu.com/?target=https%3A//github.com/sdras/awesome-actions">Awesome Actions</a>的仓库，也可以找到不少 action。</p><p><strong>基础概念</strong></p><p>GitHub Actions 有一些自己的术语。</p><ul><li>workflow （工作流程）：持续集成一次运行的过程。</li><li>job （任务）：一个 workflow 由一个或多个 job 构成，含义是一次持续集成的运行，可以完成多个任务。</li><li>step（步骤）：每个 job 由多个 step 构成，一步步完成。</li><li>action （动作）：每个 step 可以依次执行一个或多个命令（action）。</li></ul><p><strong>虚拟环境</strong></p><p>GitHub Ac­tions 为每个任务 (job) 都提供了一个虚拟机来执行，每台虚拟机都有相同的硬件资源：</p><ul><li>2-core CPU, 7 GB RAM 内存, 14 GB SSD 硬盘空间</li><li>硬盘总容量为 90G 左右，可用空间为 30G 左右，评测详见：《GitHub Actions 虚拟服务器环境简单评测》</li></ul><p>使用限制：</p><ul><li>每个仓库只能同时支持 20 个 workflow 并行。</li><li>每小时可以调用 1000 次 GitHub API 。</li><li>每个 job 最多可以执行 6 个小时。</li><li>免费版的用户最大支持 20 个 job 并发执行，macOS 最大只支持 5 个。</li><li>私有仓库每月累计使用时间为 2000 分钟，超过后$ 0.008/分钟，公共仓库则无限制。</li><li>操作系统方面可选择 Win­dows server、Linux、ma­cOS，并预装了大量软件包和工具。</li></ul><blockquote><p>TIPS： 虽然名称叫持续集成，但当所有任务终止和完成时，虚拟环境内的数据会随之清空，并不会持续。即每个新任务都是一个全&gt;新的虚拟环境。</p></blockquote><p><strong>workflow 文件</strong></p><p>GitHub Ac­tions 的配置文件叫做 work­flow 文件，存放在代码仓库的<code>.github/workflows</code> 目录中。</p><p>work­flow 文件采用 YAML 格式，文件名可以任意取，但是后缀名统一为.yml，比如 <code>build.yml</code>。一个库可以有多个 work­flow 文件，GitHub 只要发现<code>.github/workflows</code> 目录里面有<code>.yml</code> 文件，就会按照文件中所指定的触发条件在符合条件时自动运行该文件中的工作流程。</p><p>在 Ac­tions 页面可以看到很多种语言的 work­flow 文件的模版，可以用于简单的构建与测试。下面是一个简单的 work­flow 文件示例：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">name: Hello World</span><br><span class="line">on: push</span><br><span class="line"><span class="built_in">jobs</span>:</span><br><span class="line">  my_first_job:</span><br><span class="line">    name: My first job</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">    - name: checkout</span><br><span class="line">      uses: actions/checkout@master</span><br><span class="line">    - name: Run a single-line script</span><br><span class="line">      run: <span class="built_in">echo</span> <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line">  my_second_job:</span><br><span class="line">    name: My second job</span><br><span class="line">    runs-on: macos-latest</span><br><span class="line">    steps:</span><br><span class="line">    - name: Run a multi-line script</span><br><span class="line">      <span class="built_in">env</span>:</span><br><span class="line">        MY_VAR: Hello World!</span><br><span class="line">        MY_NAME: P3TERX</span><br><span class="line">      run: |</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$MY_VAR</span></span><br><span class="line">        <span class="built_in">echo</span> My name is <span class="variable">$MY_NAME</span></span><br></pre></td></tr></table></figure><p><strong>workflow 语法</strong></p><p>(1) name</p><p>name 字段是 work­flow 的名称。若忽略此字段，则默认会设置为 work­flow 文件名。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name: GitHub Actions Demo</span><br></pre></td></tr></table></figure><p>(2) on</p><p>on 字段指定 work­flow 的触发条件，通常是某些事件，比如示例中的触发事件是 push，即在代码 push 到仓库后被触发。on 字段也可以是事件的数组，多种事件触发，比如在 push 或 pull_request 时触发：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">on: [push, pull_request]</span><br></pre></td></tr></table></figure><ul><li>push 指定分支触发</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br></pre></td></tr></table></figure><ul><li>push tag 时触发</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    tags:</span><br><span class="line">    - <span class="string">&#x27;v*&#x27;</span></span><br></pre></td></tr></table></figure><p>完整的事件列表，请查看<a href="https://link.zhihu.com/?target=https%3A//docs.github.com/en/actions/reference/events-that-trigger-workflows">官方文档</a>。除了代码库事件，GitHub Actions 也支持外部事件触发，或者定时运行。</p><p>(3) jobs</p><p>jobs 表示要执行的一项或多项任务。每一项任务必须关联一个 ID (job<em>id)，比如示例中的 my_first_job 和 my_second_job。job_id 里面的 name 字段是任务的名称。job_id 不能有空格，只能使用数字、英文字母和 - 或</em>符号，而 name 可以随意，若忽略 name 字段，则默认会设置为 job_id。</p><p>当有多个任务时，可以指定任务的依赖关系，即运行顺序，否则是同时运行。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">jobs</span>:</span><br><span class="line">  job1:</span><br><span class="line">  job2:</span><br><span class="line">    needs: job1</span><br><span class="line">  job3:</span><br><span class="line">    needs: [job1, job2]</span><br></pre></td></tr></table></figure><p>上面代码中，job1 必须先于 job2 完成，而 job3 等待 job1 和 job2 的完成才能运行。因此，这个 work­flow 的运行顺序依次为：job1、job2、job3。</p><p>(4) runs-on</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runs-on: ubuntu-18.04</span><br></pre></td></tr></table></figure><p>runs-on 字段指定任务运行所需要的虚拟服务器环境，是必填字段，目前可用的虚拟机如下：</p><p>（5）steps</p><p>steps 字段指定每个任务的运行步骤，可以包含一个或多个步骤。步骤开头使用 - 符号。每个步骤可以指定以下字段:</p><ul><li>name：步骤名称。</li><li>uses：该步骤引用的 action 或 Docker 镜像。</li><li>run：该步骤运行的 bash 命令。</li><li>env：该步骤所需的环境变量。 其中 uses 和 run 是必填字段，每个步骤只能有其一。同样名称也是可以忽略的。</li></ul><p><strong>action</strong></p><p>action 是 GitHub Ac­tions 中的重要组成部分，这点从名称中就可以看出，actions 是 action 的复数形式。它是已经编写好的步骤脚本，存放在 GitHub 仓库中。</p><p>对于初学者来说可以直接引用其它开发者已经写好的 action，可以在官方 action 仓库或者 <a href="https://link.zhihu.com/?target=https%3A//github.com/marketplace%3Ftype%3Dactions">GitHub Marketplace</a> 去获取。此外 <a href="https://link.zhihu.com/?target=https%3A//github.com/sdras/awesome-actions">Awesome Actions</a> 这个项目收集了很多非常不错的 action。 既然 action 是代码仓库，当然就有版本的概念。引用某个具体版本的 action：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">steps:</span><br><span class="line">  - uses: actions/setup-node@74bc508 <span class="comment"># 指定一个 commit</span></span><br><span class="line">  - uses: actions/setup-node@v1.2    <span class="comment"># 指定一个 tag</span></span><br><span class="line">  - uses: actions/setup-node@master  <span class="comment"># 指定一个分支</span></span><br></pre></td></tr></table></figure>              </div>            </details><p>了解了 什么是 Github action 之后，我们就可以开始进行操作了。</p><p>第一步我们需要先拉取仓库</p><details class="folding-tag" yellow><summary> 拉取仓库并将scf分支作为主分支步骤 </summary>              <div class='content'>              <p>进入<a href="https://github.com/">https://github.com/</a></p><ol><li><p>注册账号后右上角<a href="https://github.com/new">导入仓库</a>，如图 ( 有能力的自己新建仓库 然后拉取代码后手动执行一次工作流 ）</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/1.png" alt=""></p></li><li><p>点击<a href="https://github.com/new/import">Import a repository.</a></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/2.png" alt=""></p></li><li><p>在 Your old repository’s clone URL 输入下面链接</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/zero205/JD_tencent_scf</span><br></pre></td></tr></table></figure><p>Repository name 仓库名字随便起名，将仓库改为私有，然后点击 Begin import，完成导入</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/3.png" alt=""></p></li></ol><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/4.png" alt=""></p><ol><li>将分支切换为 main 分支后，在下拉菜单中点击最下方’view all branches’，点击’Default branch’最右侧箭头,然后在新页面继续点击箭头,再弹出框中选择’scf’为主分支<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/5.png" alt=""><br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/6.png" alt=""><br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/7.png" alt=""> 5. 点击 Updata 后，确定更改 scf 为主分支<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/8.png" alt=""> 6. 然后回到代码仓库中，在仓库页面点击’main’分支,在下拉菜单中点击最下方’view all branches’,点击’maim’分支右侧垃圾桶,确认删除分支<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/9.png" alt=""> 7. 点击刚才页面’scf’分支右侧笔图标,将其重命名为’main’<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/10.png" alt=""></li></ol>              </div>            </details><p>第二步同步<a href="https://github.com/zero205">zero205</a>仓库的代码</p><p>通过 reposync 方式进行代码同步</p><details class="folding-tag" blue><summary> 同步zero205仓库的代码 </summary>              <div class='content'>              <ol><li><p><strong>PAT(Personal Access Token)模式</strong><br>即用私人访问命令的形式来判断该账户是否有权限接触仓库。通过 github 配置有一定限制性的密钥，并将其发放给其他开发人员，以共同完成代码仓库的开发和管理。</p><div class="tip warning faa-horizontal animated-hover"><p>注意 PAT 的隐私性，PAT 只会在生成时显示一次！保证你的 PAT 权限只勾选了你所需要的权限，永远不要将所有权限都开放给未知的人和事物，永远不要泄露你的 PAT！</p></div></li><li><p><strong>申请 PAT</strong><br><a href="https://github.com/settings/tokens/new">点此来生成一个 token</a> ，把 <code>repo</code>和<code>workflow</code> 两部分勾上，然后点击最下面的创建按钮。</p></li><li><p><strong>填写 PAT 到 Secrets</strong>申请完毕后，在分支中点击<code>Settings</code>-<code>Secrets</code>-<code>New secret</code></p><p><code>name</code>填<code>PAT</code>，<code>Value</code>填入上方申请到的 PAT,保存即可</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/11.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/12.png" alt=""></p></li><li><p><strong>手动触发一次代码同步</strong>点击<code>Actions</code>，执行<code>Run Workflows</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/13.png" alt=""></p><p>等待两分钟左右,能够发现代码全部同步过来</p></li></ol>              </div>            </details><p>在部署之前我们需要为 Github Action 配置一些 secrets 变量</p><details class="folding-tag" blue><summary> 配置步骤 </summary>              <div class='content'>              <p>依次登录 <a href="https://console.cloud.tencent.com/scf">SCF 云函数控制台</a> 和 <a href="https://console.cloud.tencent.com/sls">SLS 控制台</a> 开通相关服务，确保账户下已开通服务并创建相应<a href="https://console.cloud.tencent.com/cam/role">服务角色</a> <strong>SCF_QcsRole、SLS_QcsRole</strong></p><blockquote><p>注意！为了确保权限足够，获取这两个参数时不要使用子账户！此外，腾讯云账户需要<a href="https://console.cloud.tencent.com/developer/auth">实名认证</a>。</p></blockquote><p><strong>新建腾讯云密钥（用于身份识别）</strong></p><p>在这里新建一个访问密钥 <a href="https://console.cloud.tencent.com/cam/capi">新建密钥</a></p><p>新建完成后你可以得到你的<code>SecretId</code>和<code>SecretKey</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/14.png" alt=""></p><blockquote><p>将 SecretId 和 SecretKey 分别配置在仓库的 secrets 变量里面</p><p>TENCENT_SECRET_ID 对应你的 SecretId 的值</p><p>TENCENT_SECRET_KEY 对应你的 SecretKey 的值</p></blockquote><p>在 github 中配置 secrets 变量</p><p><strong>secrets 变量位置 : <code>Settings</code>—<code>左边栏的Secrets</code>—<code>右上角New repository secret</code>—<code>Name填变量名称,Value填变量值</code></strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/15.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/16.png" alt=""></p>              </div>            </details><h3 id="获取京东-cookie"><a href="#获取京东-cookie" class="headerlink" title="获取京东 cookie"></a>获取京东 cookie</h3><p>配置完腾讯云的两个参数之后还需要配置京东的 cookie</p><p>这里有两种获取方式，自己选一种合适方便的获取京东 的 cookie 就好了</p><details class="folding-tag" blue><summary> 方法一 </summary>              <div class='content'>              <p><strong>浏览器获取京东 cookie</strong></p><p><strong>以下浏览器都行</strong></p><ul><li>Chrome 浏览器</li><li>新版 Edge 浏览器</li><li>国产 360，QQ 浏览器切换到极速模式</li></ul><p><strong>操作步骤</strong></p><ol><li><p>电脑浏览器打开京东网址 <a href="https://m.jd.com/">https://m.jd.com/</a></p></li><li><p>按键盘 F12 键打开开发者工具，然后点下图中的图标<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/17.png" alt=""></p></li><li><p>此时是未登录状态(使用手机短信验证码登录)，如已登录请忽略此步骤</p><ul><li>使用手机短信验证码登录(此方式 cookie 有效时长大概 31 天，其他登录方式比较短)</li></ul></li><li><p>登录后，选择 Network,有很多链接的话点箭头这里清空下<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/18.png" alt=""></p></li><li><p>然后再点我的，链接就变少了<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/19.png" alt=""></p></li><li><p>点第一个链接(log.gif)进去，找到 cookie，复制出来，新建一个 TXT 文本临时保存一下，下面需要用到<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/20.png" alt=""></p></li><li><p>第六步复制出来的 cookie 比较长，我们只需要<code>pt_pin=xxxx;</code>和 <code>pt_key=xxxx;</code>部分的内容即可(注:英文引号<code>;</code>是必要的)。可以用下面的脚本，在 Chrome 浏览器按 F12，console 里面输入下面脚本按 enter 回车键<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/21.png" alt=""></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CV</span> = <span class="string">&#x27;单引号里面放第六步拿到的cookie&#x27;</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CookieValue</span> = <span class="variable constant_">CV</span>.<span class="title function_">match</span>(<span class="regexp">/pt_pin=.+?;/</span>) + <span class="variable constant_">CV</span>.<span class="title function_">match</span>(<span class="regexp">/pt_key=.+?;/</span>)</span><br><span class="line"><span class="title function_">copy</span>(<span class="title class_">CookieValue</span>)</span><br></pre></td></tr></table></figure></li><li><p>这样子整理出关键的的 cookie 已经在你的剪贴板上， 可直接粘贴</p></li><li><p>如果需获取第二个京东账号的 cookie,不要在刚才的浏览器上面退出登录账号一(否则刚才获取的 cookie 会失效),需另外换一个浏览器(Chrome 浏览器 <code>ctr+shift+n</code> 打开无痕模式也行),然后继续按上面步骤操作即可</p></li></ol>              </div>            </details><details class="folding-tag" blue><summary> 方法二 </summary>              <div class='content'>              <p><strong>插件获取京东 cookie</strong></p><blockquote><p>此教程内容由 tg 用户@wukongdada 提供,特此感谢</p></blockquote><p><strong>以下浏览器都行</strong></p><ul><li>Chrome 浏览器</li><li>新版 Edge 浏览器(chrome 内核)</li></ul><p><strong>操作步骤</strong></p><ol><li>电脑浏览器打开京东网址 <a href="https://m.jd.com/">https://m.jd.com/</a></li><li>Chrome 类浏览器安装 EditThisCookie 插件<ul><li>Chrome 插件商店搜 EditThisCookie, 或者<a href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg?utm_source=chrome-ntp-icon">打开此网站</a> 进行安装</li><li>仅使用百分浏览器，谷歌浏览器测试过，其他谷歌类浏览器请自行测试。</li><li>无法登录 Chrome 插件商店或者打不开网址建议使用 edge chrome 版。</li></ul></li><li>edge chrome 浏览器安装 Cookie Editor 插件 - edge 插件商店搜 Cookie Editor，或<a href="https://microsoftedge.microsoft.com/addons/detail/cookie-editor/ajfboaconbpkglpfanbmlfgojgndmhmc?hl=zh-CN">打开以下网址</a> 完成插件安装</li><li>输入的网址是 <code>jd.com</code></li><li>现在点击回到京东触屏版，再点击 EditThisCookie/Cookie Editor，再点击搜索，输入 key 或 pin，如下图所示的 pt_key，复制 pt_key 的 value 值。此插件可以看到 cookie 的有效期。<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/22.png" alt=""></li><li>按照以下格式形成自己的 jd_cookie<ul><li><code>pt_key=复制插件搜索出来的key值;pt_pin=复制插件搜索出来的pin值;</code> ,后面的英文引号<code>;</code>是必须要的</li><li>给一个京东 cookie 具体示例 <code>pt_key=jdDC2F833333EFDGTCE5BD4AD1A952D4F4DF84A46052;pt_pin=jd_123456;</code></li></ul></li><li>如果需获取第二个京东账号的 cookie,不要在刚才的浏览器上面退出登录账号一(否则刚才获取的 cookie 会失效),需另外换一个浏览器(Chrome 浏览器 <code>ctr+shift+n</code> 打开无痕模式也行),然后继续按上面步骤操作即可</li></ol>              </div>            </details><p>京东的环境变量名为<code>JD_COOKIE</code>，必填！在 secrets 里面加上我们刚刚获取到的 cookie</p><p>如果涉及一个变量配置多个值，如多个 cookie，互助码，多个取消订阅关键字，去掉里面的 <strong>空格</strong> 和 <strong>换行</strong> 使用 <code>&amp;</code> 连接</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/23.png" alt=""></p><h3 id="额外的-secrets-变量"><a href="#额外的-secrets-变量" class="headerlink" title="额外的 secrets 变量"></a>额外的 secrets 变量</h3><p>除了腾讯云的参数和京东的 cookie 之外可能还需要配 secrets，这些变量都有默认值但是可能与你的预期有出入</p><details class="folding-tag" blue><summary> 配置secrets变量 </summary>              <div class='content'>              <p>secret 变量有三个<strong>选填变量</strong> <code>SCF_REGION</code>,<code>TENCENT_FUNCTION_NAME</code>,<code>TENCENTSCF_MEMORYSIZE</code>.都有默认值,可不修改.</p><p><code>SCF_REGION</code>用于控制部署区域的选择，默认值为<code>ap-guangzhou</code>，其他地区具体参数代码填写可以自行查找官方说明 <a href="https://cloud.tencent.com/document/product/213/6091">地域和可用区</a></p><p><code>TENCENT_FUNCTION_NAME</code>用于控制部署到云函数后函数名的命名,别瞎改,改名的话确保之前的已经删除 默认值为<code>JD</code></p><p><code>TENCENTSCF_MEMORYSIZE</code>值为运行内存大小的设定值，默认值为<code>64</code>，需求更大内存的可填入<code>128</code>，云函数有 128MB 就能满足了</p><p>请注意<strong>提高内存设定值相应地也会加快消耗云函数的免费额度，超出免费额度将会产生费用</strong></p>              </div>            </details><h3 id="执行-action-workflow-进行部署"><a href="#执行-action-workflow-进行部署" class="headerlink" title="执行 action workflow 进行部署"></a>执行 action workflow 进行部署</h3><p>workflow 未报错即部署成功</p><details class="folding-tag" blue><summary> 部署并测试 </summary>              <div class='content'>              <p><strong>下图 workflow 名字现在叫做 Deploy</strong><br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/24.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/25.png" alt=""></p><p><strong>查看和测试</strong></p><p>登录后，在 <a href="https://console.cloud.tencent.com/scf/index">腾讯云函数地址</a> 点击管理控制台，查看最新部署的函数。</p><p>在左侧栏的日志查询中，可以查看到触发的日志，包括是否打卡成功等。</p><p><strong>请点击右下角切换旧版编辑器!</strong><br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/26.png" alt=""></p><p><strong>自己参照图内填写测试脚本名称,不带后缀,测什么,填什么</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/27.png" alt=""></p><blockquote><p>如果出错了，排查问题第一步先看自己<a href="https://console.cloud.tencent.com/scf/list-detail?rid=5&amp;ns=default&amp;id=jd">腾讯云函数</a>那边的环境变量跟自己在仓库配置的 <code>secrets</code> 是否一致</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/28.png" alt=""></p></blockquote>              </div>            </details>              </div>            </details><details class="folding-tag" blue><summary> 部署方式 2：青龙面板 </summary>              <div class='content'>              <p>如果本教程看不懂或者操作出现问题，证明您的计算机专业知识并不支持本文章的搭建操作。</p><p><strong>第一步 购买云服务器</strong></p><p>个人推荐阿里云服务器 1 核 2G 即可 搞活动一年一百来块钱 系统选择 CentOs 8 （CentOs 8 自带 dnf 命令）等待配置完成。</p><p>百度搜索 Finalshell 下载安装好。在 finalshell 新建连接 选择 SSH 连接。成功连接上如图</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/29.png" alt=""><br><strong>接下来在命令窗口，一条一条输入指令，输入完一条指令后需要等待指令操作完成再输入另外一条指令</strong><br>首先安装 docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo yum check-update</span><br><span class="line">curl -fsSL https://get.docker.com/ | sh</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl status docker</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><p>安装完成后配置青龙面板</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -dit \</span><br><span class="line">  --name QL \</span><br><span class="line">  --hostname QL \</span><br><span class="line">  --restart always \</span><br><span class="line">  -p 5700:5700 \</span><br><span class="line">  -v <span class="variable">$PWD</span>/QL/config:/ql/config \</span><br><span class="line">  -v <span class="variable">$PWD</span>/QL/log:/ql/log \</span><br><span class="line">  -v <span class="variable">$PWD</span>/QL/db:/ql/db \</span><br><span class="line">  -v <span class="variable">$PWD</span>/QL/scripts:/ql/scripts \</span><br><span class="line">  -v <span class="variable">$PWD</span>/QL/jbot:/ql/jbot \</span><br><span class="line">  whyour/qinglong:latest</span><br></pre></td></tr></table></figure><p>等待一段时间后，在浏览器输入 ip:5700 即可登录青龙面板<br>用户名为 admin 密码是 adminadmin</p><p><strong>重置密码</strong></p><p>登录成功后，在/root/QL/config 中找到 auth.json<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/jd/30.png" alt=""><br>打开文件查看已重置的密码 登录即可。</p>              </div>            </details><h3 id="Script-脚本列表"><a href="#Script-脚本列表" class="headerlink" title="Script 脚本列表"></a>Script 脚本列表</h3><p><strong>说明</strong></p><ol><li>其中 <a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_bean_sign.js">jd_bean_sign.js</a> 可 N 个京东账号，Node.js 专用，核心脚本是 JD_DailyBonus.js， IOS 软件用户请使用 NobyDa 的 <a href="https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js">JD_DailyBonus.js</a></li><li>以字母排序。</li></ol><details class="folding-tag" blue><summary> Script 脚本列表 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>序号</th><th>文件</th><th>名称</th><th>活动入口</th></tr></thead><tbody><tr><td>1</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_bean_change.js">jd_bean_change.js</a></td><td>京东资产变动通知</td><td></td></tr><tr><td>2</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_bean_home.js">jd_bean_home.js</a></td><td>领京豆额外奖励</td><td>京东 APP 首页-领京豆</td></tr><tr><td>3</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_bean_sign.js">jd_bean_sign.js</a></td><td>京东多合一签到</td><td>各处的签到汇总</td></tr><tr><td>4</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_beauty.js">jd_beauty.js</a></td><td>美丽研究院</td><td>京东 app 首页-美妆馆-底部中间按钮</td></tr><tr><td>5</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_blueCoin.js">jd_blueCoin.js</a></td><td>东东超市兑换奖品</td><td>京东 APP 我的-更多工具-东东超市</td></tr><tr><td>6</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_bookshop.js">jd_bookshop.js</a></td><td>口袋书店</td><td>京东 app 首页-京东图书-右侧口袋书店</td></tr><tr><td>7</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_car.js">jd_car.js</a></td><td>京东汽车</td><td>京东 APP 首页-京东汽车-屏幕右中部，车主福利</td></tr><tr><td>8</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_car_exchange.js">jd_car_exchange.js</a></td><td>京东汽车兑换</td><td>京东 APP 首页-京东汽车-屏幕右中部，车主福利</td></tr><tr><td>9</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_cash.js">jd_cash.js</a></td><td>签到领现金</td><td>京东 APP 搜索领现金进入</td></tr><tr><td>10</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_cfd.js">jd_cfd.js</a></td><td>京喜财富岛</td><td>京喜 APP-我的-京喜财富岛</td></tr><tr><td>11</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_club_lottery.js">jd_club_lottery.js</a></td><td>摇京豆</td><td>京东 APP 首页-领京豆-摇京豆/京东 APP 首页-我的-京东会员-摇京豆</td></tr><tr><td>12</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_crazy_joy.js">jd_crazy_joy.js</a></td><td>crazyJoy 任务</td><td>京东 APP 我的-更多工具-疯狂的 JOY</td></tr><tr><td>13</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_crazy_joy_bonus.js">jd_crazy_joy_bonus.js</a></td><td>监控 crazyJoy 分红</td><td>京东 APP 我的-更多工具-疯狂的 JOY</td></tr><tr><td>14</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_crazy_joy_coin.js">jd_crazy_joy_coin.js</a></td><td>crazyJoy 挂机</td><td>京东 APP 我的-更多工具-疯狂的 JOY</td></tr><tr><td>15</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_daily_egg.js">jd_daily_egg.js</a></td><td>天天提鹅</td><td>京东金融-天天提鹅</td></tr><tr><td>16</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_delCoupon.js">jd_delCoupon.js</a></td><td>删除优惠券</td><td>京东 APP 我的-优惠券</td></tr><tr><td>17</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_dreamFactory.js">jd_dreamFactory.js</a></td><td>京喜工厂</td><td>京东 APP-游戏与互动-查看更多-京喜工厂</td></tr><tr><td>18</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_dreamFactory2.js">jd_dreamFactory2.js</a></td><td>京喜工厂</td><td>京东 APP-游戏与互动-查看更多-京喜工厂</td></tr><tr><td>19</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_family.js">jd_family.js</a></td><td>京东家庭号</td><td>玩一玩-家庭号</td></tr><tr><td>20</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_fruit.js">jd_fruit.js</a></td><td>东东农场</td><td>京东 APP 我的-更多工具-东东农场</td></tr><tr><td>21</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_get_share_code.js">jd_get_share_code.js</a></td><td>获取互助码</td><td></td></tr><tr><td>22</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_global.js">jd_global.js</a></td><td>环球挑战赛</td><td>京东 app 搜索京东国际-环球挑战赛</td></tr><tr><td>23</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_global_mh.js">jd_global_mh.js</a></td><td>京东国际盲盒</td><td>京东 app 首页浮动窗口</td></tr><tr><td>24</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_jdfactory.js">jd_jdfactory.js</a></td><td>东东工厂</td><td>京东 APP 首页-数码电器-东东工厂</td></tr><tr><td>25</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_jdzz.js">jd_jdzz.js</a></td><td>京东赚赚</td><td>京东赚赚小程序</td></tr><tr><td>26</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy.js">jd_joy.js</a></td><td>宠汪汪</td><td>京东 APP 我的-更多工具-宠汪汪</td></tr><tr><td>27</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_feedPets.js">jd_joy_feedPets.js</a></td><td>宠汪汪 🐕 喂食</td><td>京东 APP 我的-更多工具-宠汪汪</td></tr><tr><td>28</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_help.js">jd_joy_help.js</a></td><td>宠汪汪强制为别人助力</td><td>京东 APP 我的-更多工具-宠汪汪</td></tr><tr><td>29</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_reward.js">jd_joy_reward.js</a></td><td>宠汪汪积分兑换奖品</td><td>京东 APP 我的-更多工具-宠汪汪</td></tr><tr><td>30</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_joy_run.js">jd_joy_run.js</a></td><td>宠汪汪赛跑</td><td>京东 APP 我的-更多工具-宠汪汪</td></tr><tr><td>31</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_jxd.js">jd_jxd.js</a></td><td>京小兑</td><td>微信搜索小程序-京小兑</td></tr><tr><td>32</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_jxnc.js">jd_jxnc.js</a></td><td>京喜农场</td><td>京喜 APP 我的-京喜农场</td></tr><tr><td>33</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_kd.js">jd_kd.js</a></td><td>京东快递签到</td><td><a href="https://jingcai-h5.jd.com/#/">活动地址</a></td></tr><tr><td>34</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_live.js">jd_live.js</a></td><td>京东直播</td><td>京东 APP 首页-京东直播</td></tr><tr><td>35</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_live_redrain.js">jd_live_redrain.js</a></td><td>超级直播间红包雨</td><td></td></tr><tr><td>36</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_lotteryMachine.js">jd_lotteryMachine.js</a></td><td>京东抽奖机</td><td>京东 APP 中各种抽奖活动的汇总</td></tr><tr><td>37</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_mohe.js">jd_mohe.js</a></td><td>5G 超级盲盒</td><td><a href="https://isp5g.m.jd.com/">活动地址</a></td></tr><tr><td>38</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_moneyTree.js">jd_moneyTree.js</a></td><td>京东摇钱树</td><td>京东 APP 我的-更多工具-摇钱树</td></tr><tr><td>39</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_ms.js">jd_ms.js</a></td><td>京东秒秒币</td><td>京东 app-京东秒杀-签到领红包</td></tr><tr><td>40</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_necklace.js">jd_necklace.js</a></td><td>点点券</td><td>京东 APP-领券中心/券后 9.9-领点点券</td></tr><tr><td>41</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_nzmh.js">jd_nzmh.js</a></td><td>女装盲盒抽京豆</td><td>京东 app-女装馆-赢京豆</td></tr><tr><td>42</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_pet.js">jd_pet.js</a></td><td>东东萌宠</td><td>京东 APP 我的-更多工具-东东萌宠</td></tr><tr><td>43</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_pigPet.js">jd_pigPet.js</a></td><td>金融养猪</td><td>京东金融养猪猪</td></tr><tr><td>44</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_plantBean.js">jd_plantBean.js</a></td><td>京东种豆得豆</td><td>京东 APP 我的-更多工具-种豆得豆</td></tr><tr><td>45</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_price.js">jd_price.js</a></td><td>京东保价</td><td>京东保价</td></tr><tr><td>46</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_rankingList.js">jd_rankingList.js</a></td><td>京东排行榜</td><td>京东 APP 首页-更多频道-排行榜-悬浮按钮</td></tr><tr><td>47</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_redPacket.js">jd_redPacket.js</a></td><td>京东全民开红包</td><td>京东 APP 首页-领券-锦鲤红包</td></tr><tr><td>48</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_sgmh.js">jd_sgmh.js</a></td><td>闪购盲盒</td><td>京东 APP 首页-闪购-闪购盲盒</td></tr><tr><td>49</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_shop.js">jd_shop.js</a></td><td>进店领豆</td><td>京东 APP 首页-领京豆-进店领豆</td></tr><tr><td>50</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_sign.js">jd_sign.js</a></td><td>京东卡包签到</td><td></td></tr><tr><td>51</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_small_home.js">jd_small_home.js</a></td><td>东东小窝</td><td>京东 APP 我的-游戏与更多-东东小窝</td></tr><tr><td>52</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_speed.js">jd_speed.js</a></td><td>✈️ 天天加速</td><td>京东 APP 我的-更多工具-天天加速</td></tr><tr><td>53</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_speed_sign.js">jd_speed_sign.js</a></td><td>京东极速版</td><td>京东极速版 app-现金签到</td></tr><tr><td>54</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_superMarket.js">jd_superMarket.js</a></td><td>东东超市</td><td>京东 APP 首页-京东超市-底部东东超市</td></tr><tr><td>55</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_syj.js">jd_syj.js</a></td><td>赚京豆</td><td>赚京豆(微信小程序)-赚京豆-签到领京豆</td></tr><tr><td>56</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jd_unsubscribe.js">jd_unsubscribe.js</a></td><td>取关京东店铺和商品</td><td></td></tr><tr><td>57</td><td><a href="https://gitee.com/lxk0301/jd_scripts/raw/master/jx_sign.js">jx_sign.js</a></td><td>京喜签到</td></tr></tbody></table></div>              </div>            </details><h3 id="环境变量说明"><a href="#环境变量说明" class="headerlink" title="环境变量说明"></a>环境变量说明</h3><details class="folding-tag" blue><summary> 环境变量说明 </summary>              <div class='content'>              <p><strong>京东(必须)</strong></p><div class="table-container"><table><thead><tr><th>Name</th><th>归属</th><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><code>JD_COOKIE</code></td><td>京东</td><td>必须</td><td>京东 cookie,多个账号的 cookie 使用<code>&amp;</code>隔开。具体获取参考<a href="https://github.com/lukesyy/jd_yun/blob/main/backUp/GetJdCookie.md">浏览器获取京东 cookie 教程</a> 或者 <a href="https://github.com/lukesyy/jd_yun/blob/main/backUp/GetJdCookie2.md">插件获取京东 cookie 教程</a></td></tr></tbody></table></div><p><strong>京东隐私安全 环境变量</strong></p><div class="table-container"><table><thead><tr><th>Name</th><th>归属</th><th>属性</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>JD_DEBUG</code></td><td>脚本打印 log</td><td>非必须</td><td>true</td><td>运行脚本时，是否显示 log,默认显示。改成 false 表示不显示，注重隐私的人可以设置 JD_DEBUG 为 false</td></tr><tr><td><code>JD_USER_AGENT</code></td><td>京东</td><td>非必须</td><td></td><td>自定义此库里京东系列脚本的 UserAgent，不懂不知不会 UserAgent 的请不要随意填写内容。如需使用此功能建议填写京东 APP 的 UA</td></tr></tbody></table></div><p><strong>推送通知环境变量(目前提供<code>微信server酱</code>、<code>pushplus(推送加)</code>、<code>iOS Bark APP</code>、<code>telegram机器人</code>、<code>钉钉机器人</code>、<code>企业微信机器人</code>、<code>iGot</code>等通知方式)</strong></p><div class="table-container"><table><thead><tr><th>Name</th><th>归属</th><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><code>PUSH_KEY</code></td><td>微信 server 酱推送</td><td>非必须</td><td>server 酱的微信通知<a href="http://sc.ftqq.com/3.version">官方文档</a>，已兼容 <a href="https://sct.ftqq.com/">Server 酱·Turbo 版</a></td></tr><tr><td><code>BARK_PUSH</code></td><td><a href="https://apps.apple.com/us/app/bark-customed-notifications/id1403753865">BARK 推送</a></td><td>非必须</td><td>IOS 用户下载 BARK 这个 APP,填写内容是 app 提供的<code>设备码</code>，例如：<a href="https://api.day.app/123">https://api.day.app/123</a> ，那么此处的设备码就是<code>123</code>，再不懂看 <a href="https://github.com/lukesyy/jd_yun/blob/main/icon/bark.jpg">这个图</a>（注：支持自建填完整链接即可）</td></tr><tr><td><code>BARK_SOUND</code></td><td><a href="https://apps.apple.com/us/app/bark-customed-notifications/id1403753865">BARK 推送</a></td><td>非必须</td><td>bark 推送声音设置，例如<code>choo</code>,具体值请在<code>bark</code>-<code>推送铃声</code>-<code>查看所有铃声</code></td></tr><tr><td><code>BARK_GROUP</code></td><td><a href="https://apps.apple.com/us/app/bark-customed-notifications/id1403753865">BARK 推送</a></td><td>非必须</td><td>bark 推送消息分组，例如<code>jd_scripts</code></td></tr><tr><td><code>TG_BOT_TOKEN</code></td><td>telegram 推送</td><td>非必须</td><td>tg 推送(需设备可连接外网),<code>TG_BOT_TOKEN</code>和<code>TG_USER_ID</code>两者必需,填写自己申请<a href="https://t.me/BotFather">@BotFather</a>的 Token,如<code>10xxx4:AAFcqxxxxgER5uw</code> , <a href="https://github.com/lukesyy/jd_yun/blob/main/backUp/TG_PUSH.md">具体教程</a></td></tr><tr><td><code>TG_USER_ID</code></td><td>telegram 推送</td><td>非必须</td><td>tg 推送(需设备可连接外网),<code>TG_BOT_TOKEN</code>和<code>TG_USER_ID</code>两者必需,填写<a href="https://t.me/getuseridbot">@getuseridbot</a>中获取到的纯数字 ID, <a href="https://github.com/lukesyy/jd_yun/blob/main/backUp/TG_PUSH.md">具体教程</a></td></tr><tr><td><code>DD_BOT_TOKEN</code></td><td>钉钉推送</td><td>非必须</td><td>钉钉推送(<code>DD_BOT_TOKEN</code>和<code>DD_BOT_SECRET</code>两者必需)<a href="https://developers.dingtalk.com/document/app/custom-robot-access">官方文档</a> ,只需<code>https://oapi.dingtalk.com/robot/send?access_token=XXX</code> 等于<code>=</code>符号后面的 XXX 即可</td></tr><tr><td><code>DD_BOT_SECRET</code></td><td>钉钉推送</td><td>非必须</td><td>(<code>DD_BOT_TOKEN</code>和<code>DD_BOT_SECRET</code>两者必需) ,密钥，机器人安全设置页面，加签一栏下面显示的 SEC 开头的<code>SECXXXXXXXXXX</code>等字符 , 注:钉钉机器人安全设置只需勾选<code>加签</code>即可，其他选项不要勾选,再不懂看 <a href="https://github.com/lukesyy/jd_yun/blob/main/icon/DD_bot.png">这个图</a></td></tr><tr><td><code>QYWX_KEY</code></td><td>企业微信机器人推送</td><td>非必须</td><td>密钥，企业微信推送 webhook 后面的 key <a href="https://work.weixin.qq.com/api/doc/90000/90136/91770">详见官方说明文档</a></td></tr><tr><td><code>QYWX_AM</code></td><td>企业微信应用消息推送</td><td>非必须</td><td>corpid,corpsecret,touser,agentid,素材库图片 id <a href="http://note.youdao.com/s/HMiudGkb">参考文档 1</a> <a href="http://note.youdao.com/noteshare?id=1a0c8aff284ad28cbd011b29b3ad0191">参考文档 2</a> 素材库图片填 0 为图文消息, 填 1 为纯文本消息</td></tr><tr><td><code>IGOT_PUSH_KEY</code></td><td>iGot 推送</td><td>非必须</td><td>iGot 聚合推送，支持多方式推送，确保消息可达。 <a href="https://wahao.github.io/Bark-MP-helper">参考文档</a></td></tr><tr><td><code>PUSH_PLUS_TOKEN</code></td><td>pushplus 推送</td><td>非必须</td><td>微信扫码登录后一对一推送或一对多推送下面的 token(您的 Token) <a href="http://www.pushplus.plus/">官方网站</a></td></tr><tr><td><code>PUSH_PLUS_USER</code></td><td>pushplus 推送</td><td>非必须</td><td>一对多推送的“群组编码”（一对多推送下面-&gt;您的群组(如无则新建)-&gt;群组编码）注:(1、需订阅者扫描二维码 2、如果您是创建群组所属人，也需点击“查看二维码”扫描绑定，否则不能接受群组消息推送)，只填<code>PUSH_PLUS_TOKEN</code>默认为一对一推送</td></tr><tr><td><code>TG_PROXY_HOST</code></td><td>Telegram 代理的 IP</td><td>非必须</td><td>代理类型为 http。例子：http 代理 <a href="http://127.0.0.1:1080/">http://127.0.0.1:1080</a> 则填写 127.0.0.1</td></tr><tr><td><code>TG_PROXY_PORT</code></td><td>Telegram 代理的端口</td><td>非必须</td><td>例子：http 代理 <a href="http://127.0.0.1:1080/">http://127.0.0.1:1080</a> 则填写 1080</td></tr></tbody></table></div><p><strong>互助码类环境变量</strong></p><div class="table-container"><table><thead><tr><th>Name</th><th>归属</th><th>属性</th><th>需要助力次数/可提供助力次数</th><th>说明</th></tr></thead><tbody><tr><td><code>FRUITSHARECODES</code></td><td>东东农场 互助码</td><td>非必须</td><td>5/3</td><td>填写规则请看<a href="https://github.com/lukesyy/jd_yun/blob/main/jdFruitShareCodes.js">jdFruitShareCodes.js</a>或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>PETSHARECODES</code></td><td>东东萌宠 互助码</td><td>非必须</td><td>5/5</td><td>填写规则和上面类似或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>PLANT_BEAN_SHARECODES</code></td><td>种豆得豆 互助码</td><td>非必须</td><td>9/3</td><td>填写规则和上面类似或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>DDFACTORY_SHARECODES</code></td><td>东东工厂 互助码</td><td>非必须</td><td>5/3</td><td>填写规则和上面类似或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>DREAM_FACTORY_SHARE_CODES</code></td><td>京喜工厂 互助码</td><td>非必须</td><td>不固定/3</td><td>填写规则和上面类似或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>JDZZ_SHARECODES</code></td><td>京东赚赚 互助码</td><td>非必须</td><td>5/2</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>JDJOY_SHARECODES</code></td><td>疯狂的 JOY 互助码</td><td>非必须</td><td>6/</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>BOOKSHOP_SHARECODES</code></td><td>京东书店 互助码</td><td>非必须</td><td>10/</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>JD_CASH_SHARECODES</code></td><td>签到领现金 互助码</td><td>非必须</td><td>10/</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>JXNC_SHARECODES</code></td><td>京喜农场 互助码</td><td>非必须</td><td>/</td><td>注意：京喜农场种植种子发生变化的时候，互助码也会变！！ 每个账号 shareCode 是一个 json， json 需要用单引号包裹且是一行字符串， 否则设置环境变量时会出错， 示例：’{“smp”:”22bdadsfaadsfadse8a”, “active”:”jdnc_1_btorange210113_2”,”joinnum”:”1”}’， 多账单间使用<code>&amp;</code>或换行分开。 详细说明参见<a href="https://github.com/LXK9301/jd_scripts/pull/202">#Pr202</a> 如果使用<code>docker-compose</code>部署就不需要在互助码两端加单引号。详细参见 Issues<a href="https://gitee.com/lxk0301/jd_scripts/issues/I35AG8">#I35AG8</a></td></tr><tr><td><code>JDSGMH_SHARECODES</code></td><td>闪购盲盒 互助码</td><td>非必须</td><td>10/</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>JDCFD_SHARECODES</code></td><td>京喜财富岛 互助码</td><td>非必须</td><td>未知/未知</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr><tr><td><code>dyjCode</code></td><td>大赢家 互助码</td><td>非必须</td><td>未知/未知</td><td>仅支持单个互助码，，暂不支持多号。格式：redEnvelopeId@markedPin</td></tr><tr><td><code>TYT_PACKETID</code></td><td>推一推 互助码</td><td>非必须</td><td>未知/未知</td><td>仅支持单个互助码，暂不支持多号</td></tr><tr><td><code>MONEYTREE_SHARECODES</code></td><td>摇钱树 互助码</td><td>非必须</td><td>未知/未知</td><td>填写规则和上面类似，或见下方<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#互助码的填写规则">互助码的填写规则</a></td></tr></tbody></table></div><p><strong>控制脚本功能环境变量</strong></p><div class="table-container"><table><thead><tr><th>Name</th><th>归属</th><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><code>JD_BEAN_STOP</code></td><td>京东多合一签到</td><td>非必须</td><td><code>jd_bean_sign.js</code>自定义延迟签到,单位毫秒.默认分批并发无延迟， 延迟作用于每个签到接口，如填入延迟则切换顺序签到(耗时较长)， 如需填写建议输入数字<code>1</code>，详见<a href="https://github.com/NobyDa/Script/blob/master/JD-DailyBonus/JD_DailyBonus.js#L93">此处说明</a></td></tr><tr><td><code>JD_BEAN_SIGN_STOP_NOTIFY</code></td><td>京东多合一签到</td><td>非必须</td><td><code>jd_bean_sign.js</code>脚本运行后不推送签到结果通知，默认推送，填<code>true</code>表示不发送通知</td></tr><tr><td><code>JD_BEAN_SIGN_NOTIFY_SIMPLE</code></td><td>京东多合一签到</td><td>非必须</td><td><code>jd_bean_sign.js</code>脚本运行后推送签到结果简洁版通知， 默认推送全部签到结果，填<code>true</code>表示推送简洁通知，<a href="https://github.com/lukesyy/jd_yun/blob/main/icon/bean_sign_simple.jpg">效果图</a></td></tr><tr><td><code>PET_NOTIFY_CONTROL</code></td><td>东东萌宠 推送开关</td><td>非必须</td><td>控制京东萌宠是否静默运行, <code>false</code>为否(发送推送通知消息),<code>true</code>为是(即：不发送推送通知消息)</td></tr><tr><td><code>FRUIT_NOTIFY_CONTROL</code></td><td>东东农场 推送开关</td><td>非必须</td><td>控制京东农场是否静默运行, <code>false</code>为否(发送推送通知消息),<code>true</code>为是(即：不发送推送通知消息)</td></tr><tr><td><code>JD_JOY_REWARD_NOTIFY</code></td><td>宠汪汪 兑换京豆推送开关</td><td>非必须</td><td>控制<code>jd_joy_reward.js</code>脚本是否静默运行, <code>false</code>为否(发送推送通知消息),<code>true</code>为是(即：不发送推送通知消息)</td></tr><tr><td><code>JOY_FEED_COUNT</code></td><td>宠汪汪喂食数量</td><td>非必须</td><td>控制<code>jd_joy_feedPets.js</code>脚本喂食数量,可以填的数字 10,20,40,80,其他数字不可.</td></tr><tr><td><code>JOY_HELP_FEED</code></td><td>宠汪汪帮好友喂食</td><td>非必须</td><td>控制<code>jd_joy_steal.js</code>脚本是否给好友喂食,<code>false</code>为否,<code>true</code>为是(给好友喂食)</td></tr><tr><td><code>JOY_RUN_FLAG</code></td><td>宠汪汪是否赛跑</td><td>非必须</td><td>控制<code>jd_joy.js</code>脚本是否参加赛跑(默认参加双人赛跑), <code>false</code>为否,<code>true</code>为是，脚本默认是<code>true</code></td></tr><tr><td><code>JOY_TEAM_LEVEL</code></td><td>宠汪汪 参加什么级别的赛跑</td><td>非必须</td><td>控制<code>jd_joy.js</code>脚本参加几人的赛跑,可选数字为<code>2</code>,<code>10</code>,<code>50</code>， 其中 2 代表参加双人 PK 赛，10 代表参加 10 人突围赛， 50 代表参加 50 人挑战赛(注：此项功能在<code>JOY_RUN_FLAG</code>为 true 的时候才生效)， 如若想设置不同账号参加不同类别的比赛则用&amp;区分即可(如下三个账号：<code>2&amp;10&amp;50</code>)</td></tr><tr><td><code>JOY_RUN_NOTIFY</code></td><td>宠汪汪 宠汪汪赛跑获胜后是否推送通知</td><td>非必须</td><td>控制<code>jd_joy.js</code>脚本宠汪汪赛跑获胜后是否推送通知， <code>false</code>为否(不推送通知消息),<code>true</code>为是(即：发送推送通知消息)</td></tr><tr><td><code>JOY_RUN_HELP_MYSELF</code></td><td>宠汪汪 赛跑自己账号内部互助</td><td>非必须</td><td>输入<code>true</code>为开启内部互助</td></tr><tr><td><code>JD_JOY_REWARD_NAME</code></td><td>宠汪汪 积分兑换多少京豆</td><td>非必须</td><td>目前可填值为<code>20</code>或者<code>500</code>,脚本默认<code>20</code>,<code>0</code>表示不兑换京豆</td></tr><tr><td><code>MARKET_COIN_TO_BEANS</code></td><td>东东超市 兑换京豆数量</td><td>非必须</td><td>控制<code>jd_blueCoin.js</code>兑换京豆数量, 可输入值为<code>20</code>或者<code>1000</code>的数字或者其他商品的名称,例如<code>碧浪洗衣凝珠</code></td></tr><tr><td><code>MARKET_REWARD_NOTIFY</code></td><td>东东超市 兑换奖品推送开关</td><td>非必须</td><td>控制<code>jd_blueCoin.js</code>兑换奖品成功后是否静默运行, <code>false</code>为否(发送推送通知消息),<code>true</code>为是(即：不发送推送通知消息)</td></tr><tr><td><code>JOIN_PK_TEAM</code></td><td>东东超市 自动参加 PK 队伍</td><td>非必须</td><td>每次 pk 活动参加作者创建的 pk 队伍,<code>true</code>表示参加,<code>false</code>表示不参加</td></tr><tr><td><code>SUPERMARKET_LOTTERY</code></td><td>东东超市抽奖</td><td>非必须</td><td>每天运行脚本是否使用金币去抽奖,<code>true</code>表示抽奖,<code>false</code>表示不抽奖</td></tr><tr><td><code>FRUIT_BEAN_CARD</code></td><td>农场 使用水滴换豆卡</td><td>非必须</td><td>农场使用水滴换豆卡(如果出现限时活动时 100g 水换 20 豆,此时比浇水划算,推荐换豆), <code>true</code>表示换豆(不浇水),<code>false</code>表示不换豆(继续浇水),脚本默认是浇水</td></tr><tr><td><code>UN_SUBSCRIBES</code></td><td>jd_unsubscribe.js</td><td>非必须</td><td>共四个参数,换行隔开.四个参数分别表示 <code>取关商品数量</code>,<code>取关店铺数量</code>,<code>遇到此商品不再进行取关</code>,<code>遇到此店铺不再进行取关</code>，<a href="https://github.com/lukesyy/jd_yun/blob/main/githubAction.md#取关店铺secret的说明">具体使用往下看</a></td></tr><tr><td><code>JDJOY_HELPSELF</code></td><td>疯狂的 JOY 循环助力</td><td>非必须</td><td>疯狂的 JOY 循环助力，<code>true</code>表示循环助力,<code>false</code>表示不循环助力，默认不开启循环助力。</td></tr><tr><td><code>JDJOY_APPLYJDBEAN</code></td><td>疯狂的 JOY 京豆兑换</td><td>非必须</td><td>疯狂的 JOY 京豆兑换，目前最小值为 2000 京豆(详情请查看活动页面-提现京豆)， 默认数字<code>0</code>不开启京豆兑换。</td></tr><tr><td><code>BUY_JOY_LEVEL</code></td><td>疯狂的 JOY 购买 joy 等级</td><td>非必须</td><td>疯狂的 JOY 自动购买什么等级的 JOY</td></tr><tr><td><code>MONEY_TREE_SELL_FRUIT</code></td><td>摇钱树 是否卖出金果</td><td>非必须</td><td>控制摇钱树脚本是否自动卖出金果兑换成金币，<code>true</code>卖出，<code>false</code>不卖出，默认<code>false</code></td></tr><tr><td><code>FACTORAY_WANTPRODUCT_NAME</code></td><td>东东工厂 心仪商品</td><td>非必须</td><td>提供心仪商品名称(请尽量填写完整和别的商品有区分度)，达到条件后兑换， 如不提供则会兑换当前所选商品</td></tr><tr><td><code>DREAMFACTORY_FORBID_ACCOUNT</code></td><td>京喜工厂 控制哪个京东账号不运行此脚本</td><td>非必须</td><td>输入<code>1</code>代表第一个京东账号不运行，多个使用<code>&amp;</code>连接，例：<code>1&amp;3</code>代表账号 1 和账号 3 不运行京喜工厂脚本，注：输入<code>0</code>，代表全部账号不运行京喜工厂脚本</td></tr><tr><td><code>JDFACTORY_FORBID_ACCOUNT</code></td><td>东东工厂 控制哪个京东账号不运行此脚本</td><td>非必须</td><td>输入<code>1</code>代表第一个京东账号不运行，多个使用<code>&amp;</code>连接，例：<code>1&amp;3</code>代表账号 1 和账号 3 不运行东东工厂脚本，注：输入<code>0</code>，代表全部账号不运行东东工厂脚本</td></tr><tr><td><code>CFD_NOTIFY_CONTROL</code></td><td>京喜财富岛 控制是否运行脚本后通知</td><td>非必须</td><td>输入<code>true</code>为通知,不填则为不通知</td></tr><tr><td><code>JD_JOY_PARK</code></td><td>汪汪乐园 控制是否运行此脚本,默认是</td><td>非必须</td><td>输入<code>false</code>为不运行</td></tr><tr><td><code>JD_TRY</code></td><td>京东试用 控制是否运行此脚本,默认否</td><td>非必须</td><td>输入<code>true</code>为运行</td></tr><tr><td><code>NOT_RUN</code></td><td>禁止运行某脚本 控制是否运行此脚本</td><td>非必须</td><td>输入<code>对应脚本名称，多个脚本用&amp;连接</code></td></tr></tbody></table></div>              </div>            </details><h3 id="互助码的填写规则"><a href="#互助码的填写规则" class="headerlink" title="互助码的填写规则"></a>互助码的填写规则</h3><blockquote><p>互助码如何获取：运行相应脚本后，在日志里面可以找到。</p></blockquote><p>同一个京东账号的好友互助码用@隔开,不同京东账号互助码用&amp;或者换行隔开,下面给一个文字示例和具体互助码示例说明</p><p>两个账号各两个互助码的文字示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">京东账号1的shareCode1@京东账号1的shareCode2&amp;京东账号2的shareCode1@京东账号2的shareCode2</span><br></pre></td></tr></table></figure><p>两个账号各两个互助码的真实示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0a74407df5df4fa99672a037eec61f7e@dbb21614667246fabcfd9685b6f448f3&amp;6fbd26cc27ac44d6a7fed34092453f77@61ff5c624949454aa88561f2cd721bf6&amp;6fbd26cc27ac44d6a7fed34092453f77@61ff5c624949454aa88561f2cd721bf6</span><br></pre></td></tr></table></figure><h3 id="取关店铺-secret-的说明"><a href="#取关店铺-secret-的说明" class="headerlink" title="取关店铺 secret 的说明"></a>取关店铺 secret 的说明</h3><blockquote><p>secret 依次是<code>取关商品数</code>,<code>取关店铺数</code>,<code>遇到此商品不再进行取关</code>,<code>遇到此店铺不再进行取关</code></p></blockquote><p>例如我要取关 <code>100</code>个商品，<code>100</code>个店铺，商品遇到商品关键字 <code>iPhone12</code> 停止取关，店铺遇到 <code>Apple京东自营旗舰店</code> 不再取关 则使用<code>换行</code>或者<code>&amp;</code>隔开即可, 下面给出换行隔开示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">100</span><br><span class="line">100</span><br><span class="line">iPhone12</span><br><span class="line">Apple京东自营旗舰店</span><br></pre></td></tr></table></figure><p>下面给出<code>&amp;</code>符号隔开示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">100&amp;100&amp;iPhone12&amp;Apple京东自营旗舰店</span><br></pre></td></tr></table></figure><h3 id="关于脚本推送通知频率"><a href="#关于脚本推送通知频率" class="headerlink" title="关于脚本推送通知频率"></a>关于脚本推送通知频率</h3><blockquote><p>如果你填写了推送通知方式中的某一种通知所需环境变量，那么脚本通知情况如下：</p><p>目前默认只有 jd_fruit.js,jd_pet.js,jd_bean_sign.js,jd_bean_change.js,jd_jxnc.js 这些脚本(默认)每次运行后都通知</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其余的脚本平常运行都是不通知，只有在京东cookie失效以及达到部分条件后，才会推送通知</span><br></pre></td></tr></table></figure><h2 id="一些依赖可供参考"><a href="#一些依赖可供参考" class="headerlink" title="一些依赖可供参考"></a>一些依赖可供参考</h2><h3 id="1-NodeJs下"><a href="#1-NodeJs下" class="headerlink" title="1.NodeJs下"></a>1.NodeJs下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">一个一个复制安装</span><br><span class="line">crypto-js</span><br><span class="line">prettytable</span><br><span class="line">dotenv</span><br><span class="line">jsdom</span><br><span class="line">date-fns</span><br><span class="line">tough-cookie</span><br><span class="line">tslib</span><br><span class="line">ws@7.4.3</span><br><span class="line">ts-md5</span><br><span class="line">jsdom -g</span><br><span class="line">jieba</span><br><span class="line">fs</span><br><span class="line">form-data</span><br><span class="line">json5</span><br><span class="line">global-agent</span><br><span class="line">png-js</span><br><span class="line">@types/node</span><br><span class="line">require</span><br><span class="line">typescript</span><br><span class="line">js-base64</span><br><span class="line">axios</span><br></pre></td></tr></table></figure><h3 id="2-Python3下"><a href="#2-Python3下" class="headerlink" title="2.Python3下"></a>2.Python3下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">一个一个复制安装</span><br><span class="line">requests</span><br><span class="line">canvas</span><br><span class="line">ping3</span><br><span class="line">jieba</span><br></pre></td></tr></table></figure><h3 id="3-Linux下"><a href="#3-Linux下" class="headerlink" title="3.Linux下"></a>3.Linux下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">一个一个复制安装</span><br><span class="line">bizCode</span><br><span class="line">bizMsg</span><br><span class="line">lxml</span><br></pre></td></tr></table></figure><h2 id="一些定时规则"><a href="#一些定时规则" class="headerlink" title="一些定时规则"></a>一些定时规则</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">*/5 * * * * ?    #每隔 5 秒执行一次</span><br><span class="line">0 */1 * * * ?    #每隔 1 分钟执行一次</span><br><span class="line">0 0 2 1 * ? *    #每月 1 日的凌晨 2 点执行一次</span><br><span class="line">0 15 10 ? *    #MON-FRI 周一到周五每天上午 10：15 执行</span><br><span class="line">0 15 10 ? 6L    #2002-2006 2002 年至 2006 年的每个月的最后一个星期五上午 10:15 执行</span><br><span class="line">0 0 23 * * ?    #每天 23 点执行一次</span><br><span class="line">0 0 1 * * ?    #每天凌晨 1 点执行一次</span><br><span class="line">0 0 1 1 * ?     #每月 1 日凌晨 1 点执行一次</span><br><span class="line">0 0 23 L * ?    #每月最后一天 23 点执行一次</span><br><span class="line">0 0 1 ? * L    #每周星期天凌晨 1 点执行一次</span><br><span class="line">0 26,29,33 * * * ?    #在 26 分、29 分、33 分执行一次</span><br><span class="line">0 0 0,13,18,21 * * ?    #每天的 0 点、13 点、18 点、21 点都执行一次</span><br><span class="line">0 0 10,14,16 * * ?    #每天上午 10 点，下午 2 点，4 点执行一次</span><br><span class="line">0 0/30 9-17 * * ?    #朝九晚五工作时间内每半小时执行一次</span><br><span class="line">0 0 12 ? * WED    #每个星期三中午 12 点执行一次</span><br><span class="line">0 0 12 * * ?    #每天中午 12 点触发</span><br><span class="line">0 15 10 ? * *    #每天上午 10:15 触发</span><br><span class="line">0 15 10 * * ?    #每天上午 10:15 触发</span><br><span class="line">0 15 10 * * ? *    #每天上午 10:15 触发</span><br><span class="line">0 15 10 * * ?    #2005 2005 年的每天上午 10:15 触发</span><br><span class="line">0 * 14 * * ?    #每天下午 2 点到 2:59 期间的每 1 分钟触发</span><br><span class="line">0 0/5 14 * * ?    #每天下午 2 点到 2:55 期间的每 5 分钟触发</span><br><span class="line">0 0/5 14,18 * * ?    #每天下午 2 点到 2:55 期间和下午 6 点到 6:55 期间的每 5 分钟触发</span><br><span class="line">0 0-5 14 * * ?    #每天下午 2 点到 2:05 期间的每 1 分钟触发</span><br><span class="line">0 10,44 14 ? 3 WED    #每年三月的星期三的下午 2:10 和 2:44 触发</span><br><span class="line">0 15 10 ? * MON-FRI    #周一至周五的上午 10:15 触发</span><br><span class="line">0 15 10 15 * ?    #每月 15 日上午 10:15 触发</span><br><span class="line">0 15 10 L * ?    #每月最后一日的上午 10:15 触发</span><br><span class="line">0 15 10 ? * 6L    #每月的最后一个星期五上午 10:15 触发</span><br><span class="line">0 15 10 ? * 6L    #2002-2005 2002 年至 2005 年的每月的最后一个星期五上午 10:15 触发</span><br><span class="line">0 15 10 ? * 6#3    #每月的第三个星期五上午 10:15 触发</span><br></pre></td></tr></table></figure><h3 id="获取京东-cookie-代码"><a href="#获取京东-cookie-代码" class="headerlink" title="获取京东 cookie 代码"></a>获取京东 cookie 代码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CV</span> = <span class="string">&#x27;单引号里面放第六步拿到的cookie&#x27;</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">CookieValue</span> = <span class="variable constant_">CV</span>.<span class="title function_">match</span>(<span class="regexp">/pt_pin=.+?;/</span>) + <span class="variable constant_">CV</span>.<span class="title function_">match</span>(<span class="regexp">/pt_key=.+?;/</span>)</span><br><span class="line"><span class="title function_">copy</span>(<span class="title class_">CookieValue</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">薅大厂的羊毛📈~</summary>
    
    
    
    
    <category term="薅羊毛" scheme="https://anzhiy.cn/tags/%E8%96%85%E7%BE%8A%E6%AF%9B/"/>
    
  </entry>
  
  <entry>
    <title>完全搞懂this的指向</title>
    <link href="https://anzhiy.cn/posts/222.html"/>
    <id>https://anzhiy.cn/posts/222.html</id>
    <published>2021-07-14T19:45:21.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<p>在此感谢 coderwhy 老师，嘿嘿</p><blockquote><p>this 是 JavaScript 中的一个关键字，但是又一个相对比较特别的关键字，不像 function、var、for、if 这些关键字一样，可以很清楚的搞清楚它到底是如何使用的。</p><p>this 会在执行上下文中绑定一个对象，但是是根据什么条件绑定的呢？在不同的执行条件下会绑定不同的对象，这也是让人捉摸不定的地方。</p><p>这一次，我们一起来彻底搞定 this 到底是如何绑定的吧！</p></blockquote><h2 id="理解-this"><a href="#理解-this" class="headerlink" title="理解 this"></a>理解 this</h2><h3 id="为什么使用-this"><a href="#为什么使用-this" class="headerlink" title="为什么使用 this"></a>为什么使用 this</h3><p>在常见的编程语言中，几乎都有 this 这个关键字（Objective-C 中使用的是 self），但是 JavaScript 中的 this 和常见的面向对象语言中的 this 不太一样：</p><ul><li>常见面向对象的编程语言中，比如 Java、C++、Swift、Dart 等等一系列语言中，this 通常只会出现在<code>类的方法</code>中。</li><li>也就是你需要有一个类，类中的方法（特别是实例方法）中，this 代表的是当前调用对象。</li><li>但是 JavaScript 中的 this 更加灵活，无论是它出现的位置还是它代表的含义。</li></ul><p>使用 this 有什么意义呢？下面的代码中，我们通过对象字面量创建出来一个对象，当我们调用对象的方法时，希望将对象的名称一起进行打印。</p><p>如果没有 this，那么我们的代码会是下面的写法：</p><ul><li>在方法中，为了能够获取到 name 名称，必须通过 obj 的引用（变量名称）来获取。</li><li>但是这样做有一个很大的弊端：如果我将 obj 的名称换成了 info，那么所有的方法中的 obj 都需要换成 info。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">running</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span> + <span class="string">&#x27; running&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">eating</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span> + <span class="string">&#x27; eating&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">studying</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span> + <span class="string">&#x27; studying&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>事实上，上面的代码，在实际开发中，我们都会使用 this 来进行优化：</p><ul><li>当我们通过 obj 去调用 running、eating、studying 这些方法时，this 就是指向的 obj 对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">running</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; running&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">eating</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; eating&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">studying</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27; studying&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>所以我们会发现，在某些函数或者方法的编写中，this 可以让我们更加便捷的方式来引用对象，在进行一些 API 设计时，代码更加的简洁和易于复用。</p><p>当然，上面只是应用 this 的一个场景而已，开发中使用到 this 的场景到处都是，这也是为什么它不容易理解的原因。</p><h3 id="this-指向什么"><a href="#this-指向什么" class="headerlink" title="this 指向什么"></a>this 指向什么</h3><p>我们先说一个最简单的，this 在全局作用域下指向什么？</p><ul><li>这个问题非常容易回答，在浏览器中测试就是指向 window</li><li>所以，在全局作用域下，我们可以认为 this 就是指向的 window</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;安知鱼&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>) <span class="comment">// 安知鱼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">name</span>) <span class="comment">// 安知鱼</span></span><br></pre></td></tr></table></figure><p>但是，开发中很少直接在全局作用域下去使用 this，通常都是在<strong>函数中使用</strong>。</p><p>所有的函数在被调用时，都会创建一个执行上下文：</p><ul><li>这个上下文中记录着函数的调用栈、函数的调用方式、传入的参数信息等；</li><li>this 也是其中的一个属性；</li></ul><p>我们先来看一个让人困惑的问题：</p><ul><li>定义一个函数，我们采用三种不同的方式对它进行调用，它产生了三种不同的结果</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.调用方式一: 直接调用</span></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.调用方式二: 将foo放到一个对象中,再调用</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">foo</span>() <span class="comment">// obj对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.调用方式三: 通过call/apply调用</span></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="string">&#x27;abc&#x27;</span>) <span class="comment">// String &#123;&quot;abc&quot;&#125;对象</span></span><br></pre></td></tr></table></figure><p>上面的案例可以给我们什么样的启示呢？</p><ul><li>1.函数在调用时，JavaScript 会默认给 this 绑定一个值；</li><li>2.this 的绑定和定义的位置（编写的位置）没有关系；</li><li>3.this 的绑定和调用方式以及调用的位置有关系；</li><li>4.this 是在运行时被绑定的；</li></ul><p>那么 this 到底是怎么样的绑定规则呢？一起来学习一下吧</p><h2 id="this-绑定规则"><a href="#this-绑定规则" class="headerlink" title="this 绑定规则"></a>this 绑定规则</h2><blockquote><p>我们现在已经知道 this 无非就是在函数调用时被绑定的一个对象，我们就需要知道它在不同的场景下的绑定规则即可。</p></blockquote><h3 id="默认绑定"><a href="#默认绑定" class="headerlink" title="默认绑定"></a>默认绑定</h3><p>什么情况下使用默认绑定呢？独立函数调用。</p><ul><li>独立的函数调用我们可以理解成函数没有被绑定到某个对象上进行调用；</li></ul><p><strong>案例一：普通函数调用</strong></p><ul><li>该函数直接被调用，并没有进行任何的对象关联；</li><li>这种独立的函数调用会使用默认绑定，通常默认绑定时，函数中的 this 指向全局对象（window）；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure><p><strong>案例二：函数调用链（一个函数又调用另外一个函数）</strong></p><ul><li>所有的函数调用都没有被绑定到某个对象上；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.案例二:</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">  <span class="title function_">test2</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">  <span class="title function_">test3</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test1</span>()</span><br></pre></td></tr></table></figure><p><strong>案例三：将函数作为参数，传入到另一个函数中</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">func</span>) &#123;</span><br><span class="line">  <span class="title function_">func</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(bar)</span><br></pre></td></tr></table></figure><p>我们对案例进行一些修改，考虑一下打印结果是否会发生变化：</p><ul><li>这里的结果依然是 window，为什么呢？</li><li>原因非常简单，在真正函数调用的位置，并没有进行任何的对象绑定，只是一个独立函数的调用；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">func</span>) &#123;</span><br><span class="line">  <span class="title function_">func</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">bar</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(obj.<span class="property">bar</span>)</span><br></pre></td></tr></table></figure><h3 id="隐式绑定"><a href="#隐式绑定" class="headerlink" title="隐式绑定"></a>隐式绑定</h3><p>另外一种比较常见的调用方式是通过某个对象进行调用的：</p><ul><li>也就是它的调用位置中，是通过某个对象发起的函数调用。</li></ul><p><strong>案例一：通过对象调用函数</strong></p><ul><li>foo 的调用位置是 obj.foo()方式进行调用的</li><li>那么 foo 调用时 this 会隐式的被绑定到 obj 对象上</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// obj对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure><p><strong>案例二：案例一的变化</strong></p><ul><li>我们通过 obj2 又引用了 obj1 对象，再通过 obj1 对象调用 foo 函数；</li><li>那么 foo 调用的位置上其实还是 obj1 被绑定了 this；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// obj对象</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj1&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj2&#x27;</span>,</span><br><span class="line">  <span class="attr">obj1</span>: obj1,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj2.<span class="property">obj1</span>.<span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure><p><strong>案例三：隐式丢失</strong></p><ul><li>结果最终是 window，为什么是 window 呢？</li><li>因为 foo 最终被调用的位置是 bar，而 bar 在进行调用时没有绑定任何的对象，也就没有形成隐式绑定；</li><li>相当于是一种默认绑定；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj1&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 讲obj1的foo赋值给bar</span></span><br><span class="line"><span class="keyword">var</span> bar = obj1.<span class="property">foo</span></span><br><span class="line"><span class="title function_">bar</span>()</span><br></pre></td></tr></table></figure><h3 id="显示绑定"><a href="#显示绑定" class="headerlink" title="显示绑定"></a>显示绑定</h3><p>隐式绑定有一个前提条件：</p><ul><li>必须在调用的<code>对象内部</code>有一个对函数的引用（比如一个属性）；</li><li>如果没有这样的引用，在进行调用时，会报找不到该函数的错误；</li><li>正是通过这个引用，间接的将 this 绑定到了这个对象上；</li></ul><p>如果我们不希望在 <strong>对象内部</strong> 包含这个函数的引用，同时又希望在这个对象上进行强制调用，该怎么做呢？</p><ul><li><p>JavaScript 所有的函数都可以使用 call 和 apply 方法（这个和 Prototype 有关）。</p></li><li><ul><li>它们两个的区别这里不再展开；</li><li>其实非常简单，第一个参数是相同的，后面的参数，apply 为数组，call 为参数列表；</li></ul></li><li><p>这两个函数的第一个参数都要求是一个对象，这个对象的作用是什么呢？就是给 this 准备的。</p></li><li><p>在调用这个函数时，会将 this 绑定到这个传入的对象上。</p></li></ul><p>因为上面的过程，我们明确的绑定了 this 指向的对象，所以称之为 <strong>显示绑定</strong>。</p><h4 id="call、apply"><a href="#call、apply" class="headerlink" title="call、apply"></a>call、apply</h4><p><strong>通过 call 或者 apply 绑定 this 对象</strong></p><ul><li>显示绑定后，this 就会明确的指向绑定的对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="variable language_">window</span>) <span class="comment">// window</span></span><br><span class="line">foo.<span class="title function_">call</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span> &#125;) <span class="comment">// &#123;name: &quot;安知鱼&quot;&#125;</span></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="number">123</span>) <span class="comment">// Number对象,存放时123</span></span><br></pre></td></tr></table></figure><h4 id="bind-函数"><a href="#bind-函数" class="headerlink" title="bind 函数"></a>bind 函数</h4><p><strong>如果我们希望一个函数总是显示的绑定到一个对象上，可以怎么做呢？</strong></p><p>方案一：自己手写一个辅助函数（了解）</p><ul><li>我们手动写了一个 bind 的辅助函数</li><li>这个辅助函数的目的是在执行 foo 时，总是让它的 this 绑定到 obj 对象上</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bind</span>(<span class="params">func, obj</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> func.<span class="title function_">apply</span>(obj, <span class="variable language_">arguments</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="title function_">bind</span>(foo, obj)</span><br><span class="line"></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br></pre></td></tr></table></figure><p>方案二：使用 Function.prototype.bind</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(obj)</span><br><span class="line"></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// obj对象</span></span><br></pre></td></tr></table></figure><h4 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h4><p>有些时候，我们会调用一些 JavaScript 的内置函数，或者一些第三方库中的内置函数。</p><ul><li>这些内置函数会要求我们传入另外一个函数；</li><li>我们自己并不会显示的调用这些函数，而且 JavaScript 内部或者第三方库内部会帮助我们执行；</li><li>这些函数中的 this 又是如何绑定的呢？</li></ul><p><strong>案例一：setTimeout</strong></p><ul><li>setTimeout 中会传入一个函数，这个函数中的 this 通常是 window</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>为什么这里是 window 呢？</p><ul><li>这个和 setTimeout 源码的内部调用有关；</li><li>setTimeout 内部是通过 apply 进行绑定的 this 对象，并且绑定的是全局对象；</li></ul><p><strong>案例二：数组的 forEach</strong></p><p>数组有一个高阶函数 forEach，用于函数的遍历：</p><ul><li>在 forEach 中传入的函数打印的也是 Window 对象；</li><li>这是因为默认情况下传入的函数是自动调用函数（默认绑定）；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;cba&#x27;</span>, <span class="string">&#x27;nba&#x27;</span>]</span><br><span class="line">names.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// 三次window</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>我们是否可以改变该函数的 this 指向呢？</p><p>forEach 参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;cba&#x27;</span>, <span class="string">&#x27;nba&#x27;</span>]</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span> &#125;</span><br><span class="line">names.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// 三次obj对象</span></span><br><span class="line">&#125;, obj)</span><br></pre></td></tr></table></figure><p><strong>案例三：div 的点击</strong></p><p>如果我们有一个 div 元素：</p><ul><li>注意：省略了部分代码</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .<span class="property">box</span> &#123;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    <span class="attr">height</span>: 200px;</span><br><span class="line">    background-<span class="attr">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>获取元素节点，并且监听点击：</p><ul><li>在点击事件的回调中，this 指向谁呢？box 对象；</li><li>这是因为在发生点击时，执行传入的回调函数被调用时，会将 box 对象绑定到该函数中；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">box.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// box对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>所以传入到内置函数的回调函数 this 如何确定呢？</p><ul><li>某些内置的函数，我们很难确定它内部是如何调用传入的回调函数；</li><li>一方面可以通过分析源码来确定，另一方面我们可以通过经验（见多识广）来确定；</li><li>但是无论如何，通常都是我们之前讲过的规则来确定的；</li></ul><h3 id="new-绑定"><a href="#new-绑定" class="headerlink" title="new 绑定"></a>new 绑定</h3><p>JavaScript 中的函数可以当做一个类的构造函数来使用，也就是使用 new 关键字。</p><p>使用 new 关键字来调用函数时，会执行如下的操作：</p><ul><li>1.创建一个全新的对象；</li><li>2.这个新对象会被执行 Prototype 连接；</li><li>3.这个新对象会绑定到函数调用的 this 上（this 的绑定在这个步骤完成）；</li><li>4.如果函数没有返回其他对象，表达式会返回这个新对象；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Person</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// Person &#123;&#125;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name <span class="comment">// Person &#123;name: &quot;安知鱼&quot;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;安知鱼&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p)</span><br></pre></td></tr></table></figure><h3 id="规则优先级"><a href="#规则优先级" class="headerlink" title="规则优先级"></a>规则优先级</h3><p>学习了四条规则，接下来开发中我们只需要去查找函数的调用应用了哪条规则即可，但是如果一个函数调用位置应用了多条规则，优先级谁更高呢？</p><p><strong>1.默认规则的优先级最低</strong></p><p>毫无疑问，默认规则的优先级是最低的，因为存在其他规则时，就会通过其他规则的方式来绑定 this</p><p><strong>2.显示绑定优先级高于隐式绑定</strong></p><p>显示绑定和隐式绑定哪一个优先级更高呢？这个我们可以测试一下：</p><ul><li>结果是 obj2，说明是显示绑定生效了</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj1&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj2&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐式绑定</span></span><br><span class="line">obj1.<span class="title function_">foo</span>() <span class="comment">// obj1</span></span><br><span class="line">obj2.<span class="title function_">foo</span>() <span class="comment">// obj2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐式绑定和显示绑定同时存在</span></span><br><span class="line">obj1.<span class="property">foo</span>.<span class="title function_">call</span>(obj2) <span class="comment">// obj2, 说明显式绑定优先级更高</span></span><br></pre></td></tr></table></figure><p><strong>3.new 绑定优先级高于隐式绑定</strong></p><ul><li>结果是 foo，说明是 new 绑定生效了</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> obj.<span class="title function_">foo</span>() <span class="comment">// foo对象, 说明new绑定优先级更高</span></span><br></pre></td></tr></table></figure><p><strong>4.new 绑定优先级高于 bind</strong></p><p>new 绑定和 call、apply 是不允许同时使用的，所以不存在谁的优先级更高</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> foo.<span class="title function_">call</span>(obj)</span><br></pre></td></tr></table></figure><p>new 和 call 同时使用</p><p>但是 new 绑定是否可以和 bind 后的函数同时使用呢？可以</p><ul><li>结果显示为 foo，那么说明是 new 绑定生效了</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// var foo = new foo.call(obj);</span></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(obj)</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> <span class="title function_">bar</span>() <span class="comment">// 打印foo, 说明使用的是new绑定</span></span><br></pre></td></tr></table></figure><p>优先级总结：</p><ul><li>new 绑定 &gt; 显示绑定（bind）&gt; 隐式绑定 &gt; 默认绑定</li></ul><h2 id="this-规则之外"><a href="#this-规则之外" class="headerlink" title="this 规则之外"></a>this 规则之外</h2><blockquote><p>我们讲到的规则已经足以应付平时的开发，但是总有一些语法，超出了我们的规则之外。（神话故事和动漫中总是有类似这样的人物）</p></blockquote><h3 id="忽略显示绑定"><a href="#忽略显示绑定" class="headerlink" title="忽略显示绑定"></a>忽略显示绑定</h3><p>如果在显示绑定中，我们传入一个 null 或者 undefined，那么这个显示绑定会被忽略，使用默认规则：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">call</span>(obj) <span class="comment">// obj对象</span></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="literal">null</span>) <span class="comment">// window</span></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="literal">undefined</span>) <span class="comment">// window</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="title function_">bar</span>() <span class="comment">// window</span></span><br></pre></td></tr></table></figure><h3 id="间接函数引用"><a href="#间接函数引用" class="headerlink" title="间接函数引用"></a>间接函数引用</h3><p>另外一种情况，创建一个函数的 <code>间接引用</code>，这种情况使用默认绑定规则。</p><p>我们先来看下面的案例结果是什么？</p><ul><li>(num2 = num1)的结果是 num1 的值；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> result = (num2 = num1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure><p>我们来下面的函数赋值结果：</p><ul><li>赋值(obj2.foo = obj1.foo)的结果是 foo 函数；</li><li>foo 函数被直接调用，那么是默认绑定；</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj1&#x27;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;obj2&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.<span class="title function_">foo</span>() <span class="comment">// obj1对象</span></span><br><span class="line">;(obj2.<span class="property">foo</span> = obj1.<span class="property">foo</span>)() <span class="comment">// window</span></span><br></pre></td></tr></table></figure><h3 id="ES6-箭头函数"><a href="#ES6-箭头函数" class="headerlink" title="ES6 箭头函数"></a>ES6 箭头函数</h3><p>在 ES6 中新增一个非常好用的函数类型：箭头函数</p><ul><li>这里不再具体介绍箭头函数的用法，可以自行学习。</li></ul><p>箭头函数不使用 this 的四种标准规则（也就是不绑定 this），而是根据外层作用域来决定 this。</p><p>我们来看一个模拟网络请求的案例：</p><ul><li>这里我使用 setTimeout 来模拟网络请求，请求到数据后如何可以存放到 data 中呢？</li><li>我们需要拿到 obj 对象，设置 data；</li><li>但是直接拿到的 this 是 window，我们需要在外层定义：<code>var _this = this</code></li><li>在 setTimeout 的回调函数中使用_this 就代表了 obj 对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">data</span>: [],</span><br><span class="line">  <span class="attr">getData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="variable language_">this</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 模拟获取到的数据</span></span><br><span class="line">      <span class="keyword">var</span> res = [<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;cba&#x27;</span>, <span class="string">&#x27;nba&#x27;</span>]</span><br><span class="line">      _this.<span class="property">data</span>.<span class="title function_">push</span>(...res)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure><p>上面的代码在 ES6 之前是我们最常用的方式，从 ES6 开始，我们会使用箭头函数：</p><ul><li>为什么在 setTimeout 的回调函数中可以直接使用 this 呢？</li><li>因为箭头函数并不绑定 this 对象，那么 this 引用就会从上层作用域中找到对应的 this</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">data</span>: [],</span><br><span class="line">  <span class="attr">getData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 模拟获取到的数据</span></span><br><span class="line">      <span class="keyword">var</span> res = [<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;cba&#x27;</span>, <span class="string">&#x27;nba&#x27;</span>]</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">push</span>(...res)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure><p>思考：如果 getData 也是一个箭头函数，那么 setTimeout 中的回调函数中的 this 指向谁呢？</p><ul><li>答案是 window；</li><li>依然是不断的从上层作用域找，那么找到了全局作用域；</li><li>在全局作用域内，this 代表的就是 window</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">data</span>: [],</span><br><span class="line">  <span class="attr">getData</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure><h2 id="this-面试题"><a href="#this-面试题" class="headerlink" title="this 面试题"></a>this 面试题</h2><h3 id="面试题一："><a href="#面试题一：" class="headerlink" title="面试题一："></a>面试题一：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;person&#x27;</span>,</span><br><span class="line">  <span class="attr">sayName</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> sss = person.<span class="property">sayName</span></span><br><span class="line">  <span class="title function_">sss</span>()</span><br><span class="line">  person.<span class="title function_">sayName</span>()</span><br><span class="line">  person.<span class="title function_">sayName</span>()</span><br><span class="line">  ;(b = person.<span class="property">sayName</span>)()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">sayName</span>()</span><br></pre></td></tr></table></figure><p>这道面试题非常简单，无非就是绕一下，希望把面试者绕晕：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> sss = person.<span class="property">sayName</span></span><br><span class="line">  <span class="comment">// 独立函数调用，没有和任何对象关联</span></span><br><span class="line">  <span class="title function_">sss</span>() <span class="comment">// window</span></span><br><span class="line">  <span class="comment">// 关联</span></span><br><span class="line">  person.<span class="title function_">sayName</span>() <span class="comment">// person</span></span><br><span class="line">  person.<span class="title function_">sayName</span>() <span class="comment">// person</span></span><br><span class="line">  ;(b = person.<span class="property">sayName</span>)() <span class="comment">// window</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="面试题二："><a href="#面试题二：" class="headerlink" title="面试题二："></a>面试题二：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;person1&#x27;</span>,</span><br><span class="line">  <span class="attr">foo1</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">foo2</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>),</span><br><span class="line">  <span class="attr">foo3</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">foo4</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = &#123; <span class="attr">name</span>: <span class="string">&#x27;person2&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo1</span>()</span><br><span class="line">person1.<span class="property">foo1</span>.<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo2</span>()</span><br><span class="line">person1.<span class="property">foo2</span>.<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo3</span>()()</span><br><span class="line">person1.<span class="property">foo3</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="title function_">foo3</span>().<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo4</span>()()</span><br><span class="line">person1.<span class="property">foo4</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="title function_">foo4</span>().<span class="title function_">call</span>(person2)</span><br></pre></td></tr></table></figure><p>下面是代码解析：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 隐式绑定，肯定是person1</span></span><br><span class="line">person1.<span class="title function_">foo1</span>() <span class="comment">// person1</span></span><br><span class="line"><span class="comment">// 隐式绑定和显示绑定的结合，显示绑定生效，所以是person2</span></span><br><span class="line">person1.<span class="property">foo1</span>.<span class="title function_">call</span>(person2) <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// foo2()是一个箭头函数，不适用所有的规则</span></span><br><span class="line">person1.<span class="title function_">foo2</span>() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// foo2依然是箭头函数，不适用于显示绑定的规则</span></span><br><span class="line">person1.<span class="property">foo2</span>.<span class="title function_">call</span>(person2) <span class="comment">// window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取到foo3，但是调用位置是全局作用于下，所以是默认绑定window</span></span><br><span class="line">person1.<span class="title function_">foo3</span>()() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// foo3显示绑定到person2中</span></span><br><span class="line"><span class="comment">// 但是拿到的返回函数依然是在全局下调用，所以依然是window</span></span><br><span class="line">person1.<span class="property">foo3</span>.<span class="title function_">call</span>(person2)() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// 拿到foo3返回的函数，通过显示绑定到person2中，所以是person2</span></span><br><span class="line">person1.<span class="title function_">foo3</span>().<span class="title function_">call</span>(person2) <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// foo4()的函数返回的是一个箭头函数</span></span><br><span class="line"><span class="comment">// 箭头函数的执行找上层作用域，是person1</span></span><br><span class="line">person1.<span class="title function_">foo4</span>()() <span class="comment">// person1</span></span><br><span class="line"><span class="comment">// foo4()显示绑定到person2中，并且返回一个箭头函数</span></span><br><span class="line"><span class="comment">// 箭头函数找上层作用域，是person2</span></span><br><span class="line">person1.<span class="property">foo4</span>.<span class="title function_">call</span>(person2)() <span class="comment">// person2</span></span><br><span class="line"><span class="comment">// foo4返回的是箭头函数，箭头函数只看上层作用域</span></span><br><span class="line">person1.<span class="title function_">foo4</span>().<span class="title function_">call</span>(person2) <span class="comment">// person1</span></span><br></pre></td></tr></table></figure><h3 id="面试题三"><a href="#面试题三" class="headerlink" title="面试题三:"></a>面试题三:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  ;(<span class="variable language_">this</span>.<span class="property">foo1</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;),</span><br><span class="line">    (<span class="variable language_">this</span>.<span class="property">foo2</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)),</span><br><span class="line">    (<span class="variable language_">this</span>.<span class="property">foo3</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    (<span class="variable language_">this</span>.<span class="property">foo4</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;person1&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;person2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo1</span>()</span><br><span class="line">person1.<span class="property">foo1</span>.<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo2</span>()</span><br><span class="line">person1.<span class="property">foo2</span>.<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo3</span>()()</span><br><span class="line">person1.<span class="property">foo3</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="title function_">foo3</span>().<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">foo4</span>()()</span><br><span class="line">person1.<span class="property">foo4</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="title function_">foo4</span>().<span class="title function_">call</span>(person2)</span><br></pre></td></tr></table></figure><p>下面是代码解析：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 隐式绑定</span></span><br><span class="line">person1.<span class="title function_">foo1</span>() <span class="comment">// peron1</span></span><br><span class="line"><span class="comment">// 显示绑定优先级大于隐式绑定</span></span><br><span class="line">person1.<span class="property">foo1</span>.<span class="title function_">call</span>(person2) <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// foo是一个箭头函数，会找上层作用域中的this，那么就是person1</span></span><br><span class="line">person1.<span class="title function_">foo2</span>() <span class="comment">// person1</span></span><br><span class="line"><span class="comment">// foo是一个箭头函数，使用call调用不会影响this的绑定，和上面一样向上层查找</span></span><br><span class="line">person1.<span class="property">foo2</span>.<span class="title function_">call</span>(person2) <span class="comment">// person1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用位置是全局直接调用，所以依然是window（默认绑定）</span></span><br><span class="line">person1.<span class="title function_">foo3</span>()() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// 最终还是拿到了foo3返回的函数，在全局直接调用（默认绑定）</span></span><br><span class="line">person1.<span class="property">foo3</span>.<span class="title function_">call</span>(person2)() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// 拿到foo3返回的函数后，通过call绑定到person2中进行了调用</span></span><br><span class="line">person1.<span class="title function_">foo3</span>().<span class="title function_">call</span>(person2) <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// foo4返回了箭头函数，和自身绑定没有关系，上层找到person1</span></span><br><span class="line">person1.<span class="title function_">foo4</span>()() <span class="comment">// person1</span></span><br><span class="line"><span class="comment">// foo4调用时绑定了person2，返回的函数是箭头函数，调用时，找到了上层绑定的person2</span></span><br><span class="line">person1.<span class="property">foo4</span>.<span class="title function_">call</span>(person2)() <span class="comment">// person2</span></span><br><span class="line"><span class="comment">// foo4调用返回的箭头函数，和call调用没有关系，找到上层的person1</span></span><br><span class="line">person1.<span class="title function_">foo4</span>().<span class="title function_">call</span>(person2) <span class="comment">// person1</span></span><br></pre></td></tr></table></figure><h3 id="面试题四："><a href="#面试题四：" class="headerlink" title="面试题四："></a>面试题四：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">obj</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">    <span class="attr">foo1</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">foo2</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;person1&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;person2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo1</span>()()</span><br><span class="line">person1.<span class="property">obj</span>.<span class="property">foo1</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo1</span>().<span class="title function_">call</span>(person2)</span><br><span class="line"></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo2</span>()()</span><br><span class="line">person1.<span class="property">obj</span>.<span class="property">foo2</span>.<span class="title function_">call</span>(person2)()</span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo2</span>().<span class="title function_">call</span>(person2)</span><br></pre></td></tr></table></figure><p>下面是代码解析：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// obj.foo1()返回一个函数</span></span><br><span class="line"><span class="comment">// 这个函数在全局作用于下直接执行（默认绑定）</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo1</span>()() <span class="comment">// window</span></span><br><span class="line"><span class="comment">// 最终还是拿到一个返回的函数（虽然多了一步call的绑定）</span></span><br><span class="line"><span class="comment">// 这个函数在全局作用于下直接执行（默认绑定）</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="property">foo1</span>.<span class="title function_">call</span>(person2)() <span class="comment">// window</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo1</span>().<span class="title function_">call</span>(person2) <span class="comment">// person2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拿到foo2()的返回值，是一个箭头函数</span></span><br><span class="line"><span class="comment">// 箭头函数在执行时找上层作用域下的this，就是obj</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo2</span>()() <span class="comment">// obj</span></span><br><span class="line"><span class="comment">// foo2()的返回值，依然是箭头函数，但是在执行foo2时绑定了person2</span></span><br><span class="line"><span class="comment">// 箭头函数在执行时找上层作用域下的this，找到的是person2</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="property">foo2</span>.<span class="title function_">call</span>(person2)() <span class="comment">// person2</span></span><br><span class="line"><span class="comment">// foo2()的返回值，依然是箭头函数</span></span><br><span class="line"><span class="comment">// 箭头函数通过call调用是不会绑定this，所以找上层作用域下的this是obj</span></span><br><span class="line">person1.<span class="property">obj</span>.<span class="title function_">foo2</span>().<span class="title function_">call</span>(person2) <span class="comment">// obj</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在此感谢 coderwhy 老师，嘿嘿&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;this 是 JavaScript 中的一个关键字，但是又一个相对比较特别的关键字，不像 function、var、for、if 这些关键字一样，可以很清楚的搞清楚它到底是如何使用的。&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="JS" scheme="https://anzhiy.cn/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>前端面试题（一）</title>
    <link href="https://anzhiy.cn/posts/ff46.html"/>
    <id>https://anzhiy.cn/posts/ff46.html</id>
    <published>2021-06-29T09:02:13.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>浏览器里，从用户输入 url 到用户看到页面结果的过程，发生了什么？</p></blockquote><p><strong>1、域名解析</strong></p><p>域名解析的过程：</p><p>（1）查询浏览器自身 DNS 缓存</p><p>（2）若上面没有找到，则搜索操作系统自身的 DNS 缓存</p><p>（3）若上面没有找到，则尝试读取 hosts 文件</p><p>（4）若上面没有找到，向本地配置的首选 DNS 服务器发送请求</p><p>（5）win 系统 若上面没有找到，操作系统查找 NetBIOS name cache</p><p>（6）win 系统 若上面没有找到，查询 wins 服务器</p><p>（7）win 系统 若上面没有找到，广播查找</p><p>（8）win 系统 若上面没有找到，读取 LMHOSTS 文件</p><p>若以上都没有找到，解析失败。</p><p><strong>2、TCP 三次握手</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/interview-client01/1.png" alt=""></p><p><strong>3、浏览器向服务器发送 http 请求</strong></p><p>一旦建立了 TCP 连接，web 浏览器就会向 web 服务器发送请求命令。例如：</p><p>GET/sample/hello.jsp HTTP/1.1</p><p><strong>4、浏览器发送请求头信息</strong></p><p>浏览器发送请求命令之后，还要以头信息的形式向 web 服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。</p><p><strong>5、服务器处理请求</strong></p><p>服务器收到 http 请求，确定执行什么（asp.net、php、ruby、java 等）来处理他。读取参数并进行逻辑操作后，生成指定的数据。</p><p><strong>6、服务器做出应答</strong></p><p>客户机向服务器发出请求后，服务器会向客户机回送应答，HTTP/1.1 200 OK，应答的第一部分是协议的版本号和应答状态码</p><p><strong>7、服务器发送应答头信息</strong></p><p>正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。</p><p><strong>8、服务器发送数据</strong></p><p>web 服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发生到此为结束，接着，它就以 Content-Type 应答头信息所描述的格式发送用户所请求的实际数据。</p><p><strong>9、tcp 连接关闭</strong></p><p>一般情况下，一旦 web 服务器向浏览器发送了请求数据，它就要关闭 tcp 连接，然后如果浏览器或者服务器在其头信息加入了这行代码：</p><p>Connection keep-alive</p><p>TCP 连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。</p><h1 id="浏览器渲染页面的过程"><a href="#浏览器渲染页面的过程" class="headerlink" title="浏览器渲染页面的过程"></a>浏览器渲染页面的过程</h1><ul><li>根据 <code>HTML</code> 结构生成 <code>DOM Tree</code></li><li>根据 <code>CSS</code> 生成 <code>CSSOM</code></li><li>将 <code>DOM</code> 和 <code>CSSOM</code> 整合形成 <code>RenderTree</code></li><li>根据 <code>RenderTree</code> 开始渲染和展示</li><li>遇到 <code>&lt;script&gt;</code> 时，会执行并阻塞渲染，因为 Javascript 代码有权利改变<code>DOM</code>树</li></ul><h2 id="浏览器如何渲染网页"><a href="#浏览器如何渲染网页" class="headerlink" title="浏览器如何渲染网页"></a>浏览器如何渲染网页</h2><p>要了解浏览器渲染页面的过程，首先得知道一个名词——关键渲染路径。关键渲染路径是指浏览器从最初接收请求来的 HTML、CSS、javascript 等资源，然后解析、构建树、渲染布局、绘制，最后呈现给用户能看到的界面这整个过程。</p><p>用户看到页面实际上可以分为两个阶段：页面内容加载完成和页面资源加载完成，分别对应于<code>DOMContentLoaded</code>和<code>Load</code>。</p><ul><li><code>DOMContentLoaded</code>事件触发时，仅当 DOM 加载完成，不包括样式表，图片等</li><li><code>load</code>事件触发时，页面上所有的 DOM，样式表，脚本，图片都已加载完成</li></ul><p>浏览器渲染的过程主要包括以下五步：</p><ol><li>浏览器将获取的 HTML 文档解析成 DOM 树。</li><li>处理 CSS 标记，构成层叠样式表模型 CSSOM(CSS Object Model)。</li><li>将 DOM 和 CSSOM 合并为渲染树(<code>rendering tree</code>)，代表一系列将被渲染的对象。</li><li>渲染树的每个元素包含的内容都是计算过的，它被称之为布局<code>layout</code>。浏览器使用一种流式处理的方法，只需要一次绘制操作就可以布局所有的元素。</li><li>将渲染树的各个节点绘制到屏幕上，这一步被称为绘制<code>painting</code>。</li></ol><p>需要注意的是，以上五个步骤并不一定一次性顺序完成，比如 DOM 或 CSSOM 被修改时，亦或是哪个过程会重复执行，这样才能计算出哪些像素需要在屏幕上进行重新渲染。而在实际情况中，JavaScript 和 CSS 的某些操作往往会多次修改 DOM 或者 CSSOM。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/interview-client01/2.webp" alt=""></p><p>webkit 渲染引擎流程</p><h2 id="浏览器渲染网页的具体流程"><a href="#浏览器渲染网页的具体流程" class="headerlink" title="浏览器渲染网页的具体流程"></a>浏览器渲染网页的具体流程</h2><h3 id="构建-DOM-树"><a href="#构建-DOM-树" class="headerlink" title="构建 DOM 树"></a>构建 DOM 树</h3><p>当浏览器接收到服务器响应来的 HTML 文档后，会遍历文档节点，生成 DOM 树。<br>需要注意以下几点：</p><ul><li>DOM 树在构建的过程中可能会被 CSS 和 JS 的加载而执行阻塞</li><li><code>display:none</code>的元素也会在 DOM 树中</li><li>注释也会在 DOM 树中</li><li><code>script</code>标签会在 DOM 树中</li></ul><p>无论是 DOM 还是 CSSOM，都是要经过<code>Bytes→characters→tokens→nodes→object model</code>这个过程。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/interview-client01/3.webp" alt=""></p><p>当前节点的所有子节点都构建好后才会去构建当前节点的下一个兄弟节点。</p><h3 id="构建-CSSOM-规则树"><a href="#构建-CSSOM-规则树" class="headerlink" title="构建 CSSOM 规则树"></a>构建 CSSOM 规则树</h3><p>浏览器解析 CSS 文件并生成 CSSOM，每个 CSS 文件都被分析成一个 StyleSheet 对象，每个对象都包含 CSS 规则。CSS 规则对象包含对应于 CSS 语法的选择器和声明对象以及其他对象。<br>在这个过程需要注意的是：</p><ul><li>CSS 解析可以与 DOM 解析同时进行。</li><li>CSS 解析与<code>script</code>的执行互斥 。</li><li>在 Webkit 内核中进行了<code>script</code>执行优化，只有在 JS 访问 CSS 时才会发生互斥。</li></ul><h3 id="构建渲染树（Render-Tree）"><a href="#构建渲染树（Render-Tree）" class="headerlink" title="构建渲染树（Render Tree）"></a>构建渲染树（Render Tree）</h3><p>通过 DOM 树和 CSS 规则树，浏览器就可以通过它两构建渲染树了。浏览器会先从 DOM 树的根节点开始遍历每个可见节点，然后对每个可见节点找到适配的 CSS 样式规则并应用。<br>有以下几点需要注意：</p><ul><li>Render Tree 和 DOM Tree 不完全对应</li><li><code>display: none</code>的元素不在 Render Tree 中</li><li><code>visibility: hidden</code>的元素在 Render Tree 中</li></ul><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/interview-client01/4.webp" alt=""></p><p>渲染树生成后，还是没有办法渲染到屏幕上，渲染到屏幕需要得到各个节点的位置信息，这就需要布局（Layout）的处理了。</p><h3 id="渲染树布局-layout-of-the-render-tree"><a href="#渲染树布局-layout-of-the-render-tree" class="headerlink" title="渲染树布局(layout of the render tree)"></a>渲染树布局(layout of the render tree)</h3><p>布局阶段会从渲染树的根节点开始遍历，由于渲染树的每个节点都是一个 Render Object 对象，包含宽高，位置，背景色等样式信息。所以浏览器就可以通过这些样式信息来确定每个节点对象在页面上的确切大小和位置，布局阶段的输出就是我们常说的盒子模型，它会精确地捕获每个元素在屏幕内的确切位置与大小。需要注意的是：</p><ul><li><code>float</code>元素，<code>absoulte</code>元素，<code>fixed</code>元素会发生位置偏移。</li><li>我们常说的脱离文档流，其实就是脱离 Render Tree。</li></ul><h3 id="渲染树绘制（Painting-the-render-tree）"><a href="#渲染树绘制（Painting-the-render-tree）" class="headerlink" title="渲染树绘制（Painting the render tree）"></a>渲染树绘制（Painting the render tree）</h3><p>在绘制阶段，浏览器会遍历渲染树，调用渲染器的<code>paint()</code>方法在屏幕上显示其内容。渲染树的绘制工作是由浏览器的 UI 后端组件完成的。</p><h2 id="浏览器渲染网页的那些事儿"><a href="#浏览器渲染网页的那些事儿" class="headerlink" title="浏览器渲染网页的那些事儿"></a>浏览器渲染网页的那些事儿</h2><h3 id="浏览器主要组件结构"><a href="#浏览器主要组件结构" class="headerlink" title="浏览器主要组件结构"></a>浏览器主要组件结构</h3><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/interview-client01/5.webp" alt=""></p><p>浏览器主要组件</p><p>渲染引擎主要有两个：webkit 和 Gecko<br>Firefox 使用 Geoko，Mozilla 自主研发的渲染引擎。Safari 和 Chrome 都使用 webkit。Webkit 是一款开源渲染引擎，它本来是为 linux 平台研发的，后来由 Apple 移植到 Mac 及 Windows 上。<br>虽然主流浏览器渲染过程叫法有区别，但是主要流程还是相同的。</p><h3 id="渲染阻塞"><a href="#渲染阻塞" class="headerlink" title="渲染阻塞"></a>渲染阻塞</h3><p>JS 可以操作 DOM 来修改 DOM 结构，可以操作 CSSOM 来修改节点样式，这就导致了浏览器在遇到<code>&lt;script&gt;</code>标签时，DOM 构建将暂停，直至脚本完成执行，然后继续构建 DOM。如果脚本是外部的，会等待脚本下载完毕，再继续解析文档。现在可以在<code>script</code>标签上增加属性<code>defer</code>或者<code>async</code>。脚本解析会将脚本中改变 DOM 和 CSS 的地方分别解析出来，追加到 DOM 树和 CSSOM 规则树上。</p><p>每次去执行 JavaScript 脚本都会严重地阻塞 DOM 树的构建，如果 JavaScript 脚本还操作了 CSSOM，而正好这个 CSSOM 还没有下载和构建，浏览器甚至会延迟脚本执行和构建 DOM，直至完成其 CSSOM 的下载和构建。所以，<code>script</code>标签的位置很重要。</p><p>JS 阻塞了构建 DOM 树，也阻塞了其后的构建 CSSOM 规则树，整个解析进程必须等待 JS 的执行完成才能够继续，这就是所谓的 JS 阻塞页面。</p><p>由于 CSSOM 负责存储渲染信息，浏览器就必须保证在合成渲染树之前，CSSOM 是完备的，这种完备是指所有的 CSS（内联、内部和外部）都已经下载完，并解析完，只有 CSSOM 和 DOM 的解析完全结束，浏览器才会进入下一步的渲染，这就是 CSS 阻塞渲染。</p><p>CSS 阻塞渲染意味着，在 CSSOM 完备前，页面将一直处理白屏状态，这就是为什么样式放在<code>head</code>中，仅仅是为了更快的解析 CSS，保证更快的首次渲染。</p><p>需要注意的是，即便你没有给页面任何的样式声明，CSSOM 依然会生成，默认生成的 CSSOM 自带浏览器默认样式。</p><p>当解析 HTML 的时候，会把新来的元素插入 DOM 树里面，同时去查找 CSS，然后把对应的样式规则应用到元素上，查找样式表是按照从右到左的顺序去匹配的。</p><p>例如：<code>div p &#123;font-size: 16px&#125;</code>，会先寻找所有<code>p</code>标签并判断它的父标签是否为<code>div</code>之后才会决定要不要采用这个样式进行渲染）。<br>所以，我们平时写 CSS 时，尽量用<code>id</code>和<code>class</code>，千万不要过渡层叠。</p><h4 id="回流和重绘（reflow-和-repaint）"><a href="#回流和重绘（reflow-和-repaint）" class="headerlink" title="回流和重绘（reflow 和 repaint）"></a>回流和重绘（reflow 和 repaint）</h4><p>我们都知道 HTML 默认是流式布局的，但 CSS 和 JS 会打破这种布局，改变 DOM 的外观样式以及大小和位置。因此我们就需要知道两个概念：<code>replaint</code>和<code>reflow</code>。</p><h3 id="reflow（回流）"><a href="#reflow（回流）" class="headerlink" title="reflow（回流）"></a>reflow（回流）</h3><p>当浏览器发现布局发生了变化，这个时候就需要倒回去重新渲染，这个回退的过程叫<code>reflow</code>。<code>reflow</code>会从<code>html</code>这个<code>root frame</code>开始递归往下，依次计算所有的结点几何尺寸和位置，以确认是渲染树的一部分发生变化还是整个渲染树。<code>reflow</code>几乎是无法避免的，因为只要用户进行交互操作，就势必会发生页面的一部分的重新渲染，且通常我们也无法预估浏览器到底会<code>reflow</code>哪一部分的代码，因为他们会相互影响。</p><h3 id="repaint（重绘）"><a href="#repaint（重绘）" class="headerlink" title="repaint（重绘）"></a>repaint（重绘）</h3><p><code>repaint</code>则是当我们改变某个元素的背景色、文字颜色、边框颜色等等不影响它周围或内部布局的属性时，屏幕的一部分要重画，但是元素的几何尺寸和位置没有发生改变。</p><p>需要注意的是，<code>display:none</code>会触发<code>reflow</code>，而<code>visibility: hidden</code>属性则并不算是不可见属性，它的语义是隐藏元素，但元素仍然占据着布局空间，它会被渲染成一个空框。所以<code>visibility:hidden</code>只会触发<code>repaint</code>，因为没有发生位置变化。</p><p>另外有些情况下，比如修改了元素的样式，浏览器并不会立刻<code>reflow</code>或<code>repaint</code>一次，而是会把这样的操作积攒一批，然后做一次<code>reflow</code>，这又叫异步<code>reflow</code>或增量异步<code>reflow</code>。但是在有些情况下，比如<code>resize</code>窗口，改变了页面默认的字体等。对于这些操作，浏览器会马上进行<code>reflow</code>。</p><h3 id="引起-reflow"><a href="#引起-reflow" class="headerlink" title="引起 reflow"></a>引起 reflow</h3><p>现代浏览器会对回流做优化，它会等到足够数量的变化发生，再做一次批处理回流。</p><ul><li>页面第一次渲染（初始化）</li><li>DOM 树变化（如：增删节点）</li><li>Render 树变化（如：<code>padding</code>改变）</li><li>浏览器窗口<code>resize</code></li><li>获取元素的某些属性</li></ul><p>浏览器为了获得正确的值也会提前触发回流，这样就使得浏览器的优化失效了，这些属性包括<code>offsetLeft、offsetTop、offsetWidth、offsetHeight、 scrollTop/Left/Width/Height、clientTop/Left/Width/Height</code>、调用了<code>getComputedStyle()</code>。</p><h3 id="引起-repaint"><a href="#引起-repaint" class="headerlink" title="引起 repaint"></a>引起 repaint</h3><p><code>reflow</code>回流必定引起<code>repaint</code>重绘，重绘可以单独触发。<br>背景色、颜色、字体改变（注意：字体大小发生变化时，会触发回流）</p><h4 id="减少-reflow、repaint-触发次数"><a href="#减少-reflow、repaint-触发次数" class="headerlink" title="减少 reflow、repaint 触发次数"></a>减少 reflow、repaint 触发次数</h4><ul><li>用<code>transform</code>做形变和位移可以减少<code>reflow</code></li><li>避免逐个修改节点样式，尽量一次性修改</li><li>使用<code>DocumentFragment</code>将需要多次修改的 DOM 元素缓存，最后一次性<code>append</code>到真实 DOM 中渲染</li><li>可以将需要多次修改的 DOM 元素设置<code>display:none</code>，操作完再显示。（因为隐藏元素不在<code>render</code>树内，因此修改隐藏元素不会触发回流重绘）</li><li>避免多次读取某些属性</li><li>通过绝对位移将复杂的节点元素脱离文档流，形成新的 Render Layer，降低回流成本</li></ul><h2 id="几条关于优化渲染效率的建议"><a href="#几条关于优化渲染效率的建议" class="headerlink" title="几条关于优化渲染效率的建议"></a>几条关于优化渲染效率的建议</h2><p>结合上文有以下几点可以优化渲染效率。</p><ul><li>合法地去书写 HTML 和 CSS ，且不要忘了文档编码类型。</li><li>样式文件应当在<code>head</code>标签中，而脚本文件在<code>body</code>结束前，这样可以防止阻塞的方式。</li><li>简化并优化 CSS 选择器，尽量将嵌套层减少到最小。</li><li>DOM 的多个读操作（或多个写操作），应该放在一起。不要两个读操作之间，加入一个写操作。</li><li>如果某个样式是通过重排得到的，那么最好缓存结果。避免下一次用到的时候，浏览器又要重排。</li><li>不要一条条地改变样式，而要通过改变<code>class</code>，或者<code>csstext</code>属性，一次性地改变样式。</li><li>尽量用<code>transform</code>来做形变和位移</li><li>尽量使用离线 DOM，而不是真实的网页 DOM，来改变元素样式。比如，操作<code>Document Fragment</code>对象，完成后再把这个对象加入 DOM。再比如，使用<code>cloneNode()</code>方法，在克隆的节点上进行操作，然后再用克隆的节点替换原始节点。</li><li>先将元素设为<code>display: none</code>（需要 1 次重排和重绘），然后对这个节点进行 100 次操作，最后再恢复显示（需要 1 次重排和重绘）。这样一来，你就用两次重新渲染，取代了可能高达 100 次的重新渲染。</li><li><code>position</code>属性为<code>absolute</code>或<code>fixed</code>的元素，重排的开销会比较小，因为不用考虑它对其他元素的影响。</li><li>只在必要的时候，才将元素的<code>display</code>属性为可见，因为不可见的元素不影响重排和重绘。另外，<code>visibility : hidden</code>的元素只对重绘有影响，不影响重排。</li><li>使用<code>window.requestAnimationFrame()</code>、<code>window.requestIdleCallback()</code>这两个方法调节重新渲染。</li></ul><h1 id="箭头函数和普通函数的区别"><a href="#箭头函数和普通函数的区别" class="headerlink" title="箭头函数和普通函数的区别"></a>箭头函数和普通函数的区别</h1><ol><li>箭头函数没有自己的 this,继承外层代码块的 this。</li><li>不能当做构造函数，也就是说不可以使用 new 命令，否则会报错的。</li><li>不能使用 arguments 对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</li><li>不能使用 yield 命令，因此箭头函数不能用作 Generator（生成器） 函数。</li><li>因为没有 this,所以不能使用 call、bind、apply 来改变 this 的指向。</li></ol><h1 id="数组常用方法"><a href="#数组常用方法" class="headerlink" title="数组常用方法"></a>数组常用方法</h1><blockquote><p>Array 对象属性</p></blockquote><ol><li><p>constructor 属性返回对创建此对象的数组函数的引用。</p></li><li><p>prototype 属性使您有能力向对象添加属性和方法。</p></li><li><p>length 属性可设置或返回数组中元素的数目。</p></li></ol><p>设置 length 属性可改变数组的大小。如果设置的值比其当前值小，数组将被截断，其尾部的元素将丢失。如果设置的值比它的当前值大，数组将增大，新的元素被添加到数组的尾部，它们的值为 undefined。</p><h2 id="一、改变原来数组的方法"><a href="#一、改变原来数组的方法" class="headerlink" title="一、改变原来数组的方法"></a>一、改变原来数组的方法</h2><ol><li><code>pop()</code> <strong>获取数组最后一个元素（改变原数组）、删除数组最后一个元素</strong></li></ol><p>arrayObject.pop()</p><p>js 内置的 pop()方法可用于删除并并返回数组的最后一个元素，注意这里获取了数组的最后一个元素的同时也将原数组的最后一个元素删除了。如果数组为空，则该方法不改变数组，并返回 undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> last = list.<span class="title function_">pop</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(list) <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(last) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><ol><li><code>push</code> <strong>数组尾部添加元素（返回数组的新长度）</strong></li></ol><p>push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObject.<span class="title function_">push</span>(newelement1,newelement2,....,newelementX)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 尾部添加数组元素</span></span><br><span class="line"><span class="keyword">let</span> arr6 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr7 = arr6.<span class="title function_">push</span>(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr6, arr7) <span class="comment">//  [1, 2, 3, 4, 5] 5</span></span><br><span class="line">arr6.<span class="title function_">push</span>(<span class="number">6</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr6) <span class="comment">//  [1, 2, 3, 4, 5, 6]</span></span><br><span class="line">arr6 = arr6.<span class="title function_">push</span>(<span class="number">7</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr6) <span class="comment">// 7</span></span><br></pre></td></tr></table></figure><ol><li><code>reverse</code> <strong>颠倒数组的顺序（改变原数组）</strong></li></ol><p>arrayObject.reverse()</p><p>reverse() 方法用于颠倒数组中元素的顺序。该方法会改变原来的数组，而不会创建新的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr8 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">let</span> arr9 = arr8.<span class="title function_">reverse</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr8, arr9) <span class="comment">// [6, 5, 4, 3, 2, 1]  [6, 5, 4, 3, 2, 1]</span></span><br></pre></td></tr></table></figure><ol><li><code>shift</code> <strong>获取数组的第一个元素（改变原数组）、删除数组第一个元素</strong></li></ol><p>arrayObject.shift()</p><p>shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。如果数组是空的，那么 shift() 方法将不进行任何操作，返回 undefined 值。请注意，该方法不创建新数组，而是直接修改原有的 arrayObject。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 删除第一个元素,并返回第一个元素的值</span></span><br><span class="line"><span class="keyword">let</span> arr10 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr11 = arr10.<span class="title function_">shift</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr10, arr11) <span class="comment">// [2, 3, 4] 1</span></span><br></pre></td></tr></table></figure><ol><li><code>splice</code> <strong>向数组中添加或删除元素（改变原数组），然后返回被删除的元素</strong></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObject.<span class="title function_">splice</span>(index,howmany,item1,.....,itemX)</span><br></pre></td></tr></table></figure><p><code>index</code>：必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</p><p><code>howmany</code>：必需。要删除的项目数量。如果设置为 0，则不会删除项目。</p><p><code>item1</code>, …, itemX：可选。向数组添加的新项目。</p><p><code>splice()</code>方法可删除从 index 处开始的零个或多个元素，并且用参数列表中声明的一个或多个值来替换那些被删除的元素。</p><p>如果从 arrayObject 中删除了元素，则返回的是含有被删除的元素的数组。</p><p>所有主流浏览器都支持 splice() 方法。</p><p>注释：请注意，splice() 方法与 slice() 方法的作用是不同的，splice() 方法会直接对数组进行修改。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  从数组中添加/删除项目，然后返回被删除的项目</span></span><br><span class="line"><span class="keyword">let</span> arr19 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">let</span> arr20 = arr19.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr20, arr19) <span class="comment">// [2, 3, 4, 5]  [1, 6]</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr21 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">let</span> arr22 = arr21.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">222</span>, <span class="number">333</span>, <span class="number">666</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr22, arr21) <span class="comment">//  [2, 3, 4, 5]  [1,222,333,666,6]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">6</span>)</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;George&#x27;</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">&#x27;John&#x27;</span></span><br><span class="line">arr[<span class="number">2</span>] = <span class="string">&#x27;Thomas&#x27;</span></span><br><span class="line">arr[<span class="number">3</span>] = <span class="string">&#x27;James&#x27;</span></span><br><span class="line">arr[<span class="number">4</span>] = <span class="string">&#x27;Adrew&#x27;</span></span><br><span class="line">arr[<span class="number">5</span>] = <span class="string">&#x27;Martin&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(arr + <span class="string">&#x27;&lt;br /&gt;&#x27;</span>)</span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="string">&#x27;William&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(arr + <span class="string">&#x27;&lt;br /&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">George</span>, <span class="title class_">John</span>, <span class="title class_">Thomas</span>, <span class="title class_">James</span>, <span class="title class_">Adrew</span>, <span class="title class_">Martin</span></span><br><span class="line"><span class="title class_">George</span>, <span class="title class_">John</span>, <span class="title class_">William</span>, <span class="title class_">Thomas</span>, <span class="title class_">James</span>, <span class="title class_">Adrew</span>, <span class="title class_">Martin</span></span><br></pre></td></tr></table></figure><ol><li><code>unshift</code> <strong>向数组的开头添加一个或更多元素(改变原数组)，并返回新的长度</strong></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObject.<span class="title function_">unshift</span>(newelement1,newelement2,....,newelementX)</span><br></pre></td></tr></table></figure><p>第一个参数必填。向数组添加的元素</p><p>unshift() 方法将把它的参数插入 arrayObject 的头部，并将已经存在的元素顺次地移到较高的下标处，以便留出空间。</p><p>该方法的第一个参数将成为数组的新元素 0，如果还有第二个参数，它将成为新的元素 1，以此类推。</p><p>请注意，unshift() 方法不创建新的创建，而是直接修改原有的数组。</p><p>注释：该方法会改变数组的长度。</p><p>注释：unshift() 方法无法在 Internet Explorer 中正确地工作</p><ol><li><code>sort</code> <strong>对数组元素进行排序（改变原数组）</strong></li></ol><p>arrayObject.sort(sortby)</p><p>对数组的引用。请注意，数组在原数组上进行排序，不生成副本。</p><p>参数可选。规定排序顺序。必须是函数。</p><p>如果调用该方法时没有使用参数，将按字母顺序对数组中的元素进行排序，说得更精确点，是按照字符编码的顺序进行排序。</p><p>要实现这一点，首先应把数组的元素都转换成字符串（如有必要），以便进行比较。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组的排序</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">6</span>)</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;George&#x27;</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">&#x27;John&#x27;</span></span><br><span class="line">arr[<span class="number">2</span>] = <span class="string">&#x27;Thomas&#x27;</span></span><br><span class="line">arr[<span class="number">3</span>] = <span class="string">&#x27;James&#x27;</span></span><br><span class="line">arr[<span class="number">4</span>] = <span class="string">&#x27;Adrew&#x27;</span></span><br><span class="line">arr[<span class="number">5</span>] = <span class="string">&#x27;Martin&#x27;</span></span><br><span class="line"><span class="keyword">let</span> arr16 = arr.<span class="title function_">sort</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr16, arr)</span><br><span class="line"><span class="comment">// [&quot;Adrew&quot;, &quot;George&quot;, &quot;James&quot;, &quot;John&quot;, &quot;Martin&quot;, &quot;Thomas&quot;]</span></span><br><span class="line"><span class="comment">// [&quot;Adrew&quot;, &quot;George&quot;, &quot;James&quot;, &quot;John&quot;, &quot;Martin&quot;, &quot;Thomas&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr17 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">6</span>)</span><br><span class="line">arr17[<span class="number">0</span>] = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">arr17[<span class="number">1</span>] = <span class="string">&#x27;5&#x27;</span></span><br><span class="line">arr17[<span class="number">2</span>] = <span class="string">&#x27;40&#x27;</span></span><br><span class="line">arr17[<span class="number">3</span>] = <span class="string">&#x27;25&#x27;</span></span><br><span class="line">arr17[<span class="number">4</span>] = <span class="string">&#x27;1000&#x27;</span></span><br><span class="line">arr17[<span class="number">5</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr17.<span class="title function_">sort</span>())</span><br><span class="line"><span class="comment">//  [&quot;1&quot;, &quot;10&quot;, &quot;1000&quot;, &quot;25&quot;, &quot;40&quot;, &quot;5&quot;]</span></span><br></pre></td></tr></table></figure><p>如果想按照其他标准进行排序，就需要提供比较函数，该函数要比较两个值，然后返回一个用于说明这两个值的相对顺序的数字。</p><p>比较函数应该具有两个参数 a 和 b，其返回值如下：</p><p>若 a 小于 b，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。</p><p>若 a 等于 b，则返回 0。</p><p>若 a 大于 b，则返回一个大于 0 的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sortNumber</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr18 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">6</span>)</span><br><span class="line">arr18[<span class="number">0</span>] = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">arr18[<span class="number">1</span>] = <span class="string">&#x27;5&#x27;</span></span><br><span class="line">arr18[<span class="number">2</span>] = <span class="string">&#x27;40&#x27;</span></span><br><span class="line">arr18[<span class="number">3</span>] = <span class="string">&#x27;25&#x27;</span></span><br><span class="line">arr18[<span class="number">4</span>] = <span class="string">&#x27;1000&#x27;</span></span><br><span class="line">arr18[<span class="number">5</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr18.<span class="title function_">sort</span>(sortNumber)) <span class="comment">// [&quot;1&quot;, &quot;5&quot;, &quot;10&quot;, &quot;25&quot;, &quot;40&quot;, &quot;1000&quot;]</span></span><br></pre></td></tr></table></figure><h2 id="二、不改变原来数组的方法"><a href="#二、不改变原来数组的方法" class="headerlink" title="二、不改变原来数组的方法"></a>二、不改变原来数组的方法</h2><ol><li><code>concat</code> <strong>连接多个数组或元素（不改变原数组）</strong></li></ol><p>arrayObject.concat(arrayX,arrayX,……,arrayX)</p><p>concat() 方法用于连接两个或多个数组，该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</p><p>该参数可以是具体的值，也可以是数组对象。可以是任意多个。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="comment">// 1. 数组的合并</span></span><br><span class="line"><span class="keyword">let</span> arr3 = arr1.<span class="title function_">concat</span>(arr2)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1, arr2, arr3)</span><br><span class="line"><span class="comment">// [1,2,3] [4,5]  [1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line">arr3 = arr3.<span class="title function_">concat</span>(<span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3) <span class="comment">// [1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure><ol><li><code>join</code> <strong>将数组用分隔符连接成字符串（不改变原数组）</strong></li></ol><p>arrayObject.join(separator)</p><p>join() 方法用于把数组中的所有元素放入一个字符串。</p><p>元素是通过指定的分隔符进行分隔的。</p><p>该参数<code>可选</code>。</p><p>指定要使用的分隔符，如果省略该参数，则使用逗号作为分隔符。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   数组转换成字符串，并使用分隔符连接</span></span><br><span class="line"><span class="keyword">let</span> arr4 = [<span class="number">2019</span>, <span class="number">3</span>, <span class="number">14</span>]</span><br><span class="line"><span class="keyword">let</span> arr5 = arr4.<span class="title function_">join</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr4, arr5) <span class="comment">// [2019, 3, 14] &quot;2019,3,14&quot;</span></span><br><span class="line">arr4 = arr4.<span class="title function_">join</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr4) <span class="comment">// 2019.3.14</span></span><br></pre></td></tr></table></figure><ol><li><code>slice</code> <strong>截取原数组中某段元素（不改变原数组）</strong></li></ol><p>arrayObject.slice(start,end)</p><p><code>slice()</code> 方法可从已有的数组中返回选定的元素。</p><p>返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。</p><p>start：<code>必需</code>。规定从何处开始选取。如果是负数，那么它规定从数组尾部开始算起的位置。也就是说，-1 指最后一个元素，-2 指倒数第二个元素，以此类推。</p><p>end：<code>可选</code>。规定从何处结束选取。该参数是数组片断结束处的数组下标。如果没有指定该参数，那么切分的数组包含从 start 到数组结束的所有元素。如果这个参数是负数，那么它规定的是从数组尾部开始算起的元素。</p><p>请注意，该方法并不会修改数组，而是返回一个子数组。如果想删除数组中的一段元素，应该使用方法 Array.splice()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从原数组中返回选定的元素</span></span><br><span class="line"><span class="keyword">let</span> arr12 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr13 = arr12.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr12, arr13) <span class="comment">// [1, 2, 3, 4]  [2, 3, 4]</span></span><br><span class="line"><span class="keyword">let</span> arr14 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr15 = arr14.<span class="title function_">slice</span>(-<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr14, arr15) <span class="comment">// [1, 2, 3, 4]  4</span></span><br></pre></td></tr></table></figure><ol><li><code>toString</code> <strong>把数组转换为字符串，并返回结果（不改变原数组）</strong></li></ol><p>arrayObject.toString()</p><p>toString() 方法可把数组转换为字符串，并返回结果。</p><p>arrayObject 的字符串表示。返回值与没有参数的 join() 方法返回的字符串相同。</p><p>当数组用于字符串环境时，JavaScript 会调用这一方法将数组自动转换成字符串。但是在某些情况下，需要显式地调用该方法。</p><p>注释：数组中的元素之间用逗号分隔</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将数组转换成字符串</span></span><br><span class="line"><span class="keyword">let</span> arr23 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr24 = arr23.<span class="title function_">toString</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr23, arr24) <span class="comment">// [1, 2, 3, 4] &quot;1,2,3,4&quot;</span></span><br></pre></td></tr></table></figure><ol><li><code>toLocaleString</code> <strong>把数组转换为本地字符串(不改变原数组)</strong></li></ol><p>arrayObject.toLocaleString()</p><p>arrayObject 的本地字符串表示。首先调用每个数组元素的 toLocaleString() 方法，然后使用地区特定的分隔符把生成的字符串连接起来，形成一个字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把数组转换为本地字符串  返回格式化对象后的字符串，该字符串格式因语言不同返回值也会不同，可以通过传参决定返回的语言及具体的表现</span></span><br><span class="line"><span class="keyword">let</span> arr25 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr26 = arr25.<span class="title function_">toLocaleString</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr25, arr26) <span class="comment">// [1, 2, 3, 4] &quot;1,2,3,4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">12222</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">toLocaleString</span>()) <span class="comment">// 12,222 (整数部分每三位加一个逗号)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;浏览器里，从用户输入 url 到用户看到页面结果的过程，发生了什么？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;1、域名解析&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;域名解析的过程：&lt;/p&gt;
&lt;p&gt;（1）查询浏览器自身 DNS 缓存&lt;/p&gt;</summary>
      
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="面试经验" scheme="https://anzhiy.cn/tags/%E9%9D%A2%E8%AF%95%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>vue面试题</title>
    <link href="https://anzhiy.cn/posts/bd4e.html"/>
    <id>https://anzhiy.cn/posts/bd4e.html</id>
    <published>2021-06-28T10:52:23.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<p>20 道常见的面试题</p><p>摘自 boss 直聘<code>陈大鱼头</code></p><blockquote><p>尽量减少 data 中的数据，data 中的数据都会增加 getter 和 setter，会收集对应的 watcher</p></blockquote><p>从镜片的厚度和黄黑相见的格子衬衫我察觉到，面前坐着的这位面试官应该是来者不善。我像以往一样，准备花 3 分钟的时间进行自我介绍。</p><p>在此期间，为了避免尴尬，我盯着面试官的眉毛中间，不过面试官明显对我的经历不是很感兴趣。他在 1 分半的时候打断了我。</p><blockquote><p><strong>你觉得自己最擅长的技术栈是什么？</strong></p></blockquote><p>Vue 吧，我很喜欢尤大，最近刚发布了 Vue 的首部纪录片，真的很好看。</p><h3 id="那你能讲一讲-MVVM-吗？"><a href="#那你能讲一讲-MVVM-吗？" class="headerlink" title="那你能讲一讲 MVVM 吗？"></a><strong>那你能讲一讲 MVVM 吗？</strong></h3><p>MVVM 是 Model-View-ViewModel 缩写，也就是把 MVC 中的 Controller 演变成 ViewModel。Model 层代表数据模型，View 代表 UI 组件，</p><p>ViewModel 是 View 和 Model 层的桥梁，数据会绑定到 viewModel 层并自动将数据渲染到页面中，视图变化的时候会通知 viewModel 层更新数据。</p><h3 id="简单说一下-Vue2-x-响应式数据原理"><a href="#简单说一下-Vue2-x-响应式数据原理" class="headerlink" title="简单说一下 Vue2.x 响应式数据原理"></a><strong>简单说一下 Vue2.x 响应式数据原理</strong></h3><p>Vue 在初始化数据时，会使用 Object.defineProperty 重新定义 data 中的所有属性，当页面使用对应属性时，首先会进行依赖收集(收集当前组件的 watcher)</p><p>如果属性发生变化会通知相关依赖进行更新操作(发布订阅)。</p><h3 id="那你知道-Vue3-x-响应式数据原理吗？"><a href="#那你知道-Vue3-x-响应式数据原理吗？" class="headerlink" title="那你知道 Vue3.x 响应式数据原理吗？"></a><strong>那你知道 Vue3.x 响应式数据原理吗？</strong></h3><p>(还好我有看，这个难不倒我)</p><p>Vue3.x 改用 Proxy 替代 Object.defineProperty。因为 Proxy 可以直接监听对象和数组的变化，并且有多达 13 种拦截方法。</p><p>并且作为新标准将受到浏览器厂商重点持续的性能优化。</p><blockquote><p>“ Proxy 只会代理对象的第一层，那么 Vue3 又是怎样处理这个问题的呢？”</p></blockquote><p>（很简单啊）</p><p>判断当前 Reflect.get 的返回值是否为 Object，如果是则再通过 reactive 方法做代理， 这样就实现了深度观测。</p><blockquote><p>“ 监测数组的时候可能触发多次 get/set，那么如何防止触发多次呢？”</p></blockquote><p>我们可以判断 key 是否为当前被代理对象 target 自身属性，也可以判断旧值与新值是否相等，只有满足以上两个条件之一时，才有可能执行 trigger。</p><p>面试官抬起了头。心里暗想</p><p>(这小子还行，比上两个强，应该是多多少少看过 Vue3 的源码了)</p><h3 id="再说一下-vue2-x-中如何监测数组变化"><a href="#再说一下-vue2-x-中如何监测数组变化" class="headerlink" title="再说一下 vue2.x 中如何监测数组变化"></a><strong>再说一下 vue2.x 中如何监测数组变化</strong></h3><p>使用了函数劫持的方式，重写了数组的方法，Vue 将 data 中的数组进行了原型链重写，指向了自己定义的数组原型方法。</p><p>这样当调用数组 api 时，可以通知依赖更新。如果数组中包含着引用类型，会对数组中的引用类型再次递归遍历进行监控。这样就实现了监测数组变化。</p><p>（能问到这的面试官都比较注重深度，这些常规操作要记牢）</p><p>（原型链的细节可以参考我的另一篇专栏）</p><h3 id="nextTick-知道吗，实现原理是什么？"><a href="#nextTick-知道吗，实现原理是什么？" class="headerlink" title="nextTick 知道吗，实现原理是什么？"></a><strong>nextTick 知道吗，实现原理是什么？</strong></h3><p>在下次 DOM 更新循环结束之后执行延迟回调。nextTick 主要使用了宏任务和微任务。根据执行环境分别尝试采用</p><p>Promise</p><p>MutationObserver</p><p>setImmediate</p><p>如果以上都不行则采用 setTimeout</p><p>定义了一个异步方法，多次调用 nextTick 会将方法存入队列中，通过这个异步方法清空当前队列。</p><p>（关于宏任务和微任务以及事件循环可以参考我的另两篇专栏）</p><p>(看到这你就会发现，其实问框架最终还是考验你的原生 JavaScript 功底)</p><h3 id="说一下-Vue-的生命周期"><a href="#说一下-Vue-的生命周期" class="headerlink" title="说一下 Vue 的生命周期"></a><strong>说一下 Vue 的生命周期</strong></h3><p>beforeCreate 是 new Vue()之后触发的第一个钩子，在当前阶段 data、methods、computed 以及 watch 上的数据和方法都不能被访问。</p><p>created 在实例创建完成后发生，当前阶段已经完成了数据观测，也就是可以使用数据，更改数据，在这里更改数据不会触发 updated 函数。</p><p>可以做一些初始数据的获取，在当前阶段无法与 Dom 进行交互，如果非要想，可以通过 vm.$nextTick 来访问 Dom。</p><p>beforeMount 发生在挂载之前，在这之前 template 模板已导入渲染函数编译。而当前阶段虚拟 Dom 已经创建完成，即将开始渲染。</p><p>在此时也可以对数据进行更改，不会触发 updated。</p><p>mounted 在挂载完成后发生，在当前阶段，真实的 Dom 挂载完毕，数据完成双向绑定，可以访问到 Dom 节点，使用$refs 属性对 Dom 进行操作。</p><p>beforeUpdate 发生在更新之前，也就是响应式数据发生更新，虚拟 dom 重新渲染之前被触发，你可以在当前阶段进行更改数据，不会造成重渲染。</p><p>updated 发生在更新完成之后，当前阶段组件 Dom 已完成更新。要注意的是避免在此期间更改数据，因为这可能会导致无限循环的更新。</p><p>beforeDestroy 发生在实例销毁之前，在当前阶段实例完全可以被使用，我们可以在这时进行善后收尾工作，比如清除计时器。</p><p>destroyed 发生在实例销毁之后，这个时候只剩下了 dom 空壳。组件已被拆解，数据绑定被卸除，监听被移出，子实例也统统被销毁。</p><p>(关于 Vue 的生命周期详解感兴趣的也请移步我的另一篇专栏)</p><h3 id="你的接口请求一般放在哪个生命周期中？"><a href="#你的接口请求一般放在哪个生命周期中？" class="headerlink" title="你的接口请求一般放在哪个生命周期中？"></a><strong>你的接口请求一般放在哪个生命周期中？</strong></h3><p>接口请求一般放在 mounted 中，但需要注意的是服务端渲染时不支持 mounted，需要放到 created 中。</p><h3 id="再说一下-Computed-和-Watch"><a href="#再说一下-Computed-和-Watch" class="headerlink" title="再说一下 Computed 和 Watch"></a><strong>再说一下 Computed 和 Watch</strong></h3><p>Computed 本质是一个具备缓存的 watcher，依赖的属性发生变化就会更新视图。适用于计算比较消耗性能的计算场景。</p><p>当表达式过于复杂时，在模板中放入过多逻辑会让模板难以维护，可以将复杂的逻辑放入计算属性中处理。</p><p>Watch 没有缓存性，更多的是观察的作用，可以监听某些数据执行回调。当我们需要深度监听对象中的属性时，可以打开 deep：true 选项，</p><p>这样便会对对象中的每一项进行监听。这样会带来性能问题，优化的话可以使用字符串形式监听，如果没有写到组件中，不要忘记使用 unWatch 手动注销哦。</p><h3 id="说一下-v-if-和-v-show-的区别"><a href="#说一下-v-if-和-v-show-的区别" class="headerlink" title="说一下 v-if 和 v-show 的区别"></a><strong>说一下 v-if 和 v-show 的区别</strong></h3><p>当条件不成立时，v-if 不会渲染 DOM 元素，v-show 操作的是样式(display)，切换当前 DOM 的显示和隐藏。</p><h3 id="组件中的-data-为什么是一个函数？"><a href="#组件中的-data-为什么是一个函数？" class="headerlink" title="组件中的 data 为什么是一个函数？"></a><strong>组件中的 data 为什么是一个函数？</strong></h3><p>一个组件被复用多次的话，也就会创建多个实例。本质上，这些实例用的都是同一个构造函数。如果 data 是对象的话，对象属于引用类型，会影响到所有的实例。</p><p>所以为了保证组件不同的实例之间 data 不冲突，data 必须是一个函数。</p><h3 id="说一下-v-model-的原理"><a href="#说一下-v-model-的原理" class="headerlink" title="说一下 v-model 的原理"></a><strong>说一下 v-model 的原理</strong></h3><p>v-model 本质就是一个语法糖，可以看成是 value + input 方法的语法糖。可以通过 model 属性的 prop 和 event 属性来进行自定义。</p><p>原生的 v-model，会根据标签的不同生成不同的事件和属性。</p><h3 id="Vue-事件绑定原理说一下"><a href="#Vue-事件绑定原理说一下" class="headerlink" title="Vue 事件绑定原理说一下"></a><strong>Vue 事件绑定原理说一下</strong></h3><p>原生事件绑定是通过 addEventListener 绑定给真实元素的，组件事件绑定是通过 Vue 自定义的$on 实现的。</p><blockquote><p>“ 面试官：(这小子基础还可以，接下来我得上上难度了） ”</p></blockquote><h3 id="Vue-模版编译原理知道吗，能简单说一下吗？"><a href="#Vue-模版编译原理知道吗，能简单说一下吗？" class="headerlink" title="Vue 模版编译原理知道吗，能简单说一下吗？"></a><strong>Vue 模版编译原理知道吗，能简单说一下吗？</strong></h3><p>简单说，Vue 的编译过程就是将 template 转化为 render 函数的过程。会经历以下阶段：</p><p>生成 AST 树</p><p>优化</p><p>codegen</p><p>首先解析模版，生成 AST 语法树(一种用 JavaScript 对象的形式来描述整个模板)。使用大量的正则表达式对模板进行解析，</p><p>遇到标签、文本的时候都会执行对应的钩子进行相关处理。</p><p>Vue 的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的 DOM 也不会变化。</p><p>那么优化过程就是深度遍历 AST 树，按照相关条件对树节点进行标记。这些被标记的节点(静态节点)我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。</p><p>编译的最后一步是将优化后的 AST 树转换为可执行的代码。</p><blockquote><p>“ 面试官：(精神小伙啊，有点东西，难度提升，不信难不倒你）”</p></blockquote><h3 id="Vue2-x-和-Vue3-x-渲染器的-diff-算法分别说一下"><a href="#Vue2-x-和-Vue3-x-渲染器的-diff-算法分别说一下" class="headerlink" title="Vue2.x 和 Vue3.x 渲染器的 diff 算法分别说一下"></a><strong>Vue2.x 和 Vue3.x 渲染器的 diff 算法分别说一下</strong></h3><p>简单来说，diff 算法有以下过程</p><p>同级比较，再比较子节点</p><p>先判断一方有子节点一方没有子节点的情况(如果新的 children 没有子节点，将旧的子节点移除)</p><p>比较都有子节点的情况(核心 diff)</p><p>递归比较子节点</p><p>正常 Diff 两个树的时间复杂度是 O(n^3)，但实际情况下我们很少会进行跨层级的移动 DOM，所以 Vue 将 Diff 进行了优化，从 O(n^3) -&gt; O(n)，</p><p>只有当新旧 children 都为多个子节点时才需要用核心的 Diff 算法进行同层级比较。</p><p>Vue2 的核心 Diff 算法采用了双端比较的算法，同时从新旧 children 的两端开始进行比较，借助 key 值找到可复用的节点，再进行相关操作。</p><p>相比 React 的 Diff 算法，同样情况下可以减少移动节点次数，减少不必要的性能损耗，更加的优雅。</p><p>Vue3.x 借鉴了 ivi 算法和 inferno 算法</p><p>在创建 VNode 时就确定其类型，以及在 mount/patch 的过程中采用位运算来判断一个 VNode 的类型，在这个基础之上再配合核心的 Diff 算法，</p><p>使得性能上较 Vue2.x 有了提升。(实际的实现可以结合 Vue3.x 源码看。)</p><p>该算法中还运用了动态规划的思想求解最长递归子序列。</p><p>(看到这你还会发现，框架内无处不蕴藏着数据结构和算法的魅力)</p><blockquote><p>“ 面试官：(可以可以，看来是个苗子，不过自我介绍属实有些无聊，下一题) ”</p></blockquote><h3 id="再说一下虚拟-Dom-以及-key-属性的作用"><a href="#再说一下虚拟-Dom-以及-key-属性的作用" class="headerlink" title="再说一下虚拟 Dom 以及 key 属性的作用"></a><strong>再说一下虚拟 Dom 以及 key 属性的作用</strong></h3><p>由于在浏览器中操作 DOM 是很昂贵的。频繁的操作 DOM，会产生一定的性能问题。这就是虚拟 Dom 的产生原因。</p><p>Vue2 的 Virtual DOM 借鉴了开源库 snabbdom 的实现。</p><p>Virtual DOM 本质就是用一个原生的 JS 对象去描述一个 DOM 节点。是对真实 DOM 的一层抽象。(也就是源码中的 VNode 类，它定义在 src/core/vdom/vnode.js 中。)</p><p>VirtualDOM 映射到真实 DOM 要经历 VNode 的 create、diff、patch 等阶段。</p><p>「key 的作用是尽可能的复用 DOM 元素。」</p><p>新旧 children 中的节点只有顺序是不同的时候，最佳的操作应该是通过移动元素的位置来达到更新的目的。</p><p>需要在新旧 children 的节点中保存映射关系，以便能够在旧 children 的节点中找到可复用的节点。key 也就是 children 中节点的唯一标识。</p><h3 id="keep-alive-了解吗？"><a href="#keep-alive-了解吗？" class="headerlink" title="keep-alive 了解吗？"></a><strong>keep-alive 了解吗？</strong></h3><p>keep-alive 可以实现组件缓存，当组件切换时不会对当前组件进行卸载。</p><p>常用的两个属性 include/exclude，允许组件有条件的进行缓存。</p><p>两个生命周期 activated/deactivated，用来得知当前组件是否处于活跃状态。</p><p>keep-alive 的中还运用了 LRU(Least Recently Used)算法。</p><p>（又是数据结构与算法，原来算法在前端有这么多的应用）</p><h3 id="Vue-中组件生命周期调用顺序说一下"><a href="#Vue-中组件生命周期调用顺序说一下" class="headerlink" title="Vue 中组件生命周期调用顺序说一下"></a><strong>Vue 中组件生命周期调用顺序说一下</strong></h3><p>组件的调用顺序都是先父后子,渲染完成的顺序是先子后父。</p><p>组件的销毁操作是先父后子，销毁完成的顺序是先子后父。</p><p><strong>加载渲染过程</strong></p><p>父 beforeCreate-&gt;父 created-&gt;父 beforeMount-&gt;子 beforeCreate-&gt;子 created-&gt;子 beforeMount- &gt;子 mounted-&gt;父 mounted</p><p><strong>子组件更新过程</strong></p><p>父 beforeUpdate-&gt;子 beforeUpdate-&gt;子 updated-&gt;父 updated</p><p><strong>父组件更新过程</strong></p><p>父 beforeUpdate -&gt; 父 updated</p><p><strong>销毁过程</strong></p><p>父 beforeDestroy-&gt;子 beforeDestroy-&gt;子 destroyed-&gt;父 destroyed</p><h3 id="Vue2-x-组件通信有哪些方式？"><a href="#Vue2-x-组件通信有哪些方式？" class="headerlink" title="Vue2.x 组件通信有哪些方式？"></a>Vue2.x 组件通信有哪些方式？</h3><p><strong>父子组件通信</strong></p><p>父-&gt;子 props，子-&gt;父 $on、$emit</p><p>获取父子组件实例 $parent、$children</p><p>Ref 获取实例的方式调用组件的属性或者方法</p><p>Provide、inject 官方不推荐使用，但是写组件库时很常用</p><p><strong>兄弟组件通信</strong></p><p>Event Bus 实现跨组件通信 Vue.prototype.$bus = new Vue</p><p>Vuex</p><p><strong>跨级组件通信</strong></p><p>Vuex</p><p>$attrs、$listeners</p><p>Provide、inject</p><h3 id="SSR-了解吗？"><a href="#SSR-了解吗？" class="headerlink" title="SSR 了解吗？"></a><strong>SSR 了解吗？</strong></h3><p>SSR 也就是服务端渲染，也就是将 Vue 在客户端把标签渲染成 HTML 的工作放在服务端完成，然后再把 html 直接返回给客户端。</p><p>SSR 有着更好的 SEO、并且首屏加载速度更快等优点。不过它也有一些缺点，比如我们的开发条件会受到限制，</p><p>服务器端渲染只支持 beforeCreate 和 created 两个钩子，当我们需要一些外部扩展库时需要特殊处理，</p><p>服务端渲染应用程序也需要处于 Node.js 的运行环境。还有就是服务器会有更大的负载需求。</p><h3 id="你都做过哪些-Vue-的性能优化？"><a href="#你都做过哪些-Vue-的性能优化？" class="headerlink" title="你都做过哪些 Vue 的性能优化？"></a><strong>你都做过哪些 Vue 的性能优化？</strong></h3><p>编码阶段</p><p>尽量减少 data 中的数据，data 中的数据都会增加 getter 和 setter，会收集对应的 watcher</p><p>v-if 和 v-for 不能连用</p><p>如果需要使用 v-for 给每项元素绑定事件时使用事件代理</p><p>SPA 页面采用 keep-alive 缓存组件</p><p>在更多的情况下，使用 v-if 替代 v-show</p><p>key 保证唯一</p><p>使用路由懒加载、异步组件</p><p>防抖、节流</p><p>第三方模块按需导入</p><p>长列表滚动到可视区域动态加载</p><p>图片懒加载</p><p><strong>SEO 优化</strong></p><p>预渲染</p><p>服务端渲染 SSR</p><p><strong>打包优化</strong></p><p>压缩代码</p><p>Tree Shaking/Scope Hoisting</p><p>使用 cdn 加载第三方模块</p><p>多线程打包 happypack</p><p>splitChunks 抽离公共文件</p><p>sourceMap 优化</p><p><strong>用户体验</strong></p><p>骨架屏</p><p>PWA</p><p>还可以使用缓存(客户端缓存、服务端缓存)优化、服务端开启 gzip 压缩等。</p><p>(优化是个大工程，会涉及很多方面，这里申请另开一个专栏)</p><h3 id="hash-路由和-history-路由实现原理说一下"><a href="#hash-路由和-history-路由实现原理说一下" class="headerlink" title="hash 路由和 history 路由实现原理说一下"></a><strong>hash 路由和 history 路由实现原理说一下</strong></h3><p>location.hash 的值实际就是 URL 中#后面的东西。</p><p>history 实际采用了 HTML5 中提供的 API 来实现，主要有 history.pushState()和 history.replaceState()。</p><p>面试官拿起旁边已经凉透的咖啡，喝了一口。</p><p>(我难道问不倒这小子了么)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;20 道常见的面试题&lt;/p&gt;
&lt;p&gt;摘自 boss 直聘&lt;code&gt;陈大鱼头&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;尽量减少 data 中的数据，data 中的数据都会增加 getter 和 setter，会收集对应的 watcher&lt;/p&gt;
&lt;/block</summary>
      
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="面试经验" scheme="https://anzhiy.cn/tags/%E9%9D%A2%E8%AF%95%E7%BB%8F%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>SASS学习</title>
    <link href="https://anzhiy.cn/posts/8b43.html"/>
    <id>https://anzhiy.cn/posts/8b43.html</id>
    <published>2021-06-08T09:13:37.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<h3 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h3><p>sass —-&gt; scss</p><p><code>sass</code>让人们受益的一个重要特性就是它为<code>css</code>引入了变量。你可以把反复使用的<code>css</code>属性值 定义成变量，然后通过变量名来引用它们，而无需重复书写这一属性值。或者，对于仅使用过一 次的属性值，你可以赋予其一个易懂的变量名，让人一眼就知道这个属性值的用途。</p><p><code>sass</code>使用<script type="math/tex">`符号来标识变量(老版本的`sass`使用`!`来标识变量。改成$是多半因为`!highlight-color`看起来太丑了。)，比如`$highlight-color`和`$sidebar-width`。为什么选择`</script> 符号呢？因为它好认、更具美感，且在CSS中并无他用，不会导致与现存或未来的<code>css</code>语法冲突。</p><div class="note info simple"><p>变量声明 </p></div><p><code>sass</code>变量的声明和<code>css</code>属性的声明很像：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$highlight-color: #F90;</span><br></pre></td></tr></table></figure><p>这意味着变量<code>$highlight-color</code>现在的值是<code>#F90</code>。任何可以用作<code>css</code>属性值的赋值都 可以用作<code>sass</code>的变量值，甚至是以空格分割的多个属性值，如<code>$basic-border: 1px solid black;</code>，或以逗号分割的多个属性值，如<code>$plain-font: &quot;Myriad Pro&quot;、Myriad、&quot;Helvetica Neue&quot;、Helvetica、&quot;Liberation Sans&quot;、Arial和sans-serif; sans-serif;</code>。这时变 量还没有生效，除非你引用这个变量——我们很快就会了解如何引用。</p><p>与<code>CSS</code>属性不同，变量可以在<code>css</code>规则块定义之外存在。当变量定义在<code>css</code>规则块内，那么该变量只能在此规则块内使用。如果它们出现在任何形式的<code>&#123;...&#125;</code>块中（如<code>@media</code>或者<code>@font-face</code>块），情况也是如此：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$nav-color: #F90;</span><br><span class="line">nav &#123;</span><br><span class="line">  $width: 100px;</span><br><span class="line">  width: $width;</span><br><span class="line">  color: $nav-color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//编译后</span><br><span class="line"></span><br><span class="line">nav &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  color: #F90;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这段代码中，<code>$nav-color</code>这个变量定义在了规则块外边，所以在这个样式表中都可以像 <code>nav</code>规则块那样引用它。<code>$width</code>这个变量定义在了<code>nav</code>的<code>&#123; &#125;</code>规则块内，所以它只能在<code>nav</code>规则块 内使用。这意味着是你可以在样式表的其他地方定义和使用<code>$width</code>变量，不会对这里造成影响。</p><p>只声明变量其实没啥用处，我们最终的目的还是使用它们。上例已介绍了如何使用 <code>$nav-color</code>和<code>$width</code>这两个变量，接下来我们将进一步探讨变量的使用方法。</p><div class="note info simple"><p>变量引用 </p></div><p>凡是<code>css</code>属性的标准值（比如说 1px 或者 bold）可存在的地方，变量就可以使用。<code>css</code>生成时，变量会被它们的值所替代。之后，如果你需要一个不同的值，只需要改变这个变量的值，则所有引用此变量的地方生成的值都会随之改变。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$highlight-<span class="attribute">color</span>: <span class="number">#f90</span>;</span><br><span class="line"><span class="selector-class">.selected</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid $highlight-color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//编译后</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.selected</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#f90</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看上边示例中的<code>$highlight-color</code>变量，它被直接赋值给<code>border</code>属性，当这段代码被编译输出<code>css</code>时，<code>$highlight-color</code>会被<code>#F90</code>这一颜色值所替代。产生的效果就是给<code>selected</code>这个类一条 1 像素宽、实心且颜色值为<code>#F90</code>的边框。</p><p>在声明变量时，变量值也可以引用其他变量。当你通过粒度区分，为不同的值取不同名字时，这相当有用。下例在独立的颜色值粒度上定义了一个变量，且在另一个更复杂的边框值粒度上也定义了一个变量：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$highlight-color: #F90;</span><br><span class="line">$highlight-border: 1px solid $highlight-color;</span><br><span class="line">.selected &#123;</span><br><span class="line">  border: $highlight-border;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//编译后</span><br><span class="line"></span><br><span class="line">.selected &#123;</span><br><span class="line">  border: 1px solid #F90;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里，<code>$highlight-border</code>变量的声明中使用了<code>$highlight-color</code>这个变量。产生的效 果就跟你直接为<code>border</code>属性设置了一个<code>1px</code> <code>$highlight-color solid</code>的值是一样的。 最后，我们来了解一下变量命名的实用技巧，以结束关于变量的介绍。</p><div class="note info simple"><p>变量名用中划线还是下划线分隔 </p></div><p><code>sass</code>的变量名可以与<code>css</code>中的属性名和选择器名称相同，包括中划线和下划线。这完全取决于个人的喜好，有些人喜欢使用中划线来分隔变量中的多个词（如<code>$highlight-color</code>），而有些人喜欢使用下划线（如<code>$highlight_color</code>）。使用中划线的方式更为普遍，这也是<code>compass</code>和本文都用的方式。</p><p>不过，<code>sass</code>并不想强迫任何人一定使用中划线或下划线，所以这两种用法相互兼容。用中划线声明的变量可以使用下划线的方式引用，反之亦然。这意味着即使<code>compass</code>选择用中划线的命名方式，这并不影响你在使用<code>compass</code>的样式中用下划线的命名方式进行引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$link-color: blue;</span><br><span class="line">a &#123;</span><br><span class="line">  color: $link_color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//编译后</span><br><span class="line"></span><br><span class="line">a &#123;</span><br><span class="line">  color: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上例中，<code>$link-color</code>和<code>$link_color</code>其实指向的是同一个变量。实际上，在<code>sass</code>的大多数地方，中划线命名的内容和下划线命名的内容是互通的，除了变量，也包括对混合器和 Sass 函数的命名。但是在<code>sass</code>中纯<code>css</code>部分不互通，比如类名、ID 或属性名。</p><p>尽管变量自身提供了很多有用的地方，但是<code>sass</code>基于变量提供的更为强大的工具才是我们关注的焦点。只有当变量与<code>sass</code>的其他特性一起使用时，才能发挥其全部的潜能。接下来，我们将探讨其中一个非常重要的特性，即规则嵌套。</p><h3 id="嵌套-CSS-规则"><a href="#嵌套-CSS-规则" class="headerlink" title="嵌套 CSS 规则"></a>嵌套 CSS 规则</h3><p><code>css</code>中重复写选择器是非常恼人的。如果要写一大串指向页面中同一块的样式时，往往需要 一遍又一遍地写同一个<code>ID</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#content</span> <span class="selector-tag">article</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content</span> <span class="selector-tag">article</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1.4em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content</span> <span class="selector-tag">aside</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>像这种情况，<code>sass</code>可以让你只写一遍，且使样式可读性更高。在 Sass 中，你可以像俄罗斯套娃那样在规则块中嵌套规则块。<code>sass</code>在输出<code>css</code>时会帮你把这些嵌套规则处理好，避免你的重复书写。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#content &#123;</span><br><span class="line">  article &#123;</span><br><span class="line">    h1 &#123; color: #333 &#125;</span><br><span class="line">    p &#123; margin-bottom: 1.4em &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  aside &#123; background-color: #EEE &#125;</span><br><span class="line">&#125;</span><br><span class="line"> /* 编译后 */</span><br><span class="line">#content article h1 &#123; color: #333 &#125;</span><br><span class="line">#content article p &#123; margin-bottom: 1.4em &#125;</span><br><span class="line">#content aside &#123; background-color: #EEE &#125;</span><br></pre></td></tr></table></figure><p>上边的例子，会在输出<code>css</code>时把它转换成跟你之前看到的一样的效果。这个过程中，<code>sass</code>用了两步，每一步都是像打开俄罗斯套娃那样把里边的嵌套规则块一个个打开。首先，把<code>#content</code>（父级）这个<code>id</code>放到<code>article</code>选择器（子级）和<code>aside</code>选择器（子级）的前边：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#content &#123;</span><br><span class="line">  article &#123;</span><br><span class="line">    h1 &#123; color: #333 &#125;</span><br><span class="line">    p &#123; margin-bottom: 1.4em &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  #content aside &#123; background-color: #EEE &#125;</span><br><span class="line">&#125;</span><br><span class="line"> /* 编译后 */</span><br><span class="line">#content article h1 &#123; color: #333 &#125;</span><br><span class="line">#content article p &#123; margin-bottom: 1.4em &#125;</span><br><span class="line">#content aside &#123; background-color: #EEE &#125;</span><br></pre></td></tr></table></figure><p>然后，<code>#content article</code>里边还有嵌套的规则，<code>sass</code>重复一遍上边的步骤，把新的选择器添加到内嵌的选择器前边。</p><p>一个给定的规则块，既可以像普通的 CSS 那样包含属性，又可以嵌套其他规则块。当你同时要为一个容器元素及其子元素编写特定样式时，这种能力就非常有用了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#content &#123;</span><br><span class="line">  background-color: #f5f5f5;</span><br><span class="line">  aside &#123; background-color: #eee &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>容器元素的样式规则会被单独抽离出来，而嵌套元素的样式规则会像容器元素没有包含任何属性时那样被抽离出来。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#content &#123; background-color: #f5f5f5 &#125;</span><br><span class="line">#content aside &#123; background-color: #eee &#125;</span><br></pre></td></tr></table></figure><p>大多数情况下这种简单的嵌套都没问题，但是有些场景下不行，比如你想要在嵌套的选择器 里边立刻应用一个类似于<code>：hover</code>的伪类。为了解决这种以及其他情况，<code>sass</code>提供了一个特殊结 构<code>&amp;</code>。</p><div class="note info simple"><p>父选择器的标识符&amp; </p></div><p>一般情况下，<code>sass</code>在解开一个嵌套规则时就会把父选择器（<code>#content</code>）通过一个空格连接到子选择器的前边（<code>article</code>和<code>aside</code>）形成（<code>#content article</code>和<code>#content aside</code>）。这种在 CSS 里边被称为后代选择器，因为它选择 ID 为<code>content</code>的元素内所有命中选择器<code>article</code>和<code>aside</code>的元素。但在有些情况下你却不会希望<code>sass</code>使用这种后代选择器的方式生成这种连接。</p><p>最常见的一种情况是当你为链接之类的元素写<code>：hover</code>这种伪类时，你并不希望以后代选择器的方式连接。比如说，下面这种情况<code>sass</code>就无法正常工作：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">article</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">  <span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这意味着<code>color: red</code>这条规则将会被应用到选择器<code>article a :hover</code>，<code>article</code>元素内链接的所有子元素在被<code>hover</code>时都会变成红色。这是不正确的！你想把这条规则应用到超链接自身，而后代选择器的方式无法帮你实现。</p><p>解决之道为使用一个特殊的<code>sass</code>选择器，即父选择器。在使用嵌套规则时，父选择器能对于嵌套规则如何解开提供更好的控制。它就是一个简单的<code>&amp;</code>符号，且可以放在任何一个选择器可出现的地方，比如<code>h1</code>放在哪，它就可以放在哪。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">article a &#123;</span><br><span class="line">  color: blue;</span><br><span class="line">  &amp;:hover &#123; color: red &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当包含父选择器标识符的嵌套规则被打开时，它不会像后代选择器那样进行拼接，而是<code>&amp;</code>被父选择器直接替换：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">article a &#123; color: blue &#125;</span><br><span class="line">article a:hover &#123; color: red &#125;</span><br></pre></td></tr></table></figure><p>在为父级选择器添加<code>：hover</code>等伪类时，这种方式非常有用。同时父选择器标识符还有另外一种用法，你可以在父选择器之前添加选择器。举例来说，当用户在使用 IE 浏览器时，你会通过<code>JavaScript</code>在``标签上添加一个 ie 的类名，为这种情况编写特殊的样式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#content aside &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  body.ie &amp; &#123; color: green &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*编译后*/</span><br><span class="line">#content aside &#123;color: red&#125;;</span><br><span class="line">body.ie #content aside &#123; color: green &#125;</span><br></pre></td></tr></table></figure><p><code>sass</code>在选择器嵌套上是非常智能的，即使是带有父选择器的情况。当<code>sass</code>遇到群组选择器（由多个逗号分隔开的选择器形成）也能完美地处理这种嵌套。</p><div class="note info simple"><p>群组选择器的嵌套 </p></div><p>在<code>CSS</code>里边，选择器<code>h1``h2</code>和<code>h3</code>会同时命中 h1 元素、h2 元素和 h3 元素。与此类似，<code>.button</code> <code>button</code>会命中 button 元素和类名为.button 的元素。这种选择器称为群组选择器。群组选择器 的规则会对命中群组中任何一个选择器的元素生效。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.button</span>,</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当看到上边这段代码时，你可能还没意识到会有重复性的工作。但会很快发现：如果你需要在一个特定的容器元素内对这样一个群组选择器进行修饰，情况就不同了。<code>css</code>的写法会让你在群组选择器中的每一个选择器前都重复一遍容器元素的选择器。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.8em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>非常幸运，<code>sass</code>的嵌套特性在这种场景下也非常有用。当<code>sass</code>解开一个群组选择器规则内嵌的规则时，它会把每一个内嵌选择器的规则都正确地解出来：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0.8em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先<code>sass</code>将<code>.container</code>和<code>h1``.container</code>和<code>h2``.container</code>和<code>h3</code>分别组合，然后将三 者重新组合成一个群组选择器，生成你前边看到的普通<code>css</code>样式。对于内嵌在群组选择器内的嵌 套规则，处理方式也一样：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span>,</span><br><span class="line"><span class="selector-tag">aside</span> &#123;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先<code>sass</code>将<code>nav</code>和<code>a``aside</code>和<code>a</code>分别组合，然后将二者重新组合成一个群组选择器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nav a, aside a &#123;color: blue&#125;</span><br></pre></td></tr></table></figure><p>处理这种群组选择器规则嵌套上的强大能力，正是<code>sass</code>在减少重复敲写方面的贡献之一。尤其在当嵌套级别达到两层甚至三层以上时，与普通的<code>css</code>编写方式相比，只写一遍群组选择器大大减少了工作量。</p><p>有利必有弊，你需要特别注意群组选择器的规则嵌套生成的<code>css</code>。虽然<code>sass</code>让你的样式表看上去很小，但实际生成的<code>css</code>却可能非常大，这会降低网站的速度。</p><p>关于选择器嵌套的最后一个方面，我们看看<code>sass</code>如何处理组合选择器，比如&gt;、+和~的使用。你将看到，这种场景下你甚至无需使用父选择器标识符。</p><div class="note info simple"><p>子组合选择器和同层组合选择器：&gt;、+ 和 ~ </p></div><p>上边这三个组合选择器必须和其他选择器配合使用，以指定浏览器仅选择某种特定上下文中的元素。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">article section &#123; margin: 5px &#125;</span><br><span class="line">article &gt; section &#123; border: 1px solid #ccc &#125;</span><br></pre></td></tr></table></figure><p>你可以用子组合选择器&gt;选择一个元素的直接子元素。上例中，第一个选择器会选择 article 下的所有命中 section 选择器的元素。第二个选择器只会选择 article 下紧跟着的子元素中命中 section 选择器的元素。</p><p>在下例中，你可以用同层相邻组合选择器<code>+</code>选择<code>header</code>元素后紧跟的<code>p</code>元素：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header + p &#123; font-size: 1.1em &#125;</span><br></pre></td></tr></table></figure><p>你也可以用同层全体组合选择器<code>~</code>，选择所有跟在<code>article</code>后的同层<code>article</code>元素，不管它们之间隔了多少其他元素：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">article ~ article &#123; border-top: 1px dashed #ccc &#125;</span><br></pre></td></tr></table></figure><p>这些组合选择器可以毫不费力地应用到<code>sass</code>的规则嵌套中。可以把它们放在外层选择器后边，或里层选择器前边：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">article &#123;</span><br><span class="line">  ~ article &#123; border-top: 1px dashed #ccc &#125;</span><br><span class="line">  &gt; section &#123; background: #eee &#125;</span><br><span class="line">  dl &gt; &#123;</span><br><span class="line">    dt &#123; color: #333 &#125;</span><br><span class="line">    dd &#123; color: #555 &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nav + &amp; &#123; margin-top: 0 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>sass</code>会如你所愿地将这些嵌套规则一一解开组合在一起：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">article ~ article &#123; border-top: 1px dashed #ccc &#125;</span><br><span class="line">article &gt; footer &#123; background: #eee &#125;</span><br><span class="line">article dl &gt; dt &#123; color: #333 &#125;</span><br><span class="line">article dl &gt; dd &#123; color: #555 &#125;</span><br><span class="line">nav + article &#123; margin-top: 0 &#125;</span><br></pre></td></tr></table></figure><p>在<code>sass</code>中，不仅仅<code>css</code>规则可以嵌套，对属性进行嵌套也可以减少很多重复性的工作。</p><div class="note info simple"><p>嵌套属性 </p></div><p>在<code>sass</code>中，除了 CSS 选择器，属性也可以进行嵌套。尽管编写属性涉及的重复不像编写选择器那么糟糕，但是要反复写<code>border-style``border-width``border-color</code>以及<code>border-*</code>等也是非常烦人的。在<code>sass</code>中，你只需敲写一遍<code>border</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">    style: solid;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>嵌套属性的规则是这样的：把属性名从中划线-的地方断开，在根属性后边添加一个冒号:，紧跟一个<code>&#123; &#125;</code>块，把子属性部分写在这个<code>&#123; &#125;</code>块中。就像<code>css</code>选择器嵌套一样，<code>sass</code>会把你的子属性一一解开，把根属性和子属性部分通过中划线-连接起来，最后生成的效果与你手动一遍遍写的<code>css</code>样式一样：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于属性的缩写形式，你甚至可以像下边这样来嵌套，指明例外规则：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nav &#123;</span><br><span class="line">  border: 1px solid #ccc &#123;</span><br><span class="line">  left: 0px;</span><br><span class="line">  right: 0px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这比下边这种同等样式的写法要好：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>属性和选择器嵌套是非常伟大的特性，因为它们不仅大大减少了你的编写量，而且通过视觉上的缩进使你编写的样式结构更加清晰，更易于阅读和开发。</p><p>即便如此，随着你的样式表变得越来越大，这种写法也很难保持结构清晰。有时，处理这种大量样式的唯一方法就是把它们分拆到多个文件中。<code>sass</code>通过对<code>css</code>原有<code>@import</code>规则的改进直接支持了这一特性。</p><h3 id="导入-SASS-文件"><a href="#导入-SASS-文件" class="headerlink" title="导入 SASS 文件"></a>导入 SASS 文件</h3><p><code>css</code>有一个特别不常用的特性，即<code>@import</code>规则，它允许在一个<code>css</code>文件中导入其他<code>css</code>文件。然而，后果是只有执行到<code>@import</code>时，浏览器才会去下载其他<code>css</code>文件，这导致页面加载起来特别慢。</p><p><code>sass</code>也有一个<code>@import</code>规则，但不同的是，<code>sass</code>的<code>@import</code>规则在生成<code>css</code>文件时就把相关文件导入进来。这意味着所有相关的样式被归纳到了同一个<code>css</code>文件中，而无需发起额外的下载请求。另外，所有在被导入文件中定义的变量和混合器（参见 2.5 节）均可在导入文件中使用。</p><p>使用<code>sass</code>的<code>@import</code>规则并不需要指明被导入文件的全名。你可以省略<code>.sass</code>或<code>.scss</code>文件后缀（见下图）。这样，在不修改样式表的前提下，你完全可以随意修改你或别人写的被导入的<code>sass</code>样式文件语法，在<code>sass</code>和<code>scss</code>语法之间随意切换。举例来说，<code>@import</code>“sidebar”;这条命令将把<code>sidebar.scss</code>文件中所有样式添加到当前样式表中。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/sass/p1.png" alt=""></p><p>本节将介绍如何使用<code>sass</code>的<code>@import</code>来处理多个<code>sass</code>文件。首先，我们将学习编写那些被导入的<code>sass</code>文件，因为在一个大型<code>sass</code>项目中，这样的文件是你最常编写的那一类。接着，了解集中导入<code>sass</code>文件的方法，使你的样式可重用性更高，包括声明可自定义的变量值，以及在某一个选择器范围内导入<code>sass</code>文件。最后，介绍如何在<code>sass</code>中使用<code>css</code>原生的<code>@import</code>命令。</p><p>通常，有些<code>sass</code>文件用于导入，你并不希望为每个这样的文件单独地生成一个<code>css</code>文件。对此，<code>sass</code>用一个特殊的约定来解决。</p><div class="note info simple"><p>使用 SASS 部分文件或局部文件 </p></div><p>当通过<code>@import</code>把<code>sass</code>样式分散到多个文件时，你通常只想生成少数几个<code>css</code>文件。那些专门为<code>@import</code>命令而编写的<code>sass</code>文件，并不需要生成对应的独立<code>css</code>文件，这样的<code>sass</code>文件称为局部文件。对此，<code>sass</code>有一个特殊的约定来命名这些文件。</p><p>此约定即，<code>sass</code>局部文件的文件名以下划线开头。这样，<code>sass</code>就不会在编译时单独编译这个文件输出<code>css</code>，而只把这个文件用作导入。当你<code>@import</code>一个局部文件时，还可以不写文件的全名，即省略文件名开头的下划线。举例来说，你想导入<code>themes/_night-sky.scss</code>这个局部文件里的变量，你只需在样式表中写<code>@import</code> <code>&quot;themes/night-sky&quot;;</code>。</p><p>局部文件可以被多个不同的文件引用。当一些样式需要在多个页面甚至多个项目中使用时，这非常有用。在这种情况下，有时需要在你的样式表中对导入的样式稍作修改，<code>sass</code>有一个功能刚好可以解决这个问题，即默认变量值。</p><div class="note info simple"><p>默认变量值 </p></div><p>一般情况下，你反复声明一个变量，只有最后一处声明有效且它会覆盖前边的值。举例说明：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$link-color: blue;</span><br><span class="line">$link-color: red;</span><br><span class="line">a &#123;</span><br><span class="line">color: $link-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上边的例子中，超链接的<code>color</code>会被设置为<code>red</code>。这可能并不是你想要的结果，假如你写了一个可被他人通过<code>@import</code>导入的<code>sass</code>库文件，你可能希望导入者可以定制修改<code>sass</code>库文件中的某些值。使用<code>sass</code>的<code>!default</code>标签可以实现这个目的。它很像<code>css</code>属性中<code>!important</code>标签的对立面，不同的是<code>!default</code>用于变量，含义是：如果这个变量被声明赋值了，那就用它声明的值，否则就用这个默认值。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$fancybox-width: 400px !default;</span><br><span class="line">.fancybox &#123;</span><br><span class="line">width: $fancybox-width;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上例中，如果用户在导入你的<code>sass</code>局部文件之前声明了一个<code>$fancybox-width</code>变量，那么你的局部文件中对<code>$fancybox-width</code>赋值<code>400px</code>的操作就无效。如果用户没有做这样的声明，则<code>$fancybox-width</code>将默认为<code>400px</code>。</p><p>接下来我们将学习嵌套导入，它允许只在某一个选择器的范围内导入<code>sass</code>局部文件。</p><div class="note info simple"><p>嵌套导入 </p></div><p>跟原生的<code>css</code>不同，<code>sass</code>允许<code>@import</code>命令写在<code>css</code>规则内。这种导入方式下，生成对应的<code>css</code>文件时，局部文件会被直接插入到<code>css</code>规则内导入它的地方。举例说明，有一个名为<code>_blue-theme.scss</code>的局部文件，内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aside &#123;</span><br><span class="line">  background: blue;</span><br><span class="line">  color: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后把它导入到一个 CSS 规则内，如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.blue-theme &#123;@import &quot;blue-theme&quot;&#125;</span><br><span class="line"></span><br><span class="line">//生成的结果跟你直接在.blue-theme选择器内写_blue-theme.scss文件的内容完全一样。</span><br><span class="line"></span><br><span class="line">.blue-theme &#123;</span><br><span class="line">  aside &#123;</span><br><span class="line">    background: blue;</span><br><span class="line">    color: #fff;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>被导入的局部文件中定义的所有变量和混合器，也会在这个规则范围内生效。这些变量和混合器不会全局有效，这样我们就可以通过嵌套导入只对站点中某一特定区域运用某种颜色主题或其他通过变量配置的样式。</p><p>有时，可用<code>css</code>原生的<code>@import</code>机制，在浏览器中下载必需的<code>css</code>文件。<code>sass</code>也提供了几种方法来达成这种需求。</p><div class="note info simple"><p>原生的 CSS 导入 </p></div><p>由于<code>sass</code>兼容原生的<code>css</code>，所以它也支持原生的<code>CSS@import</code>。尽管通常在<code>sass</code>中使用<code>@import</code>时，<code>sass</code>会尝试找到对应的<code>sass</code>文件并导入进来，但在下列三种情况下会生成原生的<code>CSS@import</code>，尽管这会造成浏览器解析<code>css</code>时的额外下载：</p><ul><li>被导入文件的名字以<code>.css</code>结尾；</li><li>被导入文件的名字是一个 URL 地址（比如<a href="http://www.sass.hk/css/css.css），由此可用谷歌字体API提供的相应服务；">http://www.sass.hk/css/css.css），由此可用谷歌字体API提供的相应服务；</a></li><li>被导入文件的名字是<code>CSS</code>的 url()值。</li></ul><p>这就是说，你不能用<code>sass</code>的<code>@import</code>直接导入一个原始的<code>css</code>文件，因为<code>sass</code>会认为你想用<code>css</code>原生的<code>@import</code>。但是，因为<code>sass</code>的语法完全兼容<code>css</code>，所以你可以把原始的<code>css</code>文件改名为<code>.scss</code>后缀，即可直接导入了。</p><p>文件导入是保证<code>sass</code>的代码可维护性和可读性的重要一环。次之但亦非常重要的就是注释了。注释可以帮助样式作者记录写<code>sass</code>的过程中的想法。在原生的<code>css</code>中，注释对于其他人是直接可见的，但<code>sass</code>提供了一种方式可在生成的<code>css</code>文件中按需抹掉相应的注释。</p><h3 id="静默注释"><a href="#静默注释" class="headerlink" title="静默注释"></a>静默注释</h3><p><code>css</code>中注释的作用包括帮助你组织样式、以后你看自己的代码时明白为什么这样写，以及简单的样式说明。但是，你并不希望每个浏览网站源码的人都能看到所有注释。</p><p><code>sass</code>另外提供了一种不同于<code>css</code>标准注释格式<code>/* ... */</code>的注释语法，即静默注释，其内容不会出现在生成的<code>css</code>文件中。静默注释的语法跟<code>JavaScript``Java</code>等类<code>C</code>的语言中单行注释的语法相同，它们以<code>//</code>开头，注释内容直到行末。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  color: #333; // 这种注释内容不会出现在生成的css文件中</span><br><span class="line">  padding: 0; /* 这种注释内容会出现在生成的css文件中 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实际上，<code>css</code>的标准注释格式<code>/* ... */</code>内的注释内容亦可在生成的<code>css</code>文件中抹去。当注释出现在原生<code>css</code>不允许的地方，如在<code>css</code>属性或选择器中，<code>sass</code>将不知如何将其生成到对应<code>css</code>文件中的相应位置，于是这些注释被抹掉。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  color /* 这块注释内容不会出现在生成的css中 */: #333;</span><br><span class="line">  padding: 1; /* 这块注释内容也不会出现在生成的css中 */ 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>你已经掌握了<code>sass</code>的静默注释，了解了保持<code>sass</code>条理性和可读性的最基本的三个方法：嵌套、导入和注释。现在，我们要进一步学习新特性，这样我们不但能保持条理性还能写出更好的样式。首先要介绍的内容是：使用混合器抽象你的相关样式。</p><h3 id="混合器"><a href="#混合器" class="headerlink" title="混合器"></a>混合器</h3><p>如果你的整个网站中有几处小小的样式类似（例如一致的颜色和字体），那么使用变量来统一处理这种情况是非常不错的选择。但是当你的样式变得越来越复杂，你需要大段大段的重用样式的代码，独立的变量就没办法应付这种情况了。你可以通过<code>sass</code>的混合器实现大段样式的重用。</p><p>混合器使用<code>@mixin</code>标识符定义。看上去很像其他的<code>CSS @</code>标识符，比如说<code>@media</code>或者<code>@font-face</code>。这个标识符给一大段样式赋予一个名字，这样你就可以轻易地通过引用这个名字重用这段样式。下边的这段<code>sass</code>代码，定义了一个非常简单的混合器，目的是添加跨浏览器的圆角边框。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@mixin rounded-corners &#123;</span><br><span class="line">  -moz-border-radius: 5px;</span><br><span class="line">  -webkit-border-radius: 5px;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就可以在你的样式表中通过<code>@include</code>来使用这个混合器，放在你希望的任何地方。<code>@include</code>调用会把混合器中的所有样式提取出来放在<code>@include</code>被调用的地方。如果像下边这样写：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">notice &#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">  border: 2px solid #00aa00;</span><br><span class="line">  @include rounded-corners;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//sass最终生成：</span><br><span class="line">.notice &#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">  border: 2px solid #00aa00;</span><br><span class="line">  -moz-border-radius: 5px;</span><br><span class="line">  -webkit-border-radius: 5px;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>.notice</code>中的属性<code>border-radius``-moz-border-radius</code>和<code>-webkit-border-radius</code>全部来自<code>rounded-corners</code>这个混合器。这一节将介绍使用混合器来避免重复。通过使用参数，你可以使用混合器把你样式中的通用样式抽离出来，然后轻松地在其他地方重用。实际上，混合器太好用了，一不小心你可能会过度使用。大量的重用可能会导致生成的样式表过大，导致加载缓慢。所以，首先我们将讨论混合器的使用场景，避免滥用。</p><div class="note info simple"><p>何时使用混合器 </p></div><p>利用混合器，可以很容易地在样式表的不同地方共享样式。如果你发现自己在不停地重复一段样式，那就应该把这段样式构造成优良的混合器，尤其是这段样式本身就是一个逻辑单元，比如说是一组放在一起有意义的属性。</p><p>判断一组属性是否应该组合成一个混合器，一条经验法则就是你能否为这个混合器想出一个好的名字。如果你能找到一个很好的短名字来描述这些属性修饰的样式，比如<code>rounded-corners``fancy-font</code>或者<code>no-bullets</code>，那么往往能够构造一个合适的混合器。如果你找不到，这时候构造一个混合器可能并不合适。</p><p>混合器在某些方面跟<code>css</code>类很像。都是让你给一大段样式命名，所以在选择使用哪个的时候可能会产生疑惑。最重要的区别就是类名是在<code>html</code>文件中应用的，而混合器是在样式表中应用的。这就意味着类名具有语义化含义，而不仅仅是一种展示性的描述：用来描述<code>html</code>元素的含义而不是<code>html</code>元素的外观。而另一方面，混合器是展示性的描述，用来描述一条<code>css</code>规则应用之后会产生怎样的效果。</p><p>在之前的例子中，<code>.notice</code>是一个有语义的类名。如果一个<code>html</code>元素有一个<code>notice</code>的类名，就表明了这个<code>html</code>元素的用途：向用户展示提醒信息。<code>rounded-corners</code>混合器是展示性的，它描述了包含它的<code>css</code>规则最终的视觉样式，尤其是边框角的视觉样式。混合器和类配合使用写出整洁的<code>html</code>和<code>css</code>，因为使用语义化的类名亦可以帮你避免重复使用混合器。为了保持你的<code>html</code>和<code>css</code>的易读性和可维护性，在写样式的过程中一定要铭记二者的区别。</p><p>有时候仅仅把属性放在混合器中还远远不够，可喜的是，<code>sass</code>同样允许你把<code>css</code>规则放在混合器中。</p><div class="note info simple"><p>混合器中的 CSS 规则 </p></div><p>混合器中不仅可以包含属性，也可以包含<code>css</code>规则，包含选择器和选择器中的属性，如下代码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@mixin no-bullets &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  li &#123;</span><br><span class="line">    list-style-image: none;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">    margin-left: 0px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当一个包含<code>css</code>规则的混合器通过<code>@include</code>包含在一个父规则中时，在混合器中的规则最终会生成父规则中的嵌套规则。举个例子，看看下边的<code>sass</code>代码，这个例子中使用了<code>no-bullets</code>这个混合器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ul.plain &#123;</span><br><span class="line">  color: #444;</span><br><span class="line">  @include no-bullets;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>sass</code>的<code>@include</code>指令会将引入混合器的那行代码替换成混合器里边的内容。最终，上边的例子如下代码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ul.plain &#123;</span><br><span class="line">  color: #444;</span><br><span class="line">  list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">ul.plain li &#123;</span><br><span class="line">  list-style-image: none;</span><br><span class="line">  list-style-type: none;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>混合器中的规则甚至可以使用<code>sass</code>的父选择器标识符<code>&amp;</code>。使用起来跟不用混合器时一样，<code>sass</code>解开嵌套规则时，用父规则中的选择器替代<code>&amp;</code>。</p><p>如果一个混合器只包含<code>css</code>规则，不包含属性，那么这个混合器就可以在文档的顶部调用，写在所有的<code>css</code>规则之外。如果你只是为自己写一些混合器，这并没有什么大的用途，但是当你使用一个类似于<code>Compass</code>的库时，你会发现，这是提供样式的好方法，原因在于你可以选择是否使用这些样式。</p><p>接下来你将学习如何通过给混合器传参数来让混合器变得更加灵活和可重用。</p><div class="note info simple"><p>给混合器传参 </p></div><p>混合器并不一定总得生成相同的样式。可以通过在<code>@include</code>混合器时给混合器传参，来定制混合器生成的精确样式。当<code>@include</code>混合器时，参数其实就是可以赋值给<code>css</code>属性值的变量。如果你写过<code>JavaScript</code>，这种方式跟<code>JavaScript</code>的<code>function</code>很像：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@mixin link-colors($normal, $hover, $visited) &#123;</span><br><span class="line">  color: $normal;</span><br><span class="line">  &amp;:hover &#123; color: $hover; &#125;</span><br><span class="line">  &amp;:visited &#123; color: $visited; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当混合器被<code>@include</code>时，你可以把它当作一个<code>css</code>函数来传参。如果你像下边这样写：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">  @include link-colors(blue, red, green);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//Sass最终生成的是：</span><br><span class="line"></span><br><span class="line">a &#123; color: blue; &#125;</span><br><span class="line">a:hover &#123; color: red; &#125;</span><br><span class="line">a:visited &#123; color: green; &#125;</span><br></pre></td></tr></table></figure><p>当你@include 混合器时，有时候可能会很难区分每个参数是什么意思，参数之间是一个什么样的顺序。为了解决这个问题，<code>sass</code>允许通过语法<code>$name: value</code>的形式指定每个参数的值。这种形式的传参，参数顺序就不必再在乎了，只需要保证没有漏掉参数即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">    @include link-colors(</span><br><span class="line">      $normal: blue,</span><br><span class="line">      $visited: green,</span><br><span class="line">      $hover: red</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>尽管给混合器加参数来实现定制很好，但是有时有些参数我们没有定制的需要，这时候也需要赋值一个变量就变成很痛苦的事情了。所以<code>sass</code>允许混合器声明时给参数赋默认值。</p><div class="note info simple"><p>默认参数值 </p></div><p>为了在<code>@include</code>混合器时不必传入所有的参数，我们可以给参数指定一个默认值。参数默认值使用<code>$name: default-value</code>的声明形式，默认值可以是任何有效的<code>css</code>属性值，甚至是其他参数的引用，如下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@mixin link-colors(</span><br><span class="line">    $normal,</span><br><span class="line">    $hover: $normal,</span><br><span class="line">    $visited: $normal</span><br><span class="line">  )</span><br><span class="line">&#123;</span><br><span class="line">  color: $normal;</span><br><span class="line">  &amp;:hover &#123; color: $hover; &#125;</span><br><span class="line">  &amp;:visited &#123; color: $visited; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果像下边这样调用：<code>@include link-colors(red)</code> <code>$hover</code>和<code>$visited</code>也会被自动赋值为<code>red</code>。</p><p>混合器只是<code>sass</code>样式重用特性中的一个。我们已经了解到混合器主要用于样式展示层的重用，如果你想重用语义化的类呢？这就涉及<code>sass</code>的另一个重要的重用特性：选择器继承。</p><h3 id="使用选择器继承来精简-CSS"><a href="#使用选择器继承来精简-CSS" class="headerlink" title="使用选择器继承来精简 CSS;"></a>使用选择器继承来精简 CSS;</h3><p>使用<code>sass</code>的时候，最后一个减少重复的主要特性就是选择器继承。基于<code>Nicole Sullivan</code>面向对象的<code>css</code>的理念，选择器继承是说一个选择器可以继承为另一个选择器定义的所有样式。这个通过<code>@extend</code>语法实现，如下代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//通过选择器继承继承样式</span><br><span class="line"><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.seriousError</span> &#123;</span><br><span class="line">  <span class="keyword">@extend</span> .error;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在上边的代码中，<code>.seriousError</code>将会继承样式表中任何位置处为<code>.error</code>定义的所有样式。以<code>class=&quot;seriousError&quot;</code> 修饰的<code>html</code>元素最终的展示效果就好像是<code>class=&quot;seriousError error&quot;</code>。相关元素不仅会拥有一个<code>3px</code>宽的边框，而且这个边框将变成红色的，这个元素同时还会有一个浅红色的背景，因为这些都是在<code>.error</code>里边定义的样式。</p><p><code>.seriousError</code>不仅会继承<code>.error</code>自身的所有样式，任何跟<code>.error</code>有关的组合选择器样式也会被<code>.seriousError</code>以组合选择器的形式继承，如下代码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//.seriousError从.error继承样式</span><br><span class="line">.error a&#123;  //应用到.seriousError a</span><br><span class="line">  color: red;</span><br><span class="line">  font-weight: 100;</span><br><span class="line">&#125;</span><br><span class="line">h1.error &#123; //应用到hl.seriousError</span><br><span class="line">  font-size: 1.2rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如上所示，在<code>class=&quot;seriousError&quot;</code>的<code>html</code>元素内的超链接也会变成红色和粗体。</p><p>本节将介绍与混合器相比，哪种情况下更适合用继承。接下来在探索继承的工作细节之前，我们先了解一下继承的高级用法。最后，我们将看看使用继承可能会有哪些坑，学习如何避免这些坑。</p><div class="note info simple"><p>何时使用继承 </p></div><p>上面介绍了<a href="https://www.sass.hk/guide/">混合器</a>主要用于展示性样式的重用，而类名用于语义化样式的重用。因为继承是基于类的（有时是基于其他类型的选择器），所以继承应该是建立在语义化的关系上。当一个元素拥有的类（比如说<code>.seriousError</code>）表明它属于另一个类（比如说<code>.error</code>），这时使用继承再合适不过了。</p><p>这有点抽象，所以我们从几个方面来阐释一下。想象一下你正在编写一个页面，给<code>html</code>元素添加类名，你发现你的某个类（比如说<code>.seriousError</code>）另一个类（比如说<code>.error</code>）的细化。你会怎么做？</p><ul><li>你可以为这两个类分别写相同的样式，但是如果有大量的重复怎么办？使用<code>sass</code>时，我们提倡的就是不要做重复的工作。</li><li>你可以使用一个选择器组（比如说<code>.error``.seriousError</code>）给这两个选择器写相同的样式。如果.error 的所有样式都在同一个地方，这种做法很好，但是如果是分散在样式表的不同地方呢？再这样做就困难多了。</li><li>你可以使用一个混合器为这两个类提供相同的样式，但当<code>.error</code>的样式修饰遍布样式表中各处时，这种做法面临着跟使用选择器组一样的问题。这两个类也不是恰好有相同的 样式。你应该更清晰地表达这种关系。</li><li>综上所述你应该使用<code>@extend</code>。让<code>.seriousError</code>从<code>.error</code>继承样式，使两者之间的关系非常清晰。更重要的是无论你在样式表的哪里使用<code>.error``.seriousError</code>都会继承其中的样式。</li></ul><p>现在你已经更好地掌握了何时使用继承，以及继承有哪些突出的优点，接下来我们看看一些高级用法。</p><div class="note info simple"><p>继承的高级用法 </p></div><p>任何<code>css</code>规则都可以继承其他规则，几乎任何<code>css</code>规则也都可以被继承。大多数情况你可能只想对类使用继承，但是有些场合你可能想做得更多。最常用的一种高级用法是继承一个<code>html</code>元素的样式。尽管默认的浏览器样式不会被继承，因为它们不属于样式表中的样式，但是你对<code>html</code>元素添加的所有样式都会被继承。</p><p>接下来的这段代码定义了一个名为<code>disabled</code>的类，样式修饰使它看上去像一个灰掉的超链接。通过继承 a 这一超链接元素来实现：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.disabled &#123;</span><br><span class="line">  color: gray;</span><br><span class="line">  @extend a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>假如一条样式规则继承了一个复杂的选择器，那么它只会继承这个复杂选择器命中的元素所应用的样式。举例来说， 如果<code>.seriousError``@extend``.important.error</code> ， 那么<code>.important.error</code> 和<code>h1.important.error</code> 的样式都会被<code>.seriousError</code>继承， 但是<code>.important</code>或者<code>.error下</code>的样式则不会被继承。这种情况下你很可能希望<code>.seriousError</code>能够分别继承<code>.important</code>或者<code>.error</code>下的样式。</p><p>如果一个选择器序列（<code>#main .seriousError</code>）<code>@extend</code>另一个选择器（<code>.error</code>），那么只有完全匹配<code>#main .seriousError</code>这个选择器的元素才会继承<code>.error</code>的样式，就像单个类 名继承那样。拥有<code>class=&quot;seriousError&quot;</code>的<code>#main</code>元素之外的元素不会受到影响。</p><p>像<code>#main .error</code>这种选择器序列是不能被继承的。这是因为从<code>#main .error</code>中继承的样式一般情况下会跟直接从<code>.error</code>中继承的样式基本一致，细微的区别往往使人迷惑。</p><p>现在你已经了解了通过继承能够做些什么事情，接下来我们将学习继承的工作细节，在生成对应<code>css</code>的时候，<code>sass</code>具体干了些什么事情。</p><div class="note info simple"><p>继承的工作细节 </p></div><p>跟变量和混合器不同，继承不是仅仅用<code>css</code>样式替换@extend 处的代码那么简单。为了不让你对生成的<code>css</code>感觉奇怪，对这背后的工作原理有一定了解是非常重要的。</p><p><code>@extend</code>背后最基本的想法是，如果<code>.seriousError @extend .error</code>， 那么样式表中的任何一处<code>.error</code>都用<code>.error``.seriousError</code>这一选择器组进行替换。这就意味着相关样式会如预期那样应用到<code>.error</code>和<code>.seriousError</code>。当<code>.error</code>出现在复杂的选择器中，比如说<code>h1.error``.error a</code>或者<code>#main .sidebar input.error[type=&quot;text&quot;]</code>，那情况就变得复杂多了，但是不用担心，<code>sass</code>已经为你考虑到了这些。</p><p>关于<code>@extend</code>有两个要点你应该知道。</p><ul><li>跟混合器相比，继承生成的<code>css</code>代码相对更少。因为继承仅仅是重复选择器，而不会重复属性，所以使用继承往往比混合器生成的<code>css</code>体积更小。如果你非常关心你站点的速度，请牢记这一点。</li><li>继承遵从<code>css</code>层叠的规则。当两个不同的<code>css</code>规则应用到同一个<code>html</code>元素上时，并且这两个不同的<code>css</code>规则对同一属性的修饰存在不同的值，<code>css</code>层叠规则会决定应用哪个样式。相当直观：通常权重更高的选择器胜出，如果权重相同，定义在后边的规则胜出。</li></ul><p>混合器本身不会引起<code>css</code>层叠的问题，因为混合器把样式直接放到了<code>css</code>规则中，而继承存在样式层叠的问题。被继承的样式会保持原有定义位置和选择器权重不变。通常来说这并不会引起什么问题，但是知道这点总没有坏处。</p><div class="note info simple"><p>使用继承的最佳实践 </p></div><p>通常使用继承会让你的<code>css</code>美观、整洁。因为继承只会在生成<code>css</code>时复制选择器，而不会复制大段的<code>css</code>属性。但是如果你不小心，可能会让生成的<code>css</code>中包含大量的选择器复制。</p><p>避免这种情况出现的最好方法就是不要在<code>css</code>规则中使用后代选择器（比如<code>.foo .bar</code>）去继承<code>css</code>规则。如果你这么做，同时被继承的<code>css</code>规则有通过后代选择器修饰的样式，生成<code>css</code>中的选择器的数量很快就会失控：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.foo .bar &#123; @extend .baz; &#125;</span><br><span class="line">.bip .baz &#123; a: b; &#125;</span><br></pre></td></tr></table></figure><p>在上边的例子中，<code>sass</code>必须保证应用到.baz 的样式同时也要应用到<code>.foo .bar</code>（位于 class=”foo”的元素内的 class=”bar”的元素）。例子中有一条应用到<code>.bip .baz</code>（位于 class=”bip”的元素内的 class=”baz”的元素）的<code>css</code>规则。当这条规则应用到<code>.foo .bar</code>时，可能存在三种情况，如下代码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 继承可能迅速变复杂 --&gt;</span><br><span class="line">&lt;!-- Case 1 --&gt;</span><br><span class="line">&lt;div class=&quot;foo&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;bip&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;bar&quot;&gt;...&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- Case 2 --&gt;</span><br><span class="line">&lt;div class=&quot;bip&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;foo&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;bar&quot;&gt;...&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- Case 3 --&gt;</span><br><span class="line">&lt;div class=&quot;foo bip&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;bar&quot;&gt;...&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>为了应付这些情况，<code>sass</code>必须生成三种选择器组合（仅仅是.bip .foo .bar 不能覆盖所有情况）。如果任何一条规则里边的后代选择器再长一点，<code>sass</code>需要考虑的情况就会更多。实际上<code>sass</code>并不总是会生成所有可能的选择器组合，即使是这样，选择器的个数依然可能会变得相当大，所以如果允许，尽可能避免这种用法。</p><p>值得一提的是，只要你想，你完全可以放心地继承有后代选择器修饰规则的选择器，不管后代选择器多长，但有一个前提就是，不要用后代选择器去继承。</p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>本文介绍了<code>sass</code>最基本部分,你可以轻松地使用<code>sass</code>编写清晰、无冗余、语义化的<code>css</code>。对于<code>sass</code>提供的工具你已经有了一个比较深入的了解，同时也掌握了何时使用这些工具的指导原则。</p><p>变量是<code>sass</code>提供的最基本的工具。通过变量可以让独立的<code>css</code>值变得可重用，无论是在一条单独的规则范围内还是在整个样式表中。变量、混合器的命名甚至<code>sass</code>的文件名，可以互换通用<code>_</code>和<code>-</code>。同样基础的是<code>sass</code>的嵌套机制。嵌套允许<code>css</code>规则内嵌套<code>css</code>规则，减少重复编写常用的选择器，同时让样式表的结构一眼望去更加清晰。<code>sass</code>同时提供了特殊的父选择器标识符<code>&amp;</code>，通过它可以构造出更高效的嵌套。</p><p>你也已经学到了<code>sass</code>的另一个重要特性，样式导入。通过样式导入可以把分散在多个<code>sass</code>文件中的内容合并生成到一个<code>css</code>文件，避免了项目中有大量的<code>css</code>文件通过原生的<code>css</code> <code>@import</code>带来的性能问题。通过嵌套导入和默认变量值，导入可以构建更强有力的、可定制的样式。混合器允许用户编写语义化样式的同时避免视觉层面上样式的重复。你不仅学到了如何使用混合器减少重复，同时学习到了如何使用混合器让你的<code>css</code>变得更加可维护和语义化。最后，我们学习了与混合器相辅相成的选择器继承。继承允许你声明类之间语义化的关系，通过这些关系可以保持你的<code>css</code>的整洁和可维护性。</p>]]></content>
    
    
    <summary type="html">sass, css, css3, scss学习</summary>
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="CSS" scheme="https://anzhiy.cn/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>Element</title>
    <link href="https://anzhiy.cn/posts/5471.html"/>
    <id>https://anzhiy.cn/posts/5471.html</id>
    <published>2021-05-22T15:55:12.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>官网: <a href="https://element.eleme.io/#/zh-CN">https://element.eleme.io/#/zh-CN</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip bell %&#125;官方定义&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>网站快速成型工具</code> 和 <code>桌面端组件库</code></p><p>element ui 就是基于 vue 的一个 ui 框架,该框架基于 vue 开发了很多相关组件,方便我们快速开发页面。</p></blockquote><h3 id="由来"><a href="#由来" class="headerlink" title="由来"></a>由来</h3><blockquote><p>饿了么前端团队 基于 vue 进行开发并且进行了开源 element ui 中提供全部都是封装好组件。</p></blockquote><hr><h3 id="安装-Element-UI"><a href="#安装-Element-UI" class="headerlink" title="安装 Element UI"></a>安装 Element UI</h3><details class="folding-tag" ><summary> vue 脚手架2.x创建项目 </summary>              <div class='content'>              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack <span class="title function_">element</span>(项目名)</span><br></pre></td></tr></table></figure><p>在 vue 脚手架 2 项目中安装 elementui</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.下载 elementui 的依赖</span></span><br><span class="line"></span><br><span class="line"><span class="code">    npm i element-ui -S</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.在入口文件 main.js 指定当前项目中使用 elementui</span></span><br><span class="line"></span><br><span class="line"><span class="code">    import ElementUI from &#x27;element-ui&#x27;;</span></span><br><span class="line"><span class="code">    import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">//在 vue 脚手架中使用 elementui(在入口文件 main.js 指定)</span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> vue 脚手架3.x创建项目 </summary>              <div class='content'>              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue vue create element-<span class="title function_">users</span>(项目名)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522145220.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522145858.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522150111.png" alt="image-20210522150110349"></p><p>router 我个人还是喜欢使用<code>history</code>模式，如果使用<code>hash</code>模式请在 router 那项<code>选择no</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522150237.png" alt=""></p><p>这样就算构建完成了，接下来我们安装 ElementUI</p><p>首先进入对应的目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd element-users(项目名)</span><br></pre></td></tr></table></figure><p>然后执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add element</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522150858.png" alt="image-20210522150857104"></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522151406.png" alt="image-20210522151405586"></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522151609.png" alt="image-20210522151607592"></p><p>虽然报了一大堆错误，查了下好像是 node 版本什么的，还有说淘宝镜像的问题（可我根本没用。。），还有什么 npm 缓存啊什么的，稀奇古怪的，反正能用就行 QWQ</p><p>我们来看看 package.json</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522151814.png" alt="image-20210522151812605"></p><p>证明是没有问题的</p><p>然后我们安装一下依赖，执行以下命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>安装完以后我们直接启动，执行以下命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522152130.png" alt=""></p><p>然后我们在 App.vue 中添加以下代码，测试一下 ElementUi</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">el-button</span>&gt;</span></span>我是按钮<span class="language-xml"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522152616.png" alt=""></p><p>此时按钮正常显示，说明引入成功</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522152639.png" alt=""></p><p>关于默认颜色是这种绿色可以在 element-variables.scss 文件中修改</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522152809.png" alt="image-20210522152807142"></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522152824.png" alt="image-20210522152823439"></p><p>改成 <code>#409eff</code> 就和官网一致了</p>              </div>            </details><h3 id="按钮组件-示例"><a href="#按钮组件-示例" class="headerlink" title="按钮组件(示例)"></a>按钮组件(示例)</h3><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522150220.png" alt="image-20210522150219315"></p><ol><li><p>默认样式按钮</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">  &lt;el-button&gt;默认按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;el-button type=&quot;primary&quot;&gt;主要按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;el-button type=&quot;success&quot;&gt;成功按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;el-button type=&quot;info&quot;&gt;信息按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;el-button type=&quot;warning&quot;&gt;警告按钮&lt;/el-button&gt;</span><br><span class="line">  &lt;el-button type=&quot;danger&quot;&gt;危险按钮&lt;/el-button&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure></li><li><p>简洁按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span>&gt;</span>朴素按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">plain</span>&gt;</span>主要按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">plain</span>&gt;</span>成功按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">plain</span>&gt;</span>信息按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">plain</span>&gt;</span>警告按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">plain</span>&gt;</span>危险按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>圆角按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">round</span>&gt;</span>圆角按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">round</span>&gt;</span>主要按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">round</span>&gt;</span>成功按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">round</span>&gt;</span>信息按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">round</span>&gt;</span>警告按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">round</span>&gt;</span>危险按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>图标按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-search&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-edit&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-check&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-message&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-star-off&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> <span class="attr">circle</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>按钮组件的详细使用</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">总结:日后使用 element ui 的相关组件时需要注意的是 所有组件都是 el-组件名称开头</span><br></pre></td></tr></table></figure></li><li><p>创建按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span>&gt;</span>默认按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>按钮属性使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> 属性名=<span class="string">&quot;属性值&quot;</span>&gt;</span>默认按钮<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;success&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">size</span>=<span class="string">&quot;medium&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">plain</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">round</span></span></span><br><span class="line"><span class="tag">  <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">  <span class="attr">icon</span>=<span class="string">&quot;el-icon-loading&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>总结:在elementui中所有组件的属性全部写在组件标签上</code></p></li><li><p>按钮组使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-back&quot;</span>&gt;</span>上一页<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-right&quot;</span>&gt;</span>下一页<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button-group</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p><code>注意:</code></p><ul><li>在 element ui 中所有组件都是 <code>el-组件名称</code> 方式进行命名</li><li>在 element ui 中组件的属性使用<code>都是直接将属性名=属性值方式写在对应的组件标签上</code></li></ul><hr><h3 id="Link-文字链接组件"><a href="#Link-文字链接组件" class="headerlink" title="Link 文字链接组件"></a>Link 文字链接组件</h3><ol><li><p>文字链接组件的创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-link</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>文字链接组件的属性的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">disabled</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-platform-eleme&quot;</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-link</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>默认链接<span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Layout-栅格-布局组件的使用"><a href="#Layout-栅格-布局组件的使用" class="headerlink" title="Layout (栅格)布局组件的使用"></a>Layout (栅格)布局组件的使用</h3><p><code>通过基础的 24 分栏，迅速简便地创建布局</code></p><p><code>在element ui中布局组件将页面划分为多个行row,每行最多分为24栏(列)</code></p><ol><li><p>使用 Layout 组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">&lt;el-col :span=&quot;8&quot;&gt;占用8份&lt;/el-col&gt;</span><br><span class="line">  &lt;el-col :span=&quot;8&quot;&gt;占用8份&lt;/el-col&gt;</span><br><span class="line">  &lt;el-col :span=&quot;8&quot;&gt;占用8份&lt;/el-col&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure><p><code>注意:</code></p><ul><li>在一个布局组件中 是由 <code>row</code> 和 <code>col</code> 组合而成</li><li>在使用时要区分 <code>row属性</code> 和 <code>col属性</code></li></ul></li><li><p>属性的使用</p><blockquote><p>行属性使用</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;50&quot;</span> <span class="attr">tag</span>=<span class="string">&quot;span&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px red solid;&quot;</span>&gt;</span>占用4份<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;8&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px red solid;&quot;</span>&gt;</span>占用8份<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px red solid;&quot;</span>&gt;</span>占用3份<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;9&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px red solid;&quot;</span>&gt;</span>占用9份<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>列属性的使用</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;12&quot;</span> <span class="attr">:offset</span>=<span class="string">&quot;9&quot;</span> <span class="attr">:psuh</span>=<span class="string">&quot;3&quot;</span> <span class="attr">xs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px blue solid;&quot;</span>&gt;</span>我是占用12分<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px blue solid;&quot;</span>&gt;</span>我是占用6分<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Container-布局容器组件"><a href="#Container-布局容器组件" class="headerlink" title="Container 布局容器组件"></a>Container 布局容器组件</h3><div class="note default simple"><p>创建布局容器 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-container</span>&gt;</span><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>容器中包含的子元素 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">  ：顶栏容器。</span><br><span class="line">  <span class="tag">&lt;<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    ：侧边栏容器。</span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">      ：主要区域容器。</span><br><span class="line">      <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span>：底栏容器。<span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>容器的嵌套使用 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--创建容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--header--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--容器嵌套使用--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--aside--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-aside</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是菜单<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--main--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是中心内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是页脚<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>水平容器 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-container</span> <span class="attr">direction</span>=<span class="string">&quot;horizontal&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--header--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--aside--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-aside</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是菜单<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--main--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是中心内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是页脚<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>注意:当子元素中没有有 el-header 或 el-footer 时容器排列为水平</code></p><div class="note default simple"><p>垂直容器 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-container</span> <span class="attr">direction</span>=<span class="string">&quot;vertical&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--header--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--aside--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-aside</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是菜单<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--main--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是中心内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--footer--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是页脚<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Form-相关组件"><a href="#Form-相关组件" class="headerlink" title="Form 相关组件"></a>Form 相关组件</h3><div class="note default simple"><p>Radio 单选按钮 </p></div><ol><li><p>创建 Radio 按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--组件创建--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Radio&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">label</span>: <span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>注意:在使用radio单选按钮是至少加入v-model和label两个属性</code></p></li><li><p>Radio 按钮属性的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">disabled</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">border</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">border</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> <span class="attr">border</span> <span class="attr">size</span>=<span class="string">&quot;medium&quot;</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>总结:属性使用还是直接卸载对应的组件标签上以 属性名=属性值 方式使用</code></p></li><li><p>Radio 事件的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aa&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">label</span>=<span class="string">&quot;男&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;label&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aa&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">border</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">label</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Radio&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">label</span>: <span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aa</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义的事件处理函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">label</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p><code>总结:</code></p><ul><li>事件的使用也是和属性使用是一致都是直接写在对应的组件标签上</li><li>事件在使用时必须使用 Vue 中绑定时间方式进行使用如 \@事件名=事件处理函数(绑在在 vue 组件中对应函数)</li></ul><div class="note default simple"><p>radio 按钮组 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-radio-group</span> <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">:label</span>=<span class="string">&quot;3&quot;</span>&gt;</span>备选项3<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">:label</span>=<span class="string">&quot;6&quot;</span>&gt;</span>备选项6<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">:label</span>=<span class="string">&quot;9&quot;</span>&gt;</span>备选项9<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-radio-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Radio&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">radio</span>: <span class="number">6</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>checkbox 组件 </p></div><ol><li><p>创建 checkbox 组件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span>&gt;</span>天津<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>属性使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> <span class="attr">disabled</span> <span class="attr">true-label</span>=<span class="string">&quot;北京&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">checked</span> <span class="attr">border</span> <span class="attr">true-label</span>=<span class="string">&quot;上海&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> <span class="attr">true-label</span>=<span class="string">&quot;天津&quot;</span>&gt;</span>天津<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>事件使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> @<span class="attr">change</span>=<span class="string">&quot;aa&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> <span class="attr">true-label</span>=<span class="string">&quot;上海&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aa&quot;</span> <span class="attr">true-label</span>=<span class="string">&quot;天津&quot;</span>&gt;</span>天津<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Checkbox&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">checked</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aa</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">checked</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><div class="note default simple"><p>复选框组的使用 </p></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-checkbox-group</span> @<span class="attr">change</span>=<span class="string">&quot;bb&quot;</span> <span class="attr">:min</span>=<span class="string">&quot;1&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkList&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;复选框 A&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;复选框 B&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;复选框 C&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;禁用&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;选中且禁用&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Checkbox&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">checked</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">checkList</span>: [],</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aa</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">checked</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">bb</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">checkList</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>Input 输入框组件 </p></div><p>创建 Input 组件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Input&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>常用属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">disabled</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;price&quot;</span> <span class="attr">:maxlength</span>=<span class="string">&quot;10&quot;</span> <span class="attr">show-word-limit</span> <span class="attr">:minlength</span>=<span class="string">&quot;5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prefix-icon</span>=<span class="string">&quot;el-icon-user-solid&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">suffix-icon</span>=<span class="string">&quot;el-icon-star-off&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">show-password</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;password&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Input&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">restaurants</span>: [],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">state1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">state2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">price</span>: <span class="number">0.0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>事件使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">blur</span>=<span class="string">&quot;aaa&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">focus</span>=<span class="string">&quot;bbb&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">clear</span>=<span class="string">&quot;clears&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">input</span>=<span class="string">&quot;ccc&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Input&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">restaurants</span>: [],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">state1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">state2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">price</span>: <span class="number">0.0</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aaa</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;失去焦点&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">bbb</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取焦点&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">ccc</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;改变:&#x27;</span> + value)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">clears</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;清除&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>方法的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>方法的使用<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;inputs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;focusInputs&quot;</span>&gt;</span>focus方法<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;blurInputs&quot;</span>&gt;</span>blur方法<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Input&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//调用focus方法</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">focusInputs</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">inputs</span>.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//调用失去焦点方法</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">blurInputs</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">inputs</span>.<span class="title function_">blur</span>()</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p><code>总结</code></p><ul><li>在使用组件的方法时需要在对应的组件中加入 <code>ref=&quot;组件别名&quot;</code></li><li>在调用方法时直接使用 <code>this.$refs.组件别名.方法名()</code></li></ul><blockquote><p><code>注意:在elementui中所有组件 都存在 属性 事件 和方法</code></p><p><code>属性:</code>直接写在对应的组件标签上 使用方式:<code>属性名=属性值</code>方式</p><p><code>事件</code>: 直接使用 vue 绑定事件方式写在对应的组件标签上 使用方式:<code>@事件名=vue中事件处理函数</code></p><p><code>方法</code>: 1.在对应组件标签上使用<code>ref=组件别名</code> 2.<code>通过使用this.$refs.组件别名.方法名()</code>进行调用</p></blockquote><div class="note default simple"><p>Select 选择器组件的使用 </p></div><ol><li><p>组件创建</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.数据写死在页面上</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityName&quot;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-option</span> <span class="attr">value</span>=<span class="string">&quot;北京&quot;</span>&gt;</span></span>北京<span class="language-xml"><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-option</span> <span class="attr">value</span>=<span class="string">&quot;天津&quot;</span>&gt;</span></span>天津<span class="language-xml"><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span></span><br><span class="line"><span class="code">注意:1.要求下拉列表中必须存在option的value属性值 2.要求select中必须使用v-model进行数据绑定</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.如何动态获取数据</span></span><br><span class="line"></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">el-select</span>&gt;</span></span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;option in options&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;option.name&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;option.id&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;option.id&quot;</span>&gt;</span></span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="code">      export default &#123;</span></span><br><span class="line"><span class="code">          name: &quot;Select&quot;,</span></span><br><span class="line"><span class="code">          data()&#123;</span></span><br><span class="line"><span class="code">              return&#123;</span></span><br><span class="line"><span class="code">                  options:[</span></span><br><span class="line"><span class="code">                      &#123;id:&#x27;1&#x27;,name:&quot;研发部&quot;&#125;,</span></span><br><span class="line"><span class="code">                      &#123;id:&#x27;2&#x27;,name:&quot;小卖部&quot;&#125;,</span></span><br><span class="line"><span class="code">                      &#123;id:&#x27;3&#x27;,name:&quot;小米部&quot;&#125;,</span></span><br><span class="line"><span class="code">                  ]</span></span><br><span class="line"><span class="code">              &#125;</span></span><br><span class="line"><span class="code">          &#125;,</span></span><br><span class="line"><span class="code">      &#125;</span></span><br><span class="line"><span class="code">  &lt;/script&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.获取下拉列表选中数据</span></span><br><span class="line"></span><br><span class="line"> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityId&quot;</span> <span class="attr">multiple</span> <span class="attr">clearable</span>&gt;</span></span></span></span></span><br><span class="line"><span class="code">        &lt;el-option v-for=&quot;option in options&quot; :label=&quot;option.name&quot; :value=&quot;option.id&quot; :key=&quot;option.id&quot;&gt;&lt;/el-option&gt;</span></span><br><span class="line"><span class="code">&lt;/el-select&gt;</span></span><br><span class="line"><span class="code">&lt;script&gt;</span></span><br><span class="line"><span class="code">    export default &#123;</span></span><br><span class="line"><span class="code">        name: &quot;Select&quot;,</span></span><br><span class="line"><span class="code">        data()&#123;</span></span><br><span class="line"><span class="code">            return&#123;</span></span><br><span class="line"><span class="code">                options:[</span></span><br><span class="line"><span class="code">                    &#123;id:&#x27;1&#x27;,name:&quot;研发部&quot;&#125;,</span></span><br><span class="line"><span class="code">                    &#123;id:&#x27;2&#x27;,name:&quot;小卖部&quot;&#125;,</span></span><br><span class="line"><span class="code">                    &#123;id:&#x27;3&#x27;,name:&quot;小米部&quot;&#125;,</span></span><br><span class="line"><span class="code">                ],</span></span><br><span class="line"><span class="code">                cityId:&#x27;&#x27;</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">        &#125;,</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>属性使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityId&quot;</span> <span class="attr">multiple</span> <span class="attr">clearable</span>&gt;</span>......<span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>事件的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;cityId&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aaa&quot;</span> <span class="attr">multiple</span> <span class="attr">clearable</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-option</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">&quot;option in options&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:label</span>=<span class="string">&quot;option.name&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:value</span>=<span class="string">&quot;option.id&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">&quot;option.id&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Select&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">options</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;研发部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;小卖部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="string">&#x27;3&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;小米部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">cityId</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">cityName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aaa</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>方法的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.给组件通过ref起别名并绑定到vue实例中</span><br><span class="line"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">ref</span>=<span class="string">&quot;selects&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;cityId&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aaa&quot;</span> <span class="attr">multiple</span> <span class="attr">clearable</span>&gt;</span>....<span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">2.调用方法 this.$refs.selects.focus();//方法调用</span><br></pre></td></tr></table></figure></li></ol><div class="note default simple"><p>Switch 开关组件 </p></div><p>Switch 组件的创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Switchs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">value</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>属性使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-switch</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">active-text</span>=<span class="string">&quot;打开&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">active-color</span>=<span class="string">&quot;#13ce66&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">inactive-color</span>=<span class="string">&quot;#ff4949&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:active-</span></span></span><br><span class="line"><span class="tag">  <span class="attr">value</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:inactive-value</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">inactive-text</span>=<span class="string">&quot;关闭&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:width</span>=<span class="string">&quot;200&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>事件使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Switchs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">value</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aaa</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>方法使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-switch</span></span></span><br><span class="line"><span class="tag">  <span class="attr">ref</span>=<span class="string">&quot;sw&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">change</span>=<span class="string">&quot;aaa&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">active-text</span>=<span class="string">&quot;打开&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">active-color</span>=<span class="string">&quot;#13ce66&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">inactive-color</span>=<span class="string">&quot;#ff4949&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:active-value</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:inactive-value</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">inactive-text</span>=<span class="string">&quot;关闭&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:width</span>=<span class="string">&quot;200&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;bbb&quot;</span>&gt;</span>调用方法<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Switchs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">value</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aaa</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">bbb</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>()</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sw</span>.<span class="title function_">focus</span>() <span class="comment">//方法调用</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><div class="note default simple"><p>DatePicker 组件 </p></div><p>创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;createDate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>属性的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-date-picker</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;createDate&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:editable</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:clearable</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">placeholder</span>=<span class="string">&quot;请输入创建时间&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;daterange&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">start-placeholder</span>=<span class="string">&quot;生产时间&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">end-placeholder</span>=<span class="string">&quot;过期时间&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">format</span>=<span class="string">&quot;yyyy/MM/dd&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Picker Options 和 Shortcuts 使用</p><ul><li><strong>Shortcuts:</strong> 用来增加日期组件的快捷面板</li><li><strong>Picker Options:</strong> 用来对日期控件做自定义配置</li></ul></li><li><p>Shortcuts 使用</p></li><li><p>```html<br>&lt;/el-date-picker&gt;<br><h1>日期配置</h1><br>&lt;el-date-picker</p><pre><code>            v-model=&quot;createDate&quot;            type=&quot;date&quot;            placeholder=&quot;请输入时间&quot;            :picker-options=&quot;pickerOptions&quot;            &gt;</code></pre><p>&lt;/el-date-picker&gt;<br><script></p><pre><code>export default &#123;    name: &quot;DatePrickers&quot;,    data()&#123;        return&#123;            createDate:&quot;&quot;,            pickerOptions: &#123;                disabledDate(time) &#123;                    return time.getTime() &gt; Date.now();                &#125;,                shortcuts: [&#123;  //定义的shortucts                    text: &#39;今天&#39;,                    onClick(picker) &#123;                        picker.$emit(&#39;pick&#39;, new Date());                    &#125;                &#125;, &#123;                    text: &#39;昨天&#39;,                    onClick(picker) &#123;                        const date = new Date();                        date.setTime(date.getTime() - 3600 * 1000 * 24);                        picker.$emit(&#39;pick&#39;, date);                    &#125;                &#125;, &#123;                    text: &#39;一周前&#39;,                    onClick(picker) &#123;                        const date = new Date();                        date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);                        picker.$emit(&#39;pick&#39;, date);                    &#125;                &#125;]            &#125;,        &#125;    &#125;&#125;</code></pre><p>&lt;/script&gt;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">5. Picker Options</span><br><span class="line"></span><br><span class="line">   ```html</span><br><span class="line">   &lt;el-date-picker</span><br><span class="line">     v-model=&quot;createDate&quot;</span><br><span class="line">     type=&quot;date&quot;</span><br><span class="line">     placeholder=&quot;请输入时间&quot;</span><br><span class="line">     :picker-options=&quot;pickerOptions&quot;</span><br><span class="line">   &gt;&lt;/el-date-picker&gt;</span><br><span class="line"></span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     export default &#123;</span><br><span class="line">       name: &#x27;DatePrickers&#x27;,</span><br><span class="line">       data() &#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           createDate: &#x27;&#x27;,</span><br><span class="line">           pickerOptions: &#123;</span><br><span class="line">             disabledDate(time) &#123;</span><br><span class="line">               //用来对日期进行的控制</span><br><span class="line">               return time.getTime() &lt; Date.now()</span><br><span class="line">             &#125;,</span><br><span class="line">           &#125;,</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>事件使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">.....</span> <span class="attr">:picker-options</span>=<span class="string">&quot;pickerOptions&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;DatePrickers&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">createDate</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">aaa</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//发生change事件的函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><div class="note default simple"><p>Upload 组件 </p></div><p>组件创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">action</span>=<span class="string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span> <span class="attr">:file-list</span>=<span class="string">&quot;fileList&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>点击上传<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;tip&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-upload__tip&quot;</span>&gt;</span>只能上传jpg/png文件，且不超过500kb<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>注意:在使用upload组件时必须设置action属性 action属性为必要参数不能省略</code></p><p>属性和事件的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:limit</span>=<span class="string">&quot;3&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:on-exceed</span>=<span class="string">&quot;exceed&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:multiple</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:before-remove</span>=<span class="string">&quot;beforeRemove&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:on-remove</span>=<span class="string">&quot;remove&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:on-preview</span>=<span class="string">&quot;show&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:drag</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">accept</span>=<span class="string">&quot;.txt,.png&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:show-file-list</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">&quot;aaa&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:data</span>=<span class="string">&quot;info&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">action</span>=<span class="string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:file-list</span>=<span class="string">&quot;fileList&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-upload&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;el-upload__text&quot;</span>&gt;</span></span><br><span class="line">    将文件拖到此处，或</span><br><span class="line">    <span class="tag">&lt;<span class="name">em</span>&gt;</span>点击上传<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;el-upload__tip&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;tip&quot;</span>&gt;</span>只能上传jpg/png文件，且不超过500kb<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Uploads&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fileList</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;food.jpeg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">url</span>: <span class="string">&#x27;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;food2.jpeg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">url</span>: <span class="string">&#x27;https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">info</span>: &#123; <span class="attr">id</span>: <span class="string">&#x27;21&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">show</span>(<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(file)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">remove</span>(<span class="params">file, fileList</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(file)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(fileList)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//alert(fileList.length)</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">beforeRemove</span>(<span class="params">file, fileList</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (fileList.<span class="property">length</span> &lt; <span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">alert</span>(<span class="string">&#x27;上传文件不能少于3个&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">exceed</span>(<span class="params">file, fileList</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;文件超出上传的个数限制&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>注意:在使用 upload 组件时没有 event 事件,所有事件都是属性事件</strong></li></ul><p>方法的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">ref</span>=<span class="string">&quot;uploads&quot;</span> <span class="attr">....</span>&gt;</span>........<span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"></span><br><span class="line">方法调用: this.$refs.uploads.clearFiles(); this.$refs.uploads.abort(); this.$refs.uploads.submit();</span><br></pre></td></tr></table></figure><hr><div class="note default simple"><p>Form 组件 </p></div><p>组件的创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;活动名称&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  ......</span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>立即创建<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Form&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">form</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">region</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">delivery</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">type</span>: [],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">resource</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">desc</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">onSubmit</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;submit!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>内联表单</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:inline</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formInline&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo-form-inline&quot;</span>&gt;</span>.......<span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>通过设置 inline=true方式将表单作为内联表单处理</code></p><h3 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h3><ul><li><strong>使用说明:</strong></li></ul><blockquote><p>Form 组件提供了表单验证的功能，只需要通过 <code>rules</code> 属性传入约定的验证规则，并将 Form-Item 的 <code>prop</code> 属性设置为需校验的字段名即可。校验规则参见 <a href="https://github.com/yiminghe/async-validator">async-validator</a></p></blockquote><p>失去焦点自动验证</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;活动名称&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  ....</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Form&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">form</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">region</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">delivery</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">type</span>: [],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">resource</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">desc</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">rules</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入活动名称&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">5</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 3 到 5 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">onSubmit</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;submit!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>表单提交调用表单组件的验证方法验证</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">....</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;活动名称&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit(&#x27;form&#x27;)&quot;</span>&gt;</span>立即创建<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">... methods: &#123; onSubmit(formName) &#123; this.$refs[formName].validate((valid) =&gt; &#123; if (valid) &#123;</span><br><span class="line">alert(&#x27;submit!&#x27;); //发送异步请求 到 springboot项目 &#125; else &#123; console.log(&#x27;error submit!!&#x27;); return</span><br><span class="line">false; &#125; &#125;); &#125; &#125;</span><br></pre></td></tr></table></figure><p>自定义表单的验证规则</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;ruleForm&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;ruleForm&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;手机号&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;phone&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;ruleForm.phone&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submitForm(&#x27;ruleForm&#x27;)&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;resetForm(&#x27;ruleForm&#x27;)&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Form&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> <span class="title function_">validatePhone</span> = (<span class="params">rule, value, callback</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义自定义的验证规则</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(rule)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(callback)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!value) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;手机号不能为空!&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (!<span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>.<span class="title function_">test</span>(value)) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;手机号码不正确!!&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">form</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">region</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">date2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">delivery</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">type</span>: [],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">resource</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">desc</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">rules</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//验证规则</span></span></span><br><span class="line"><span class="language-javascript">          <span class="attr">name</span>: [</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//使用默认规则</span></span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入活动名称&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">5</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 3 到 5 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">phone</span>: [</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//使用自定义规则</span></span></span><br><span class="line"><span class="language-javascript">            &#123; <span class="attr">validator</span>: validatePhone, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">ruleForm</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">phone</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="消息提示"><a href="#消息提示" class="headerlink" title="消息提示"></a>消息提示</h3><p>创建警告提示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-alert</span> <span class="attr">title</span>=<span class="string">&quot;成功信息提示&quot;</span> <span class="attr">:closable</span>=<span class="string">&quot;false&quot;</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>&gt;</span>我是辅助信息<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-alert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-alert</span> <span class="attr">title</span>=<span class="string">&quot;成功信息提示&quot;</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-alert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-alert</span> <span class="attr">title</span>=<span class="string">&quot;成功信息提示&quot;</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-alert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-alert</span> <span class="attr">title</span>=<span class="string">&quot;成功信息提示&quot;</span> <span class="attr">type</span>=<span class="string">&quot;error&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-alert</span>&gt;</span></span><br></pre></td></tr></table></figure><p>属性的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-alert</span></span></span><br><span class="line"><span class="tag">  <span class="attr">title</span>=<span class="string">&quot;成功信息提示&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">effect</span>=<span class="string">&quot;dark&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:show-icon</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">center</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:closable</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;success&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>&gt;</span>我是辅助信息<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-alert</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Message-消息提示"><a href="#Message-消息提示" class="headerlink" title="Message 消息提示"></a>Message 消息提示</h3><p>创建组件</p><ul><li><strong>注意:这个组件的创建无须在页面中书写任何标签,他是一个 js 插件,在需要展示消息提示的位置直接调用提供的 js 插件方法即可</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span>创建最简单的消息</span><br><span class="line"><span class="variable language_">this</span>.$message(<span class="string">&#x27;这是一个消息提示!!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"># <span class="number">2.</span>自定义消息内容</span><br><span class="line"><span class="variable language_">this</span>.$message(&#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="title function_">h</span>(<span class="string">&#x27;p&#x27;</span>, <span class="literal">null</span>, [</span><br><span class="line">      <span class="title function_">h</span>(<span class="string">&#x27;span&#x27;</span>, <span class="literal">null</span>, <span class="string">&#x27;订单创建成功,您的订单编号为: &#x27;</span>),</span><br><span class="line">      <span class="title function_">h</span>(<span class="string">&#x27;i&#x27;</span>, &#123; <span class="attr">style</span>: <span class="string">&#x27;color: teal&#x27;</span> &#125;, <span class="string">&#x27;87&#x27;</span>)</span><br><span class="line">    ])</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"># <span class="number">3.</span>不同主题的消息提示</span><br><span class="line"> <span class="variable language_">this</span>.$message(&#123;</span><br><span class="line">     <span class="attr">message</span>:<span class="string">&#x27;这是信息提示&#x27;</span>,</span><br><span class="line">     <span class="attr">type</span>:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">   &#125;)</span><br><span class="line"><span class="comment">//主题样式:  success  info  warning  error</span></span><br><span class="line"></span><br><span class="line"># <span class="number">4.</span>属性使用</span><br><span class="line"><span class="variable language_">this</span>.$message(&#123;</span><br><span class="line">    <span class="attr">message</span>:<span class="string">&#x27;这是信息提示&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">    <span class="attr">showClose</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">center</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">iconClass</span>:<span class="string">&#x27;el-icon-user-solid&#x27;</span>,</span><br><span class="line">    <span class="attr">duration</span>:<span class="number">0</span></span><br><span class="line">  &#125;)</span><br><span class="line"># <span class="number">5.</span>方法的使用</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">closeAll</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="table-表格组件"><a href="#table-表格组件" class="headerlink" title="table 表格组件"></a>table 表格组件</h3><p>组件的创建</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span> <span class="attr">label</span>=<span class="string">&quot;编号&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;age&quot;</span> <span class="attr">label</span>=<span class="string">&quot;年龄&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span> <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Tables&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tableData</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">21</span>, <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>, <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">id</span>: <span class="number">22</span>, <span class="attr">name</span>: <span class="string">&#x27;QiQi&#x27;</span>, <span class="attr">age</span>: <span class="number">17</span>, <span class="attr">email</span>: <span class="string">&#x27;安知鱼.chen@qq.com&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>表格中列属性</p><ul><li><strong>el-table-column 属性</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:resizable</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">header-align</span>=<span class="string">&quot;left&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">align</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">fixed</span>=<span class="string">&quot;left&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">&quot;200px;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">label</span>=<span class="string">&quot;编号&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;age&quot;</span> <span class="attr">:sort-method</span>=<span class="string">&quot;sorts&quot;</span> <span class="attr">sortable</span> <span class="attr">label</span>=<span class="string">&quot;年龄&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;email&quot;</span> <span class="attr">label</span>=<span class="string">&quot;邮箱&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;dept.name&quot;</span> <span class="attr">:formatter</span>=<span class="string">&quot;showDept&quot;</span> <span class="attr">label</span>=<span class="string">&quot;部门&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Tables&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tableData</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;研发部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;QiQi&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">17</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;小卖部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;WaterChen&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">16</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">sorts</span>(<span class="params">a, b</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> a.<span class="property">age</span> - b.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">showDept</span>(<span class="params">row, column, cellValue, index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(column)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(cellValue)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (cellValue) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> cellValue</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="string">&#x27;暂无部门&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>表格属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">empty-text</span>=<span class="string">&quot;暂无数据&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:row-class-name</span>=<span class="string">&quot;showCss&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">highlight-current-row</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:show-header</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:fit</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:height</span>=<span class="string">&quot;600&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">border</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   .....</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">             <span class="title function_">showCss</span>(<span class="params">&#123;row, rowIndex&#125;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                 <span class="keyword">if</span> (rowIndex % <span class="number">2</span> == <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                     <span class="keyword">return</span> <span class="string">&quot;warning-row&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                 &#125;</span></span><br><span class="line"><span class="language-javascript">                 <span class="keyword">return</span> <span class="string">&quot;success-row&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">             &#125;</span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>组件事件使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> @事件名=<span class="string">&quot;事件处理函数名&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;Tables&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//....</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//...事件处理函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">selectRow</span>(<span class="params">selection, row</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(selection)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>组件方法的使用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">ref</span>=<span class="string">&quot;mytable&quot;</span>&gt;</span>........<span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">//调用方法 this.$refs.mytable.方法名</span><br></pre></td></tr></table></figure><p>表格中定义操作列</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span>&gt;</span></span><br><span class="line">  ....</span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleEdit(scope.$index, scope.row)&quot;</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleDelete(scope.$index, scope.row)&quot;</span>&gt;</span></span><br><span class="line">        删除</span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: <span class="string">&quot;Tables&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          .....</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//用来处理编辑和删除的事件函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">handleEdit</span>(<span class="params">index,row</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(row);</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">handleDelete</span>(<span class="params">index,row</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">console</span>.<span class="title function_">log</span>(row);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522154949.png" alt=""></p><hr><p>自定义表头</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:data</span>=<span class="string">&quot;tableData.filter(data =&gt; !search || data.name.toLowerCase().includes(search.toLowerCase()))&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  .....</span><br><span class="line">  <span class="comment">&lt;!--展示搜索和操作--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;header&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;search&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入关键字搜索&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleEdit(scope.$index, scope.row)&quot;</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleDelete(scope.$index, scope.row)&quot;</span>&gt;</span></span><br><span class="line">        删除</span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&#x27;Tables&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tableData</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;安知鱼&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;研发部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;QiQi&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">17</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;小卖部&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;WaterChen&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">16</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">4</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;WaterChen520&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">15</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">email</span>: <span class="string">&#x27;2268025923@qq.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dept</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">search</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">sorts</span>(<span class="params">a, b</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> a.<span class="property">age</span> - b.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">showDept</span>(<span class="params">row, column, cellValue, index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (cellValue) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> cellValue</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="string">&#x27;暂无部门&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">showCss</span>(<span class="params">&#123; row, rowIndex &#125;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (rowIndex % <span class="number">2</span> == <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> <span class="string">&#x27;warning-row&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="string">&#x27;success-row&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">selectRow</span>(<span class="params">selection, row</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(selection)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">clearSelect</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">mytable</span>.<span class="title function_">clearSelection</span>()</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">handleEdit</span>(<span class="params">index, row</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">handleDelete</span>(<span class="params">index, row</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(row)</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/element/20210522155047.png" alt="table"></p>]]></content>
    
    
    <summary type="html">Element, css, vue, elementui,vue3</summary>
    
    
    
    
    <category term="Element" scheme="https://anzhiy.cn/tags/Element/"/>
    
  </entry>
  
  <entry>
    <title>css中的字体</title>
    <link href="https://anzhiy.cn/posts/fe37.html"/>
    <id>https://anzhiy.cn/posts/fe37.html</id>
    <published>2021-05-12T10:34:37.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><em>生活明朗，万物可爱</em></p></blockquote><h3 id="字体相关的样式"><a href="#字体相关的样式" class="headerlink" title="字体相关的样式"></a>字体相关的样式</h3><details class="folding-tag" cyan open><summary> 字体相关的样式 </summary>              <div class='content'>              <div class="tabs" id="font-related-styles"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#font-related-styles-1">color</button></li><li class="tab"><button type="button" data-href="#font-related-styles-2">font-size</button></li><li class="tab"><button type="button" data-href="#font-related-styles-3">font-family</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="font-related-styles-1"><p><strong>color</strong> 用来设置字体颜色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="font-related-styles-2"><p><strong>font-size</strong> 字体的大小</p><ul><li><p><code>font-size</code>相关的单位.</p><p><em>em</em> 相当于<code>当前元素</code>的一个 font-size<br><em>rem</em> 相对于<code>根元素</code>的一个 font-size</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="font-related-styles-3"><p><strong>font-family</strong> 字体族（字体的格式）</p><ul><li><p>可选值：</p><p><em>serif</em> 衬线字体</p><p><em>sans-serif</em> 非衬线字体</p><p><em>monospace</em> 等宽字体<br>指定字体的类别，浏览器会自动使用该类别下的字体</p></li><li><p>font-family 可以同时指定多个字体，多个字体间使用 <code>,</code> 隔开字体生效时优先使用第一个，第一个无法使用则使用第二个 以此类推</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, <span class="string">&#x27;\5B8B\4F53&#x27;</span>, sans-serif;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h3 id="font-face-自定义字体"><a href="#font-face-自定义字体" class="headerlink" title="font-face 自定义字体"></a>font-face 自定义字体</h3><details class="folding-tag" ><summary> font-face 自定义字体 </summary>              <div class='content'>              <p>font-face 可以将服务器中的字体直接提供给用户去使用</p><blockquote><p>问题： 1.加载速度 2.版权 3.字体格式（需提供多种格式满足不同浏览器）</p></blockquote><p>使用方法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="comment">/* 指定字体的名字 */</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;myfont&#x27;</span>;</span><br><span class="line">  <span class="comment">/* 服务器中字体的路径 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;./font/ZCOOLKuaiLe-Regular.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">font-family</span>: myfont;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="可供选择字体的方案"><a href="#可供选择字体的方案" class="headerlink" title="可供选择字体的方案"></a>可供选择字体的方案</h3><details class="folding-tag" ><summary> 自定义字体方案 </summary>              <div class='content'>              <ol><li><p><strong>iconfont 图标字体</strong></p><ul><li>在网页中经常需要使用一些图标，可以通过图片来引入图标但是图片大小本身比较大，并且非常的不灵活</li><li>所以在使用图标时，我们还可以将图标直接设置为字体，<br>然后通过 font-face 的形式来对字体进行引入</li><li>这样我们就可以通过使用字体的形式来使用图标</li></ul><p><em>通过伪元素来设置图标字体</em></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    1.找到要设置图标的元素通过before或after选中</span></span><br><span class="line"><span class="comment">    2.在content中设置字体的编码</span></span><br><span class="line"><span class="comment">    3.设置字体的样式</span></span><br><span class="line"><span class="comment">    fas</span></span><br><span class="line"><span class="comment">    font-family: &#x27;Font Awesome 5 Free&#x27;;</span></span><br><span class="line"><span class="comment">    font-weight: 900;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;\f1b0&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;Font Awesome 5 Free&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">900</span>;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fontawesome 使用步骤</span><br><span class="line"><span class="number">1</span>.下载 https://fontawesome.com/</span><br><span class="line"><span class="number">2</span>.解压</span><br><span class="line"><span class="number">3</span>.将css和webfonts移动到项目中</span><br><span class="line"><span class="number">4</span>.将all.css引入到网页中</span><br><span class="line"><span class="number">5</span>.使用图标字体</span><br><span class="line">- 直接通过类名来使用图标字体</span><br><span class="line">class=<span class="string">&quot;fas fa-bell&quot;</span></span><br><span class="line">class=<span class="string">&quot;fab fa-accessible-icon&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><em>通过实体来使用图标字体：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;#x图标的编码;</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas&quot;</span>&gt;</span><span class="symbol">&amp;#xf0f3;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><em>通过类名指定</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-cat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><em>阿里图标库</em></p><ul><li>平时自己练习可以使用，相对来说图标更多，质量更好</li><li>公司做项目一定要和原作者取得联系确认版权问题</li></ul><p><em>如何使用？</em></p><p>找到你需要 icon</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511110718.png" alt="找到你需要 icon"></p><p>加入到购物车</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511110730.png" alt="加入到购物车"></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511110739.png" alt="将购物车中的图标加入项目"></p><p>点击我的项目</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511111249.webp" alt="点击我的项目"></p><p>将文件下载至本地</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511110748.png" alt="将文件下载至本地"></p><p><code>解压后得到</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511111349.webp" alt="解压后得到"></p><p><code>将剩下的文件拷贝到项目中</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511111412.png" alt="将剩下的文件拷贝到项目中"></p><p><code>将css文件引入</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./iconfont/iconfont<span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure><p><code>复制需要使用的图标字体的Unicode编码，注意&amp;#x是实体图标的使用方法</code><br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511111442.png" alt="复制Unicode编码"></p><p><code>伪元素使用</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  //注意需要转义，且没有&amp;<span class="selector-id">#x</span></span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\e625&#x27;</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;iconfont&#x27;</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>通过实体图标调用</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">i</span> class=&quot;iconfont&quot;&gt;&amp;<span class="selector-id">#xe61c</span>;&lt;/<span class="selector-tag">i</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">i</span> class=&quot;iconfont&quot;&gt;&amp;<span class="selector-id">#xe622</span>;&lt;/<span class="selector-tag">i</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">i</span> class=&quot;iconfont&quot;&gt;&amp;<span class="selector-id">#xe623</span>;&lt;/<span class="selector-tag">i</span>&gt;</span><br></pre></td></tr></table></figure><p><code>通过类名调用</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">i</span> class=&quot;iconfont <span class="attribute">icon</span>-qitalaji&quot;&gt;&lt;/<span class="selector-tag">i</span>&gt;</span><br></pre></td></tr></table></figure><p><code>在css中使用时，需复制demo测试文件中的代码</code></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/font/20210511111449.png" alt="demo中的代码"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;iconfont&#x27;</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;iconfont.eot&#x27;</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;iconfont.eot?#iefix&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;embedded-opentype&#x27;</span>), <span class="built_in">url</span>(<span class="string">&#x27;iconfont.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&#x27;iconfont.woff&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>), <span class="built_in">url</span>(<span class="string">&#x27;iconfont.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&#x27;iconfont.svg#iconfont&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;svg&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shopcar</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\e61c&#x27;</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;iconfont&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>一定要特别注意路径问题！！！</em><br>在 css 中声明了该字体后再调用</p></li></ol>              </div>            </details>]]></content>
    
    
    <summary type="html">字体, font, font-family, font-face</summary>
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="CSS" scheme="https://anzhiy.cn/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>less学习</title>
    <link href="https://anzhiy.cn/posts/9ffb.html"/>
    <id>https://anzhiy.cn/posts/9ffb.html</id>
    <published>2021-05-11T10:13:37.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>看到 less 老是想起 less is more 这句话，这门语言的确是把原来很繁琐的 css 给包装成一门类似于编程语言的语言，感觉看视频只能学习到一点，关键还是看官方文档</p></blockquote><ul><li>less 是一个 css 扩展，让 css 变成支持变量，嵌套等操作的 css 语言</li><li>可以去 <a href="https://less.bootcss.com/">Less 官方文档</a> 去学习</li><li>less 是一门 css 的预处理语言</li><li>less 是一个 css 的增强版，通过 less 可以编写更少的代码实现更强大的样式</li><li>在 less 中添加了许多的新特性：像对变量的支持、对 mixin 的支持… …</li><li>less 的语法大体上和 css 语法一致，但是 less 中增添了许多对 css 的扩展，所以浏览器无法直接执行 less 代码，要执行必须向将 less 转换为 css，然后再由浏览器执行</li></ul><h2 id="less-基础"><a href="#less-基础" class="headerlink" title="less 基础"></a>less 基础</h2><ul><li><p>less 可以在浏览器端使用也可以在服务端使用</p></li><li><p>在浏览器端使用 CDN：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdnjs.cloudflare.com/ajax/libs/less.js/3.11.1/less.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>引入</p><ul><li><p>并且需要告诉浏览器我们写的是 less 代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>但是上面的方法是运行时编译 (也就是运行这个网页时才把 less 文件转化为 css)，影响网页加载时间</p></li><li><p>我们想让我们写好 less 文件之后直接转换成 css 文件，这里 vscode 安装 <code>EasyLESS</code> 插件，写好之后会自动生成语义相同的 css 文件</p></li></ul><h2 id="关于-EasyLESS-扩展的配置"><a href="#关于-EasyLESS-扩展的配置" class="headerlink" title="关于 EasyLESS 扩展的配置"></a>关于 EasyLESS 扩展的配置</h2><p>在 settings.json 文件中添加以下代码（注意 json 文件中尽量不要添加中文注释，会报错）</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;less.compile&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;compress&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;out&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li><p><code>compress</code> 代表压缩 css。</p></li><li><p><code>sourceMap</code> 代表生成地图（在浏览器控制台可以追踪到 less 文件位置）</p></li><li><p><code>out</code>代表输出对应的 css 文件</p><p>所以一般全部都为 true</p><p>当然你也可以这样</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;less.compile&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;out&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;\\src\\assets\\css\\&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li><p>‘${workspaceRoot}’ 代表的是根目录；</p></li><li><p>这样就可以更改生成.css 文件的路径了，但是上面代码配置是我的.css 文件的目录地址，这个自行配置就行；</p></li></ul><p>在 less 中导入文件用 <code>@import</code></p><p><strong>import 用来将其他的 less 引入到当前的 less</strong></p><p>可以通过 import 来将其他的 less 引入到当前的 less 中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;../test.less&quot;;</span><br></pre></td></tr></table></figure><details class="folding-tag" 参数（可选）><summary> 标题 </summary>              <div class='content'>              <div class="note info simple"><p>less 注释 </p></div><p>less 里面的注释分为在编译之后仍然显示和在编译以后不显示两种</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 我在编译之后仍然显示 */ css中的注释，内容会被解析到css文件中 // 我在编译之后不显示</span><br><span class="line">less中的单行注释，注释中的内容不会被解析到css中</span><br></pre></td></tr></table></figure><div class="note info simple"><p>less 变量 </p></div><ul><li>less 中使用 <code>\@</code> 来定义变量</li><li>less 中的变量是<code>块级作用域</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@color:pink;</span><br></pre></td></tr></table></figure><ul><li>选择器和属性名同样可以作为变量 (但是这种形式用的很少)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@m</span>: margin;</span><br><span class="line"><span class="keyword">@selector</span>: #wrap;</span><br><span class="line">* &#123;</span><br><span class="line">  // 使用的时候要加大括号</span><br><span class="line">  @&#123;m&#125;: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">@&#123;selector&#125; &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line">// 网址在使用的时候也要加大括号</span><br><span class="line"><span class="keyword">@image</span>: <span class="string">&#x27;../image&#x27;</span>;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;@&#123;image&#125;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>变量的延迟加载 (变量提升)：less 会等到块级作用域加载完成才会替换里面的变量</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div &#123; //可以先使用后定义 z-index: @var; @var: 3; &#125; // z-index 属性值为 3</span><br></pre></td></tr></table></figure><ul><li>变量发生重名时，会优先使用比较近的变量</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@d</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="keyword">@d</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="keyword">@h</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="keyword">@h</span>: <span class="number">300px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // 变量发生重名时，会优先使用比较近的变量</span><br><span class="line">  <span class="keyword">@d</span>: <span class="number">115px</span>;</span><br><span class="line">  <span class="attribute">width</span>: @d; //此处使用<span class="number">115px</span></span><br><span class="line">  <span class="attribute">height</span>: @h; //此处使用<span class="number">115px</span></span><br><span class="line">  //可以在变量声明前就使用变量</span><br><span class="line">  <span class="keyword">@h</span>: <span class="number">115px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>其实 css3 中也支持变量，以两个横线开头定义一个变量<code>--</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="comment">/* css原生也支持变量的设置 */</span></span><br><span class="line">  <span class="attr">--color</span>: <span class="number">#ff0</span>;</span><br><span class="line">  <span class="attr">--length</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>新版本语法</strong><code>$</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  // 新版的语法</span><br><span class="line">  <span class="attribute">height</span>: $width;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><a href="http://www.ruanyifeng.com/blog/2017/05/css-variables.html">css3 的变量详解</a></li></ul><div class="note info simple"><p>less 嵌套规则 </p></div><ul><li>父标签的样式可以嵌套子标签的样式 (像在 html 里面的结构一样)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">  <span class="selector-class">.inner</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: purple;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>假如要让 子元素 .inner 添加一个 hover 属性</p><p><em>&amp; 表示父类的名称</em></p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">  <span class="selector-class">.inner</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: purple;</span><br><span class="line">    // 不能直接在里面写 <span class="selector-pseudo">:hover</span>,这样写他会直接变成inner的子元素</span><br><span class="line">    // 要这样写</span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: pink;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info simple"><p>less 混合 </p></div><ul><li>混合是为了避免大量重复的样式代码，可以将一部分样式打包成代码块 (长得很像函数)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 可以传参，即使没有参数也要加括号，加了括号后在 css 文件中不会显示</span><br><span class="line"><span class="selector-class">.template</span>(<span class="keyword">@w</span>,<span class="keyword">@h</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">  <span class="attribute">width</span>: @w;</span><br><span class="line">  <span class="attribute">height</span>: @h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // 上面的样式就添加到里面了</span><br><span class="line">  <span class="selector-class">.template</span>(<span class="number">100px</span>,<span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>less 混合支持默认参数，例如：</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.template</span>(<span class="keyword">@w</span>:100px,<span class="keyword">@h</span>:200px) &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">  <span class="attribute">width</span>: @w;</span><br><span class="line">  <span class="attribute">height</span>: @h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // 这时里面可以不用传参数</span><br><span class="line">  <span class="selector-class">.template</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>less 也支持命名参数，解决了参数不匹配的问题</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.template</span>(<span class="keyword">@w</span>:100px,<span class="keyword">@h</span>:200px,<span class="keyword">@c</span>:pink) &#123;</span><br><span class="line">  <span class="attribute">color</span>: @c;</span><br><span class="line">  <span class="attribute">width</span>: @w;</span><br><span class="line">  <span class="attribute">height</span>: @h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // <span class="selector-class">.template</span>(black);</span><br><span class="line">  // 显示错误，w 参数把 black 接收了过去，导致显示错误</span><br><span class="line">  <span class="selector-class">.template</span>(<span class="keyword">@c</span>:black);</span><br><span class="line">  // 正确写法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>小知识：haslayout：是 ie6 版本之前的兼容性问题，可以开启 haslayout 来解决兼容性问题 开启的方法：<code>overflow: hidden</code></p></blockquote><ul><li>less 匹配模式：例如想要弄四个方向的三角型，可以在函数的第一个参数上弄一个标识符，然后就可以定义四个混合，这时就可以根据传入的参数来判断想要用的是哪个方向的三角型</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 向左的三角型</span><br><span class="line"><span class="selector-class">.template</span>(L,<span class="keyword">@w</span>:100px,<span class="keyword">@h</span>:200px,<span class="keyword">@c</span>:pink) &#123;</span><br><span class="line">  // 假如里面是画三角型的方法</span><br><span class="line">  <span class="attribute">color</span>: @c;</span><br><span class="line">  <span class="attribute">width</span>: @w;</span><br><span class="line">  <span class="attribute">height</span>: @h;</span><br><span class="line">&#125;</span><br><span class="line">// 向右的三角型</span><br><span class="line"><span class="selector-class">.template</span>(R,<span class="keyword">@w</span>:100px,<span class="keyword">@h</span>:200px,<span class="keyword">@c</span>:pink) &#123;</span><br><span class="line">  // 假如里面是画三角型的方法</span><br><span class="line">  <span class="attribute">color</span>: @c;</span><br><span class="line">  <span class="attribute">width</span>: @w;</span><br><span class="line">  <span class="attribute">height</span>: @h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  // 想要一个向左的三角型</span><br><span class="line">  <span class="selector-class">.template</span>(L);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>当混合里面的第一个参数是 <code>@_</code> 时并且也拥有其他形参时，调用同名混合也会把拥有这个参数的混合调用上</p><ul><li>arguments 变量：和 js 中的 <code>arguments</code> 是一样的，是包含实参的<em>伪数组</em></li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>() &#123;</span><br><span class="line">  <span class="attribute">border</span>: @arguments;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="number">1px</span>,solid,black);</span><br><span class="line">&#125;</span><br><span class="line">// 可以把合并语法传入进去</span><br></pre></td></tr></table></figure><div class="note info simple"><p>less 计算 </p></div><ul><li>在 less 中，计算的双方只需要一方带单位就可以了</li><li>例如：<code>100 + 100px == 200px</code></li><li>为了和 css 保持兼容，less 不会把 <code>calc()</code> 属性计算出来，会留到 css 中计算<br>在 less 中所有的数值都可以直接进行运算</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  // 在less中所有的数值都可以直接进行运算</span><br><span class="line">  // + - * /</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span> + <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>/<span class="number">2</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.box1</span> &#123;</span><br><span class="line">    <span class="comment">/* calc()计算函数 */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">200px</span> * <span class="number">2</span>);</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">var</span>(--length);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info simple"><p>less 继承 </p></div><ul><li>继承同样是为了压缩代码，混合有时候两个类似的功能，他们的 css 代码相差不多，但是里面有很多的重复，这时我们可以使用继承来写这部分代码</li><li>在继承中不支持参数</li><li>语法格式：<code>div:extend(.jicheng)</code> (实质就是在两个选择器中加了一个逗号)</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//:<span class="built_in">extend</span>() 对当前选择器扩展指定选择器的样式（选择器分组）</span><br><span class="line">.p2:<span class="built_in">extend</span>(.p1) &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.p3</span> &#123;</span><br><span class="line">  //直接对指定的样式进行引用，这里就相当于将p1的样式在这里进行了复制</span><br><span class="line">  //mixin 混合</span><br><span class="line">  <span class="selector-class">.p1</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 使用类选择器时可以在选择器后边添加一个括号，这时我们实际上就创建了一个mixins</span><br><span class="line"><span class="selector-class">.p4</span>() &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.p5</span> &#123;</span><br><span class="line">  <span class="selector-class">.p4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>或者我们这样来看更直观</em></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// less 文件</span><br><span class="line"><span class="selector-class">.jicheng</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span>:<span class="built_in">extend</span>(.jicheng) &#123;</span><br><span class="line">  <span class="comment">/* header 里的代码 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>less 编译后</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* css 文件 */</span></span><br><span class="line"><span class="selector-class">.jicheng</span>,</span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="comment">/* header 里的代码 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>想要继承类的所有状态需要在 extend 后面加上 all <code>div:extend(.jicheng all)</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.jicheng</span> &#123;</span><br><span class="line">  // 继承的东西...</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.jicheng</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  // <span class="selector-pseudo">:hover</span> 继承的东西...</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span>:<span class="built_in">extend</span>(.jicheng all) &#123;</span><br><span class="line">  // <span class="selector-tag">header</span> 自己的样式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>这样就可以继承本身的和 :hover 的了</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.jicheng</span>,</span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.jicheng</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.header</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="less-小技巧"><a href="#less-小技巧" class="headerlink" title="less 小技巧"></a>less 小技巧</h2><p>注释问题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/*编译后会被保留*/</span><br><span class="line">//编译后不会被保留</span><br></pre></td></tr></table></figure><p>适用 !important</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.nav&#123;</span><br><span class="line">    .nav-wrapper(#EFF3F7)!important;//nav-wrapper所有的样式都带上!important</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>避免编译符号 ~</p><p>在字符串前加上一个~即可使用一些 less 不认识的专有语法或者一些不正确的 css 语法。</p>]]></content>
    
    
    <summary type="html">less, css, css3, less学习</summary>
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="CSS" scheme="https://anzhiy.cn/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>我要我们在一起</title>
    <link href="https://anzhiy.cn/posts/9520.html"/>
    <id>https://anzhiy.cn/posts/9520.html</id>
    <published>2021-05-10T16:57:50.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<p>偶然之间看到一篇帖子, 想到了现在我和某人，不知道后来的我们, 我们的十年会不会也变成这样 🌎</p><blockquote><p>整理后的帖子相对完整，原文缺失部分</p><p>这是整理后的帖子 原文： <a href="https://www.douban.com/note/260167887/">https://www.douban.com/note/260167887/</a></p><p>原作者： <a href="https://www.douban.com/people/zmnnzgbd/">你这个贱人</a></p><p>原文地址：豆瓣：<a href="https://www.douban.com/group/topic/36139334/">http://www.douban.com/group/topic/36139334/</a> 【贱贱贱人直播】与我十年长跑的女朋友就要嫁人了。📺</p><p>故事背景地：<a href="http://www.tudou.com/programs/view/36RvNyr4TUI/">http://www.tudou.com/programs/view/36RvNyr4TUI/</a></p></blockquote><p>昨天下午凌一尧给我发来一张照片，是一件婚纱，她问好不好看，我说还行。</p><p>她说“初五举办婚礼，和我们以前想象得一样，有鲜花拱门，有红地毯，有白婚纱黑礼服，就是没有你。”</p><p>我说“要不要我去凑个份子？”</p><p>她半天之后才回复说:“不用了。</p><p>——————————————————————————————分割线———————————————————————————————-<br>2001 年的夏天，我十六岁，正在读高中。即便是夜晚，气温仍然高得令人辗转反侧，黑漆漆的夜晚满是室友们翻身和叹息的声音，而我咬着小电筒，蒙着一条薄被单，写下人生中唯一的一封情书。<br>我的读者叫凌一尧，马尾辫，大前额，身材娇小，细腰长腿小翘臀。要命的是，她偏偏是一位学霸，常年霸占月考名次红榜第一排，这样脑瓜子聪明又美得翻泡的妞儿绝对是众人心目中的雅典娜，只可跪舔不能直视。<br>几乎每天，我都会想入非非，幻想着各种与她搭讪的场面。其中包括她从楼梯上滚下来毁容了，我抱她朝着医院狂奔，并且发誓这辈子我都不会抛弃她，最后她在我的怀里留下了幸福的泪水。<br>送出情书的第二天，我的创作地点就转移到政教处办公室，对面坐着姚主任，我们私下管他叫“姚千岁”。他说：“吕钦扬同学啊，昨天你一夜写了三页纸，今天怎么就咬笔杆了？是不是这个环境不利于激发创作灵感，要不要拿回宿舍慢慢写？”<br>我理智地拒绝道：“不用了，这里有空调。”<br>凌一尧把我的情书送给政教处，这事做得太坑，我内心的伤痛尚未愈合，班主任跑来告诉我一个好消息：“你要上电视了！”<br>“什么电视？”我有些激动。<br>“闭路电视。经过校领导研究决定，这次纪律整顿大会的主题是杜绝早恋，你要在学校直播室做一次公开检讨。”<br>“为什么是我？不就一封情书吗？”<br>班主任思索片刻，说：“可能是别人脸皮太薄了，怕留下心理阴影。”<br>他妈的！<br>纪律整顿电视会议之前的那几天，我的心情却糟糕到极点。<br>每次远远地看见凌一尧，我都会走向旁边的岔路，不愿意与她打照面。说实话，我对她有些记恨，无法理解她为什么那样做，难道被我喜欢是一件很痛苦的事情？如果是这样，以后不喜欢你就是了呗。<br>据说历次电视会议的录像都会被妥善保存，作为我校发展历程的丰碑，为了给学妹们留下一个好印象，我特意理了一个清爽的发型，熨了一下白衬衫，还借了一双白色的耐克跑步鞋。第一次上电视，好激动。<br>那天中午政史二班的体育委员来访，对我进行亲切慰问，鼓励我好好表现。他带来一个消息，说那封情书不是被上交的，而是被他们班主任曹老太缴获的，凌一尧还被拉到办公室做了一通思想审查。<br>学校演播室中间摆着一台黑色的摄像机，镜头前面摆着一个主席台，依次坐着诸位领导以及各年级组长，而门口站着的是六名犯罪嫌疑人，其中一个就是我。那五个家伙我差不多都认识，他们的罪名比较另类，什么拿街机子儿冒充硬币买茶叶蛋，什么大半夜拿鱼竿在校园的池塘里钓鱼的，还有那位住在二楼的同学，他用大搪瓷杯装尿往院墙外面泼，墙外方圆几米的庄稼死得透透的，连野草都长不出一棵。<br>相比之下，我绝对是最纯洁的。但不知道为什么，当我说我因为写情书给女孩却被对方送给老师了，他们一个个都面露鄙夷之色，仿佛我犯下比他们更龌龊的罪行。当时我就清醒地认识到，错的不是我，而是这个世界。<br>由于早恋是今天重点批判的主题，姚千岁将我安排在最后出场。班主任对我有点不放心，还特意跑来对我进行战前动员和辅导，他说：“等会儿千万不要紧张，控制住情绪。”<br>“你怕我被吓哭？”我有种受辱的感觉。<br>班主任说：“不是，我担心你在这么严肃的地方笑场。”<br>终于轮到我了，我站到话筒前面朗读上次写的检讨，尽量不看镜头，像在给姚千岁致哀悼词。正要谢幕之时，副校长却在发表一则有关早恋危害的讲话，此时我非常困窘，傻逼似的杵在那里，被全校数千双眼睛在看不见的地方盯着，这种滋味真心痛苦。<br>不知道副校长说了什么，姚千岁突然对我发问，所有人都看着我，包括镜头。我一头雾水地“啊”了一下，此处是第二声。<br>姚千岁将问题重复一遍：“吕钦扬同学，你对自己的所作所为有没有感到后悔？”当时我就震惊了！这他妈算是什么垃圾问题？你又不是没看过我那封情书，写得感人肺腑，催人泪下，引人沉思，都发誓这辈子非凌一尧不娶了，你现在他妈的问我后不后悔？我他妈只是以大局为重，配合你演一场杀鸡儆猴的戏而已，你还真把我当冤大头了？我就算真的后悔了，不可能当众说出来啊，否则以后还怎么混？面对那黑洞洞的镜头，不，那不只一个镜头，那是数千双眼睛，我作出一个重大而深远的决定———我盯着镜头，说：“我不后悔。”<br>那天傍晚的天气非常好，走出学校演播室，西边铺天盖地的一大片火烧云，我的白衬衫都被映得红彤彤的。各个班级刚好下课，学生们像出栏的猪一样涌出教室直奔餐厅，许多认识或者不认识我的人冲着我打招呼，连年轻的男女老师都意味深长地对我哼笑。<br>经过凌一尧所在的班级，几个女生拿着饭盒走出来，其中一个便是凌一尧，她抬头看见我，立即像见了鬼似的退了回去。其他女生起哄起来，悠长的“噢哟”在走廊里回荡着。我这样一个阿 Q，经历此生最为辉煌的时刻，迈出的每一步都像踩在软绵绵的云端，仿佛自己是一个凯旋的盖世英雄。<br>我为一时的倔强付出巨大的代价———惩罚等级由警告升级为记过，礼拜一全校晨会，别人都在聆听领导训话，而我在冲洗操场角落那个简陋又瘟臭的厕所。冲完厕所以后，我淡定地走过队列前面的那条煤渣路，手里的铁皮桶吱呀吱呀地响着，相当拉轰。<br>这些举动相当幼稚，用现在的话概括这是在“作死”，但它们在当时足以让我成为全校的三大奇葩之一。更悲剧的是，入榜的是我的两个死党，“大乔”和“子石”。我之所以鼓起勇气给凌一尧写情书，其中一个原因便是和这两个傻逼打赌了，他们说如果我追到凌一尧，他们就在校园里裸奔一圈。<br>当时周杰伦才出道，大乔就果断成为铁粉，一曲《爱在西元前》日夜哼唱，最终进入全校文艺汇演的名单。然而，正式演出那天他当着数千师生的面公然忘词。他悲愤下台后并未气馁，而是继续苦练这首歌，两天以后的傍晚，他偷偷翻窗进入学校总控室，对着麦克风重新清唱一遍《爱在西元前》，那销魂的歌声传遍校园的每一个角落。子石名叫蒋慧东。他去泡隔壁职高的一个妹子，几个地痞们带着自家车床磨出的砍刀来战，他舞着泔水老汉的扁担，光着膀子把对方揍得满地找牙，连学校保安都没敢过问。但就是这样一个群架王，晚自习时突发奇想，挖了一坨清凉油抹在 JJ 上，试图达到“头悬梁锥刺股”的功效，最后他的嚎叫响彻整个教学区，从此再也没人记得他的神勇。我不知道大家如何评价的，因为我的氪金狗耳早已阵亡。之所以重点这两位仁兄，是因为他们俩正在看这个直播故事，他们希望我多褒少贬，不要破坏他们的伟岸形象，但我选择站在真相这一边。随后很长时间里，我都不太好意思和凌一尧走得太近，因为总有傻逼在旁边“矮油”“噢哟”。子石和大乔不遗余力地耍宝，烘托我的形象，而我感觉这样太小丑了，但一抬头我看见凌一尧嘴角的笑，一下子发现自己非常愿意当这个小丑。在那个年龄，无论无意的出糗还是有意的献丑，只要能博取那个人的一笑，便会欣喜若狂。而多年以后，这样的快乐已然灭绝。<br>因为有我这个炮灰的经验教训摆在这里，喜欢凌一尧的男生很多，敢于追求的却几乎没有。我们亲眼看见一个高三哥把她在圣诞节把她约到桥边，送她一盒巧克力，凌一尧怎么不肯要，三哥一怒之下把那盒巧克力丢进河里。第二天，子石和大乔把巧克力盒子捞上来，打开包装一看，嘿，没有进水。我们把巧克力分了，晚上遇到凌一尧时我拿了三块几乎被我焐软的巧克力给她，她居然没有拒绝，收下了！我本来是想恶作剧一下而已，她这样一来，我都没敢说那是昨天被丢下河的那盒巧克力。巧克力事件之后，莫名其妙地，我和她的关系出现好转，虽然彼此遇见时从来不打招呼，但她嘴角总是有一丝浅得几乎看不出来的微笑。<br>“你眼瞎啊，她一直板着脸，哪里有过微笑？”大乔非常直白地反对。子石也很困惑:“难道这就是肉笑皮不笑？”我只能慨叹这两个蠢货的无知，告诉他们有一些东西“只有相爱的人才能体会”。后来凌一尧说，那大半年里我们是在用意念恋爱，没有一句对白。<br>为了迎接素质教育检查团的视察，学校举办一次声势浩大的秋季运动会，还从体校借了一帮外援来捧场。那三天里，全校处于停课状态，对我而言这就是另一个形式的放假而已。而我发现自己有半套黄冈密卷的作业没写，科代表说运动会一结束就要交作业，我不得不加班加点地抄答案。教室里只有寥寥几人，凌一尧突然来我们班找一位学霸妹子，也是她的初中同学。我躲在高耸入云的书堆后面，看着她们低声说笑，虽然不知道她们在聊些什么，可是她一笑，我也忍不住跟着龇牙咧嘴。不料，她一扭头看见我时愣了一下，双眼瞪得大大的，就跟喵星人准备开天眼了似的。<br>我赶紧低头写试卷，再一抬头时她已经站在我旁边，我一紧张，赶紧把那份标准答案往桌肚子里塞，比被老师发现还紧张。她伸手把那份答案掏出来，说：“我还以为你在认真学习呢，原来是在抄答案。”<br>我说“偶尔为之……”<br>她又问：“你怎么从来都不和我说话的？”<br>我说：“我怕写检讨。”<br>她的小脸涨得通红，辩解道：“那个真不是我弄的！我把那信夹在英语课本里，被曹老师翻到的！”<br>我说：“你知道姚千岁说了什么不？他说我是‘害群之马’，自己不学好还去骚扰人家品学兼优的女生，是‘癞蛤蟆想吃天鹅肉’。他都这样说了，我怎么敢再和你说话？”<br>她皱起眉头，将信将疑地说：“姚主任是想用激将法吧？”<br>我哼笑一声，说：“如果我以后有出息，这就是激将法，如果我没有出息，这就是他的神机妙算，老狐狸从来不会吃亏的。不过他也没有说错，我的确是癞蛤蟆想吃天鹅肉，可能再过多少年，我还是他手里的反面教材。”<br>“你后悔了？”她低声问道。<br>我说：“不知道……”<br>运动会之后没多久，凌一尧偷偷塞给我一张字条，她说：“如果你能够考到本科，高考结束以后咱们就假装在一起，气死姚千岁！”<br>子石和大乔很快发现我的不正常，因为我很少搭理他们俩，整天埋在教室里学习，有点“不合群”了。他们俩试图拯救我于水火之中，但研究许久都未果，直到看见我与凌一尧在教学楼走廊里相视一笑，他们才若有所悟。<br>于是，我被驱逐出三大奇葩的队列。其实没有了我，他们俩照样可以玩得很嗨，譬如用煤渣块狙击操场上接吻的小情侣。整个高三，我们都保守着这个秘密，两人即便在校园里迎面走过，也从来不打一声招呼。但我看见她浅浅的笑意，我努力压抑着内心的激动，双拳握得指甲嵌入掌心。偶尔旁边没人的时候，我会自言自语地把她的姓名说出来，然后像一只疯猴子似的狂奔乱跳，那真是一件快乐到极点的事情。凌一尧，我喜欢你呀！喜欢得恨不得在教学楼里裸奔，恨不得在操场上打滚，恨不得冲进校长办公室尖叫！那一年的高考，全省数学平均分 68 分，我只考了 38 分，总分离本科线还差 9 分！填报志愿那天，我和凌一尧在美术考生画室旁边的天台上聊天，我非常沮丧地告诉她，我没能达到本科线，她不用兑现当初的约定了，但凌一尧抿着嘴巴摇头，笑盈盈的样子。她说：“只要你努力过就行了呀。”我愣了一下，不太明白她的意思。她再对我眨巴眼睛，我这时候才猛然顿悟，开心得手舞足蹈起来，而她甩着小手直打我，叫我“不要发癫”。这是她的一个口头禅，每当我或者她的朋友开心得失态，她就会很温和地笑着，在后面提醒“哎呀，不要发癫啦！”对我而言，这个分数只适合报大专，而具体哪个学校哪个专业都是无所谓，当前要务是离凌一尧近一些，于是我和她一起去了六朝古都。我们的学校不在同一个区，但坐车也就半个小时路程，平时见面还不是难事。大一的课程比较少，凌一尧突然提出来要去勤工俭学，我问她准备干点什么，她提出来的想法毫无创意，什么饭店接待，发传单，卖电话卡。<br>我问她“你知道我爷爷干嘛的么？”她摇头说不知道。我说国庆节回家，我把他的传家宝带来，到时候你就看着吧，我小学就做他的学徒了。国庆节之后，我们在大学城摆起爆米花的小摊位，摇啊摇，摇啊摇，砰！那天爆米花很好卖，特别是凌一尧心惊胆战地摇着那个摇把，就有许多人过来围观，毕竟女孩子做这个太新鲜了。不过第二天傍晚就有人把我们赶走了，因为附近停了车子，一声炸响之后就有警报器鬼叫，涉嫌扰民。<br>尽管如此，我们还是很开心，晚上去看半价电影，柜台问我们要不要爆米花，我和凌一尧傻呵呵地笑。<br>她曾经说:“如果哪天我们想要分开了，就想一想曾经一起在街头卖爆米花的日子。”<br>现在我正在想，你呢？<br>大学那几年，我们与大多数校园情侣一样，试着一起打工却总是没有头绪，吃喝玩乐又没有太多钱，经常出去玩半天都花不了五十块钱，照样穷开心。到了期末，作为一个学霸，她完全闭门不出，专心复习，而我一个学渣只要做完小抄就可以安安心心地玩游戏了。<br>就这样一直混着，我到了大三时，我们面临分道扬镳的危险。她还要一年才本科毕业，以后还要考研，而我已经面临实习。她说:“要不你考专升本吧！”我考虑好几天，最后还是决定离开校门，我说“你乖乖上学，以后还要读研，我先出去闯，等你毕业了我刚好娶你过门！”我至今不知道自己当初的决定是否正确，有时坚定地认为那是男人的担当，但一旦喝多了就会把因果联系扯得非常远，最后归根结底到我没有好好念书才会导致两相忘的结局。我第一份工作，是在一家监理公司当资料员，每月只有一千四百元的工资。当时我最喜欢听别人说“工作难找”，因为只有听到这样的话，我才觉得自己不是 loser。<br>在监理公司工作，本应是很轻松的，但不是指我们这种苦逼资料员，每天白天忙得要命，对着电脑处理各种文件，晚上凌一尧打电话过来和我聊天，我已经累得只想闷头大睡。当时我的心情的确非常焦躁，经常怀念学校里的惬意生活，所以当凌一尧喋喋不休地说着学校里发生的好玩的事情，我却没有耐心听下去，打断道:“明天再聊吧，你也早点休息。”她愣了一下，说:“你是关心我呢，还是嫌弃我呢？”我说:“我就是很累。”她呵呵冷笑一声，把电话挂了，周围一片寂静时我却睡不着了，一下子被自己吓醒了:三年了，这是我第一次这样大逆不道！凌一尧是一个性格很犟的女孩，她不轻易翻脸，但只要翻了脸，那就真是很难弥合了。她掀起的冷战持续足足一个礼拜，电话照接，但就是很冷淡，冷淡得让人觉得她一夜之间移情别恋了。我急得团团转，但她认为的惩罚时间一到，就立即打电话过来问“知道错了吗？”我说“罪该万死。”“以后还会再犯么？”我赶紧发誓，这辈子都不敢再敷衍她这个小姑奶奶，她这才给我一条生路。但是，冷战结束不等于我们之间的矛盾消失，她只需要学业和恋爱，而我刚刚开始承受来自各方面的压力，尤其是对未来的担忧。我当时是一个胸无大志的可怜虫，我最羡慕的职业只是总监，啥事不干就有人送烟酒塞红包，我这辈子就这点理想了。<br>资料员干了大半年，自我感觉非常良好，跟在监理后面混吃混喝，烟酒不断，施工单位把我们当爷爷供着。<br>有一天，凌一尧的手机被偷了，我发现自己的存款竟然不够给她买一只新手机。那种挫败感极其折磨人心，但凌一尧不介意，她买 ic 卡和我打电话，说反正平时只和我联系，叫我以后赚了大钱再给她买。有妞如此，夫复何求？可是这个“大钱”在哪里？我当时尚未感觉到紧迫感，还在盘算着自己哪天有了监理资格，该有多轻松惬意。<br>情人节那天，我和凌一尧在外面约会，经过一家婚纱店，她就把小脸贴在玻璃橱窗上看，她说“以后咱们结婚的话，就租这件婚纱走红地毯，怎样？”我得瑟地说“租什么租，直接买下来收藏就是了！”凌一尧蹲下来看角落里的标价牌，低声说“你至要不吃不喝一年半才能买下来。”我当时就脸红了，不是因为自己高估婚纱的价格，而是因为高估自己的能力。我居然要不吃不喝一年半才能给我的妻子买下婚礼上那件婚纱？说到刚毕业的那段屌丝岁月，心情有些郁闷，还是说点有趣的事情吧。那天我给凌一尧的情人节礼物是一只熊娃娃，四十五块钱。她很开心地放在家里，可是她叔叔家小孩看中那个娃娃，蛮横地抱了回去。凌一尧不好意思说不给，但她第二天坐了俩小时的车回到那个卖娃娃的小店，买了一个一模一样的，直奔她叔叔家，硬是把我送的那只换了回来。我说“两个都一样，干嘛还要换？”她说“我都给那一个取了名字，两个怎么可能一样？”<br>终于有一天，我决心辞职，离开这种安逸却庸庸碌碌的生活，原因之一是和我一起共事的监理大叔挨揍了。<br>当时监理有些严格，把施工单位惹毛了，平时称兄道弟的人按住老监理揍，最后甩下一句话:“你们这种垃圾，给脸不要脸，我们看在你们是业主的走狗的份上才丢点骨头给你们，你们还蹬鼻子上脸了？”他们没有为难我，但我被伤到了:我这辈子不可以做一个捡别人残羹冷炙的走狗。原因之二便是凌一尧考研了，我想多赚钱，争取在她研究生毕业时给她一个安稳的家。她读的是本校的研究生，于是我去南京找了工作，三年的同居生活开始了。<br>房子是凌一尧找的，四十平，月租六百。我们一起购置许多东西，比如简易折叠衣橱，厨具，餐具，以及被褥。凌一尧把两副餐具摆好，脸上满是小妻子般的认真，我躺在床上看着她忙这个忙那个，突然觉得不可思议:我十六七岁时得有多幸运才会得到这样一个小家伙的青睐！<br>凌一尧有时很像一个孩子，某个周末我去上班，她一个人在家睡到黄昏。我下班回来时她还抱着枕头睡着，我换拖鞋时她睁开眼睛，说:“吕钦扬，我最喜欢看你回家。”我说“噢”“那你什么时候最喜欢我？”我没回答上来，她有些不高兴，到了第二天早上我才告诉她“我们并肩站在镜子前一起刷牙的时候我最爱你”<br>我们那段时间的生活条件很简单，早餐是熬一小锅米粥，一小碟肉松，还有两个煮鸡蛋。我们约定谁先醒谁先去做，但每次都是她先醒，我百思不得其解，她不是那么容易自然醒的人，可是我又从来听不到闹铃声。后来我才知道，她把闹铃调成震动，把手机垫在枕头边缘，这样她就可以早起做饭又不把我吵醒。“白痴，手机会有辐射的啊！”我埋怨道。她说:“我就是喜欢喊你起床吃早饭呀！”她那得瑟的模样，就像幼儿园里得了小红花等待表扬的小朋友。<br>当时她的手机是大学室友淘汰下来送给她的，摩托罗拉的，开合时都会吱呀吱呀地响，外面的漆都掉了。我工作三个月，她的生日那天，我买了一只小的儿童蛋糕，两个人一起做了几道菜，这个生日就这样勉勉强强过掉了。 晚上，她裹着被子躺在我怀里看电视，我从枕头底下摸出一只盒子递给她，她小心翼翼地打开，里面是我攒钱买的一部夏普翻盖手机。 她盯着那手机看了半天，一句话也不说，我有些纳闷，把她掰过来时才看见她的眼泪啪嗒啪嗒地往下掉。我问道：“不喜欢？” 她还是什么话都没讲，直接搂住我的脖子，眼泪直接往我肩膀上擦，后来我才知道，前两天她同学嘲笑她的手机老土，“五十块钱卖给我都不要”，她怕我听了难过，就一直没敢告诉我。<br>哪怕已经相恋那么多年，凌一尧在我眼里依然是一个雅典娜，集性感，可爱，聪慧，与善良于一身。她穿着睡裙抬起胳膊晾晒衣裳；把我的脸假想成镜子左照右瞧的时候最可爱；她坐在台灯下一边写作业，一边与我讨论自由主义与无政府主义；她明知道行乞的人是骗子，但路过那些人面前时还是忍不住丢一枚硬币，以求自己良心的安宁。 天气转凉的时候，她开始向同学学习针织，买了毛线照着图册开始鼓捣起来，并且不允许我偷窥她的杰作。然而当作品终于完成，试穿时她才悲催地发现毛衣小了一圈，即使穿上也像猪八戒中了三个菩萨的套索似的。 我被勒得喘不过气，非常无助地看着她，她却气呼呼地拍我的肚子，说：“都怪你！养这么胖！浪费我的心血！” 为了穿上她这件开山之作，我决定努力减肥，当我觉得自己可以穿上那件毛衣，却又错过穿毛衣的季节。再后来，那件毛衣也找不着了，如今，那个为傻逼织毛衣的女孩也不见了。<br>大乔在镇江工作，而子石在宁波，有一次他们俩一起来南京玩，我们四人一起去吃傣妹。聊天时大乔说漏嘴了，说到当年他们俩和我打赌的事情，凌一尧的脸色顿时一沉，问我：“你追我就只是因为一个赌？” 我吓得脸都白了，因为我记得一些影视剧里这样的事情会导致女生彻底翻脸，大乔和子石也愣住了。 但凌一尧马上又笑起来，对大乔和子石说：“那你们俩说话算数，什么时候裸奔？”<br>子石赶紧辩解说：“等你们俩结婚了，我们就在婚礼上裸奔，好吧？” “行。”凌一尧愉快地答应。 我觉得非常欣慰，我们家尧尧是一个开得起玩笑的好孩子，但晚上回到家里，她终于收起笑脸，要我好好解释一下那个赌到底什么意思———原来她只是不想在别人面前丢我的面子，但该清算的账一个都跑不掉。 我很遗憾当时没有趁机要大乔和子石兑现诺言，现在他们再也不需要裸奔了。<br>有时我觉得凌一尧挺难揣摩的，还是一次情人节的早上，我们在南京地铁站外面看到一个男人捧着一束花向一个女孩单膝下跪，当众表达爱意。凌一尧一脸艳羡地旁观着，一口气一直提着，直到围观结束才舒畅地吐出来，啧啧地回味无穷。她看得太认真，以至于不知不觉地将嘴里的豆浆吸管咬扁了，有点郁闷，我只得去便利店买了一瓶爽歪歪，因为可以拿吸管。 我以为她喜欢这种浪漫的玩意儿，于是下午下班后也买了一束花，准备找个地方让她开心一下，不料见面后我刚把花拿出来，她吓得赶紧往旁边走，低声说：“快收起来，丢人死了！” 我有些受挫，垂头丧气地跟她一起回家，不料关门以后她一边埋怨我乱花钱，一边得瑟地把花夺过去闻了又闻，喜悦之情溢于言表。我问她为什么看别人送花表白时那么开心，她说：“喜欢看戏又不等于喜欢演戏，被人围观的时候好难为情啊，像个白痴似的。” “那我们结婚的时候怎么办？那么多人围观。。。”我问。 凌一尧想了想，居然露出紧张的神色：“是啊，还真是一道坎儿，我现在就得开始做心理准备了。”<br>凌一尧读研三的时候，她家里开始给她介绍对象，反复几次之后她终于交代说自己已经有男朋友，而且交往很久了。她家问我的具体状况，凌一尧怕被反对，于是给我虚报一些内容，尤其在收入方面，她说我的职务是部门经理，月薪八千，但事实上，但是我当时只有三千五。 “你家很在乎这个吗？”我非常脑残地问。 凌一尧白了我一眼：“在乎了又怎么样？难道现在还不是时候？” 我当时有种尊严遭到践踏，尤其是她虚报我的收入状况，觉得她瞧不起我当时的经济状况，于是自个儿生了闷气。但凌一尧也被她家里催得紧，加上做课题和找工作的压力，她的心情也非常糟糕，于是和我第一次吵开了。 我们彼此说了很伤对方的话，她说我没出息不长进，我叫她去找个小老板，不用跟着我受穷罪。最后，她气得躲在阳台上哭。我坐在房间里，看着她用了一年多的旧包，空空如也的梳妆台，还有那只我送给她的，使用两年仍然干干净净的手机，突然心酸得疼。 我走到阳台，把她拥在怀里，说了一声对不起。她没有顺从，也没有抗拒，只是望着眼前这个城市的一隅，目光里满是迷茫。我渐渐意识到，这已经不是无忧无虑的高中，也不是温饱与快乐即可安生的大学，我若是化不开她的忧虑，兴许可能永远地失去她。<br>凌一尧即将毕业时，我离开南京，因为朋友喊我一起出去闯，去海边干一个很大的围海工程。他描述了一幅美妙的蓝图，一起合伙搞土方，我在测量和预算方面有些经验，他信得过。 我当时觉得这是一个千载难逢的机会，尚未与凌一尧商量便一口答应下来，我要向她证明我不是一个安于现状的窝囊废，我终究要闯出一片天地。她知道以后非常生气，但我意已决，她也不好作出过多阻拦。她给我打包行李，又一直把我送上长途车，她没有哭，但车子开动时她站在卷起的尘土里，额发在风中飘动，抬手轻轻一挥，我整颗心都猛地沉了下去。我得有多铁石心肠，才会踏上一条离你越来越远的路呀？每当我醉了酒，天旋地晕的时候，我都会想起无数个凌一尧。 那个穿着校服扎着马尾辫，清秀又稚气的凌一尧；那个在昏暗路灯下偷偷塞字条给我的凌一尧；那个一接吻就会忍不住闭上双眼的凌一尧；那个睡到半夜突然抱住我的胳膊说“我爱你”的凌一尧。但唯有那个站在黄昏余晖中无奈地目送我远去的凌一尧，最让我寝食难安，甚至哪天让我死不瞑目。<br>海边的气候非常恶劣，紫外线强度高，而且海风像刀子一样，脚下的土地踩十秒就能踩出一个吃人的陷阱。除此以外，我们住在活动板房里，而工人们直接搭了简易窝棚，而且每一滴淡水都是稀缺资源，尽管我们面对着整片大海。 我们先请承建单位吃饭，穿得体面的都是 X 总，稍微邋遢的都是 X 工。这帮人都不是善类，他们在酒桌上的目标不是吃饭，也不是谈事，而是要把对方往死里灌，这也是朋友带我过来的原因———扛酒是我的技能之一。 这一喝，便是一顿接一顿，有时上顿的酒还没醒，下一顿的酒又开始了。 那天为了报价的事情，我们又请客吃饭，觥筹交错的时候凌一尧突然打电话来，说：“我肚子疼得厉害。”<br>“怎么了，来那个了？”我问。<br>“不是，就是疼。”<br>“是不是着凉了？要不要去医院看一下？”除了这些废话，我还能说些什么呢。<br>“你在干什么？”<br>“我在喝酒呢。”<br>凌一尧无奈地苦笑，说：“喝酒？那你继续喝吧。”然后她挂了电话，我再回拨过去，已经没人接听。此时，里面的人在喊我主持那圈酒的喝法，我只得回到包厢，然后又是喝醉。坐车回海边，一路停了四次下来呕吐，吐得魂都要丢了，却还要逞强大骂这种酱香型的酒太他妈不适应了。第二天酒醒以后，我才依稀想起凌一尧说肚子疼的事情，赶紧打电话过去慰问。她说她夜里吃了止疼片，迷迷糊糊一会儿醒一会儿睡，直到天亮才眯了一会儿。这就是恋人分离的痛苦，你不知道她有多需要你，而她不知道你有多心疼她，两个人都在各自的世界以为自己是被遗忘的那个人。大多数的矛盾都是在这种分离中诞生，若是近在咫尺，天大的矛盾，一个拥抱即可化解。“我离开这段时间你还适应吗？”我问。 她沉默片刻，说：“还好，快习惯了。就是一看见你的拖鞋，枕头，牙刷和杯子，都有些失落。以前打扫房间时在床垫底下找到你的臭袜子都会骂你，现在找不到了，却更加难过。”<br>那个围海工程相当艰苦，与大海斗智斗勇，一边铺路一边通车，潮水一来就得逃命，潮水一退就得抢工期，有时昼潮夜汐冲得猛烈，几天的血汗都白费了。那间房子的租期快到了，房东要一次交满一个季度，而我和凌一尧的八万块共同定期存款还有一个多月。她舍不得放弃利息，问我有没有现金，可我身无分文。刚好有一个堤坝等待合拢，若是潮水来了，豁口会被冲开，而抢堵的时间很有限。业主方为了避免大的损失，许诺谁去把这事操作了，可以现场支付劳务费以及机械台班费，双倍。其实这事的危险并不大，只不过潮水将至，上机操作的人会被困在堤坝上，直到潮水退去。我和另一个小伙子约好一起上了，两个人，两台大型挖掘机。一个多小时左右，豁口堵住了，我想回到岸上，但指挥部不允许，要我们呆在挖掘机上。果然，二十分钟后，潮水铺天盖地漫上来了，把黑色的编织袋堤坝淹没了，刚好把挖掘机的履带淹没一半。我四周都是茫茫的海水，海风卷着浪水往驾驶舱打，像下雨一样。没有方向感，恶心，眩晕。期间，凌一尧发短信问我在干什么，我没敢告诉她我在海水中央，我说外面在下雨，我在打牌。她说:“你不是一向不喜欢打牌吗？”<br>我说:“玩玩嘛，闲着。”她有点不高兴:“你不要沾惹那些坏习惯。”整整三个小时，潮水才渐渐退下去，我回到指挥部已经反胃得不想吃饭。拿到业主给的两千元现金，我直接开着一辆破摩托车赶往十五公里外的小镇，把钱打了过去。“我把钱打给你了。”我打电话说。“你前天不说没钱么？借的？”我说“是啊”她切地一声，说“你才不会向别人借钱呢，你不会是打牌赢来的吧？”我楞了一下，然后笑:“哈哈，被你发现了。”<br>凌一尧是一个十足的守财奴，即便她不缺钱，也不舍得在享受消费上花费过多。相处那么多年，她惦记过的名牌东西少之又少，我几乎可以数得过来。她曾经眼巴巴地惦记 IPONE4，我打算给她买一部，但她嫌贵不肯要，最后买了一个 IPOD。她一手举着 IPOD，一手举着那只被时代甩得老远的夏普翻盖，说：“这两个加起来，就是 IPONE 啦，分工还很明确呢！”<br>　　我问她：“你干嘛那么节省？”<br>　　她说：“怕把你花穷了，以后娶不起我。”<br>　　我又逗她：“如果以后咱们俩不在一起，你不是亏大了吗？”<br>　　她一边鼓捣着 IPOD，一边随口答道：“那更不能乱花了，万一别的女孩大手大脚的，你更娶不起了。我得给你攒着，不能让你打光棍。”<br>　　她当时只顾着玩游戏，没有多想，可是晚上睡觉睡到半夜，她突然一下子坐起来，把我吓了一跳。我问她：“你怎么了？”<br>　　她说：“刚才做梦，梦见你白天和我说的话，你为什么说以后咱们俩不在一起？”<br>　　我无奈地解释：“我就随口说说而已。”<br>　　她把被子往旁边一扯，睡到床的边缘，背对着我，嘀咕道：“以后不许说了，提都不能提。”<br>凌一尧从未到过海边，她印象中的海滨是蓝天白云软沙滩，海水哗哗地舔脚丫，但我这里是黄海，海水像咖啡一样浑浊，海风达到六七级是起步价。她毕业时曾经想来这里看我，但我没有让她来，只是说我一闲下来就争取回去找她。 我怕破坏她对大海的憧憬，怕她嫌弃我十天半个月不洗澡的邋遢，怕她心疼我的嘴巴因水土不服而长出一圈血痂。这里连一个女性专用的卫生间都没有。她到处找工作，尽管姿态摆得很低，却还是屡屡碰壁。有的单位觉得她的学历过高，生怕她呆得不长久，于是不录用；有的则完全将她视为一个普通的劳力，开出的待遇很低；甚至有人觊觎她的年轻漂亮，作出一些暗示。 而那段时间，我们正在和当地的一拨人开仗，他们带来几辆渣土车堵路，要包揽这里的活儿，叫我们让出便道工程。若是在城市里碰到这种飞扬跋扈的人，我兴许会躲得远远的，宁可吃一点亏也不去招惹，但这次不一样。我要生活，我赚钱，我要像野狗一样咬死所有抢我饭碗的同类。 那场架的参与者大概有四十多人，我们这边是一帮来自天南地北的年轻人，而对面都是当地的流氓。我们这边的人大都是老实的工人和斯文的技术员，要么不会打架，要么下不去手，非常吃亏。我遭到围殴，后脑被狠狠捶了几拳，整个人都懵了，拎起一块木方就挥舞，完全处于混乱状态。 那个和我一起守堤坝的小伙子被打急了，他满脸鲜血，一边吼着，一边爬上一台轮式挖掘机。油门一加，斗子的钢齿直接拍扁一辆渣土车的驾驶室，这样一个疯狂的举动，终于镇住那帮地痞，也保住我们的便道工程。 事后我才发现，我左手疼得厉害，端不起饭碗。我朋友送我去医院拍片子，虎口骨折并且肌腱撕裂。原本这事我们可以报警，让对方赔偿，甚至以故意伤害罪起诉，但是一旦如此，那个开挖机的小伙子也可能逃不脱干系。<br>老板说：“这事就算了吧，医药费我们自己付。” 而左手虎口的伤，虽然差不多治愈了，最终还是留下终生的缺陷，大拇指的反应非常迟钝，握拳执物时总是非常别扭。老板叫我不要去鉴定伤残，直接承诺补贴我五万元，有时，我们对于这个社会而言只是一个小小的工蚁，随时可以是一个牺牲品。凌一尧知道以后在电话里哭，叫我赶快回南京，但我没有听她的，固执地留了下来。我叫她再等我一段时间，只要工程结束，我拿了工资分红和伤残补贴金，就完全有能力娶她回家了。<br>凌一尧向来是一个非常隐忍的女孩，如果不是沉重得让她无法承受的坏情绪，她都不会轻易向我宣泄，顶多闹一闹小脾气就过去了。她终于找到一份算得上满意的工作，每天一个人上班下班，一个人吃饭睡觉。我从镇上搞来一个无线上网卡，夜晚闲下来时会开车开到一个搜得到信号的堤坝上，和她视频一会儿。她每次都会像约会似的认真对待，梳洗化妆，连小房间都收拾得干干净净。由于摄像头和屏幕是两回事，我们轮流看着着镜头，好让对方可以感受被“深情凝望”的滋味。有时我会说：“尧尧，我想要你了。”她说：“来吧。” 然后我们互相抖窗口，这就是相隔数百公里的性爱。有一天，她加班到十点多，往回走时遭到一个变态男人的尾随，无论走得多快，对方都紧随不舍。情急之下，柔弱的她向路边一辆车子求助，司机帮她用远光灯照那个变态，并且大声叱问，那个变态才落荒而逃。 尽管安全脱险，但凌一尧受到很大的惊吓，一整夜都没敢睡觉，她打电话与我吵架，问我到底回不回去。我给出的答案与以往一样，做完这个工程至少能带十七八万回去，只要干完就立即回去。但她不依不饶，两人开始争吵起来。 最后她说了一句狠话：“我今天要是被人强奸了，你带一百万回来又能怎么样？你口口声声说赚钱是为了娶我，我看你是为了你自己，这样的恋爱谈了还有什么用，有你没你都一样，不如分掉算了。” 那天我陷进淤泥潭里差点丢了小命，被人救援上来腰部以下几乎麻木，从小到大从未受过那样的罪，本来就满腹的委屈，被她这样一说，我也忍不住光火了：“分就分！嫌我没出息的是你，现在埋怨我不在身边的又是你，你以为我想背井离乡在这个鬼地方卖命？既然这样，你去找一个富二代好了，不愁没钱花还天天陪着你，只要拔一根毛就能把你娶走！” 她听我这样一吼，顿时被呛住了，电话那头沉默许久以后她才低声地说：“吕钦扬，你以前不是说过么？我是你辛辛苦苦追来的，几千双眼睛见证的。。。” 她说到这里就说不下去了，带着哭腔挂了电话。 而我一下子醒悟过来———高中毕业的那个暑假，我曾经说过，“你是我辛辛苦苦追来的，几千双眼睛见证的，以后只有你甩我，没有我甩你。即使你哪天说了分手，我也不会答应。” 原来她一直都记在心里。<br>当我年底离开海边，那场异地恋已经持续长达九个多月。这九个月里，我们一个在风急浪高的海边，一个在节奏匆忙的城市，过着完全迥异的生活。我提着行李包从车站里走出来，城市的喧嚣让我觉得无所适从，就像一个流放雪山多年的野人。 一看见我，凌一尧的眼圈就红了，她扑上来一把抱住我的时候，周围的人都在好奇地看着，仿佛我们是偶像剧的男女主角。当我走过一面镜子，无意中往里瞥了一眼，这才明白到底怎么回事———我穿着一件我自以为还算干净的军大衣，面部被海风和紫外线弄得又黑又粗糙，头发不自然地翘着，仅仅在路上耽误两天就长出青色的胡渣，完全是一个年轻农民工的形象。而我身边的凌一尧，衣着细致，身材窈窕，化着几乎看不出来的裸妆，完全是一个漂亮得让人忍不住多看几眼的都市女孩。不知道怎么的，她挽我胳膊时，我不自觉地往旁边避让，总是不习惯这样的亲昵。她很快感受到我的疏远，也不再勉强，打车时我们坐在后排，每人坐一边，互相不说话。她带我去买衣服，然后一起去宾馆开房，我洗澡时她帮我搓背，两人赤裸相对时我才告诉她，刚才我突然涌起一阵自卑感。凌一尧努力地搓我身上的尘垢，摸到我后背那条不慎被钢钎剌出来的狰狞伤疤，她用手指轻轻触碰着，许久都没有说话。“早知道是这样，死也不会让你去那里。”她说。我却非常希望她看到我的成就，我洋洋得意地告诉她，我已经和那个公司的领导处得很好，年后可能要被派去乌鲁木齐负责一个项目，年薪十五万。然后我自顾自地描述一个美好的未来，要考一级建造师，要赚更多的钱，要积累更多的经验和人脉，以后还要自己拉工程队单干。但凌一尧对此并不感兴趣，而她是我唯一在乎的听众。那天我们做爱了，我不记得久别重逢时的具体细节，只记得她突然狠狠地咬住我的肩膀，像被夺食的猫一样死死地咬住。我疼得连头皮都麻了，却没有反抗，我知道她心里堵着许多情绪不知如何表达。那两排细细的齿痕至今未消，一直烙在我的左肩，有时我怀疑它是一个诅咒，如影随行，一直延续到我彻底忘记她的那天。<br>不知道为什么，以往二十五六年，我一向是文艺小青年，但在海边呆了大半年以后，我突然怎么也变不回来了。即便我穿着体面的衣裳，做了好的发型，但几天以后衣裳皱巴巴了，发型也乱糟糟了。我觉得自己像一张被烫皱的透明糖纸，再也熨不平了。最让我无法接受的是，回到正常的人类文明社会，我才发现自己的肤色与周围的同龄人明显区分开来。为了恢复原先的肤色，我买了各种牌子的美白护肤品，每天早晨中午和晚上都要用一遍，甚至在堂妹的指导下学习使用面膜。可是，海边滩涂的紫外线辐射比城市高出数倍，咸海风侵袭下的肌肤就像风腊肉一样，那些措施几乎不起一点作用。我之所以那么焦躁，是因为她的父母又在给她介绍对象，我年底必须去拜会一趟，让他们认可我这个女婿。当我把内心的忧虑告诉凌一尧，她毫不在乎地安慰道：“没事的呀，我就说你是为了养我才去闯的，他们不会为难你的。”她这样一说，我才稍微安心下来，但事实证明，我此生做的最失败的事情，就是将那么重要的拜会搞砸。<br>大年二十七夜，我拎着几瓶天之蓝登门拜访，虽然她父母很热情，但我总觉得那更多是一种客套。吃饭时她爸爸问到我的学历，职业，以及家庭，我敢肯定这些问题他已经在凌一尧面前问一遍，只是想要我亲口重新给一次答案。这种技巧性的拷问让我非常不自在，但还是毕恭毕敬地回答：我大专毕业，现在做工程，家离市区还有十几公里，父母都是种植花木的农民。她爸爸说做工程赚钱，现在农村人日子过得挺好，她妈妈一直没有表态，只是叫我喝酒吃菜。酒一喝多，我就觉得自己的口风有点把不严了，于是忍住少开口，而她妈妈这个时候提及我这有碍观瞻的肤色。我的心里堵得慌，满是委屈，又不敢反驳，生怕酒劲之下言多必失。凌一尧跑回房间，拿来我以前的照片，解释说我以前不是这个样子，她爸爸则打圆场说年轻人不怕吃苦很难得，又不是天生黝黑。那原本只是一次不太完美的拜会，但下楼的时候，遇到的一件事情让这次拜会变得非常糟糕。我离开时他们送我到楼下，刚好小区里有邻居远远地打招呼，她父母都一起过去握手闲聊，凌一尧和我在原地聊天。但她妈妈很快也把凌一尧招呼过去，向对方介绍这是自家闺女，研究生毕业，在哪里哪里工作。这个时候我才发现，邻居那边有一个年轻的小伙子，皮肤白皙，一身的书生气。凌一尧在父母的指引下叫伯伯，叫婶婶，接受夸奖时礼貌地笑，不时地回头望我一眼。我看着一辆电动车后视镜里的自己，皮肤黝黑，加上酒后的模样，完全不是我自己能接受的模样。我在那里傻傻地站着，不知道该怎么办才好，最后我还是带着一身酒气，沿着墙角自个儿晃了出去。<br>凌一尧打电话来的时候，我已经坐在出租车里往回走，她问我为什么不辞而别，我呵呵地冷笑。我不敢对她父母表达内心的不满，只能把气撒在她的身上，我故意用冷漠的态度让她内疚，让她知道我不是没有尊严。可我偏偏忘了，那个愿意一边抹眼泪一边默默被我肆意伤害的凌一尧，正是那个唯一在乎我情绪的人。别人都只在意我飞得有多高，飞得有多远，只有她在意我飞得累不累，也只有她希望我停下来歇一歇。可惜，我这样一个贱人，最擅长的就是伤害身边最亲近的人。</p><p>尽管豆瓣有许多人相信星座之说，但我还是坦言，我对此丝毫不信，无法理解为什么可以用出生月份来判断复杂的人与事。但与星座学说相比，我更讨厌别人拿生肖说事，因为网络上的星座学通常是不伤人的马后炮，而生肖说则经常成为棒打鸳鸯的帮凶。同样是出生于虎年与龙年，成人之美者会说这叫龙盘虎踞，而掘坟毁婚者则说这叫龙虎相斗，有人向凌一尧灌输第二种说法。凌一尧当然不会相信这样的无稽之谈，但她妈妈非常固执地将它视为我与凌一尧不合适的理论依据之一。那个时间，刚好我与凌一尧相处得颇为不融洽，彼此明明没有一点恶意，但不知道中了什么邪，说着说着就因为一点措辞之类的小事吵得不可开交。她总是责怪我脾气太犟，而我总是埋怨她当初没有提前公开我的存在，最后不欢而散，一次又一次地验证“龙虎相斗”的说法，尽管之前的八九年都相处得那么愉快。2012 年大年初四，我去市区时打电话给她，她说在寺庙里上敬年香，要傍晚才能回去。可我真的很想她，打算当面向她道歉，化解目前我们两人之间的矛盾呢，于是守在她家楼下的凉亭里等候着。等了三个多小时，我终于看见她回来了，但坐的是别人的车，开车的就是上次那个书生气十足的男人.车子是本田歌诗图，即便我耗尽当时的积蓄也未必能够拥有.他们两个人一起下车，凌一尧似乎情绪很好，而那个男的也笑着，手里咣咣地掂着车钥匙。他们一起上楼，凌一尧家所在的那栋楼。我本来打算将她喊住，但直到他们的脚步从楼道里消失，我都没有开得了口。<br>那种失魂落魄的感觉，简直每分每秒都试图置人于死地，每一次心跳都像锤子在胸口猛敲，我难过得恨不得直接往马路躺下来，谁把我撞死谁就是我大爷。我与凌一尧恋爱的初期，我们都小心翼翼地经营着，有时也会因为一点小事儿生闷气，无端吃醋，生怕人生第一场恋爱夭折。但时间一久，慢慢磨合着，彼此之间竟然如同家人般相互依偎，从不敢想过旧人换新欢，从未想过分离的一天。</p><p>但这一天终于还是来了。<br>尽管凌一尧说那是长辈们的安排，她个人从未认同，一口咬定我是在无理取闹，但我问她那天为什么和别人一起去敬年香，为什么不直接去拜堂算了，她一下子愣住了，然后说：“你不相信我？” 我想说我当然相信她，但我只是无法忍受她与别人像情侣一样在人前出入，更不能忍受当整个世界都对我发动围剿暗算，而我认为绝不相负的那个人却站在战场的另一边。我的所有姿态，尊严和自信，都一下子垮了，就像《悟空传》里那只猴子一样，被刀劈斧砍雷劈火烧之后只剩一副躯壳屹立不死，但紫霞仙子的一句话，便让那双眼睛再也失去神色。 元宵节之前，她父亲忽然打电话给我，约我单独见一次面。</p><p>她的父亲约我在一家茶座见面，我并不知道他要聊什么，但还是努力做了准备，争取让他明白我对凌一尧的感情。<br>但我坐到他面前，才发现我根本没有为自己辩护和自荐的机会，她父亲几句话就将我堵得死死的。他说:“这段时间我虽然没有过问你们的事情，但我也看得出来，你和尧尧处得不好，她经常躲在房间里哭，不吃饭，两个人连相处都不好，还怎么一起生活？”他又说:“我选这个位置，就是想让你看看这个路口，今天还算天气不错，但雨雪天呢？严寒酷暑天呢？别的女孩坐在车子里打着空调，我们家尧尧坐在你摩托车上淋雨顶风晒太阳吃尾气？我们不是势利也不是物质，只是希望她过得好。”我终于抢话说:“我不会让她受穷，我会去赚钱，我已经有二十多万了，以后我也可以让她过上好日子！”她爸爸呵呵笑了一声，说:“以后？你没有权力要求别人等你一个空头支票啊。”<br>而后，她爸爸还说了其他一些东西，譬如我和她站在一起就没有夫妻相，她母亲也不希望凌一尧嫁给一个包工头。<br>但我已经无力听下去了，脑子里只是想着大二那年我们一起去周庄玩，吃饭时旁边一个话唠老太和我们搭话，啧啧地赞叹我们是金童玉女，以后生出来的小宝宝一定也很漂亮。当时凌一尧红着脸一直笑，而我闲得无聊与老太太扯，老太最后一拍大腿去择菜去了。当时我心口压抑得难受，担心自己一个黝黑的爷们儿当众哭出来，站起来不服气地对他拱了拱手，转身去前台结账走人。我当时心口堵得慌，胸口压着一块巨石，像一条狼狈的狗一样微微张着嘴巴，呼吸困难且短促。</p><p>那段时间，凌一尧的日子也不好过。她明确拒绝他人的安排与介绍，每天不洗漱打扮，更不出门，用这样的方式向我证明自己的立场。为此，她与母亲发生激烈的争吵，闹得左邻右舍都议论纷纷，她母亲患有支气管炎，春节还没结束就住院了。但我又能怎么办？虽然她父亲还没说完，我就起身离开了，但我明白他此行的目的绝不是对我羞辱或是嘲讽，而是要我与凌一尧停止交往。我过得黑白颠倒，不知道自己为谁而活，活着到底有什么意义，脾气变得极其暴躁。早在 2008 年，我妈妈就已经见过凌一尧，她知道我遭遇怎样的事情，几次自责自己没本事，没有为我积累财富。我没有安慰她，也没有责怪她，只是一个人独自发呆。我把所有罪责都归结到自己是一个穷小子的原因上，也是从那段日子开始，我对金钱产生无比执着的痛恨，以及无比狂热的向往。刚好朋友打电话过来，约我一起去乌鲁木齐参与一个太阳能发电站的工程，但需要提前垫资。我几乎没有犹豫，一口答应下来，决定把我和我父母所有的积蓄一起带上，孤注一掷。事到如今，我已经没有什么好畏缩的，我连凌一尧都输了，还有什么输不起的？大不了哪天形影相吊，身无分文，找一个安静的地方了结这条可笑可悲可怜可耻的贱命。临行之前，凌一尧打电话过来，她说：“吕钦扬，我们分手吧。”只是简单一句话，不由我分说，她便直接挂了电话。不知道为什么，我心里竟然一点痛楚的感觉都没有，麻木得就像一块死肉，直到许久之后手机再次震动，我才醒悟过来。凌一尧在短信说：“刚才免提说给我妈听的，你不要当真。你今天去订票，我们一起回南京。”我一下子精神起来，回复说：“要什么时候的票？”“明天中午，好吗？”她像在哀求我。我当即开摩托车赶去车站，一路狂飙七八十码，订了第二天中午 11 点 20 分去南京的长途车票。当时我的内心掺杂着各种情绪，疑虑，自责，兴奋，欣慰，以及被全世界围剿时与她一同突围的悲壮。</p><p>第二天上午十点我就在车站外面等候着，手里捏着两张车票，既期待又忐忑，就像守在高墙外即将与主公家千金私奔的狗奴才。</p><p>凌一尧一开始还低声和我打了电话，说等会儿就出来，但两个短信之后，便再也没有动静。我有些焦急，但又怕在不恰当的时刻打不恰当的电话，于是耐心地继续等。11 点 20 分过去了，车子发动了，她还是没有出现，我捏着两张过期车票傻傻地站在那个空空的检票口。大约十一点半，她终于发来短信，说:“你直接来南京，我已经在路上了。”我不知道发生什么事情，猜想今天的她一定处境混乱，于是顾不上多问，赶紧重新买了最近一班的票。<br>我颠簸一个下午，到达凌一尧那里已经快到下午七点。我们避开那些不愉快的话题，就像以前一样一起拥抱，亲吻，然后去外面吃饭。那是我第一次请她吃西餐，也是我第一次吃西餐。当厨师把牛排端上来，说他要揭盖子了，而我木然地看着他，不知道他揭盖子与我有什么关系。凌一尧解围说:“先帮我揭吧。”她把红色的餐巾挡在面前，厨师揭开盖子，油星点四溅，被餐巾挡住。我当时才想起来，这步骤我以前是知道的，只不过在外面呆久了，早已忘记。那厨师望了我一眼，又看了凌一尧一眼，虽然面无表情，一句话都没讲，但不知道怎么了，我就是莫名其妙地多想了。晚上我住在她那里，那个我们曾经一同经营的小家。与以前一样，我们一起打扫整个寒假都没人住的房间，一起铺床套被子，然后轮流洗澡，最后在床上拥吻做爱。那天我有些蛮横地占有她的身体，她似乎感受到我的情绪，一直咬着嘴唇默默承受着，但我准备退出去戴套时她却搂住我的脖子，说:“就在里面！”我问:“安全期吗？”她低声地说:“不是。”我看着她的眼睛，她目光坚定，她的手指紧紧地抓着我的肩膀，指甲嵌入肌肤，仿佛已经决定破釜沉舟，再也不回头。</p><p>那天晚上十一点多，我们都没有睡着，在被窝里牵着手，讨论以后的安排。我说我想去乌鲁木齐一趟，大约五个月的工期，只要赚到这笔钱，我就可以大大方方站在她的父母面前，用事实证明我可以让凌一尧过得好。凌一尧听说我将全家所有积蓄都搬出来拼，建议我不要去冒险，希望我在南京找一份工作。我问道：“如果我不去赌一把，守着一份少得可怜的工资，你父母永远不会瞧得起我。” 她说：“万一输了怎么办？” 我一下子被问住了，因为我当时对金钱财富充满狂热，就像一只饿极的猴子，敢于去抓万丈悬崖边的一只野果。我没有回答她，只是把她拥在怀里，把脸埋在她柔顺的长发里呼吸，一阵恐惧涌入心底。 我赌输了怎么办？ 兴许我会一死了之，把这具臭皮囊丢在新疆的戈壁滩上喂野狗吧。 正是在这个时候，她母亲打电话过来，凌一尧打开台灯，忐忑不安地接听，那头的声音也被我听得分明。她母亲询问她有没有安顿好，晚饭在哪里吃的，什么时候上班，最后才兴冲冲地说：“罗 XX 这孩子真不错，今天特意把你送到南京，回来时还给我带了南京的盐水鸭，真是很勤快。” 凌一尧很尴尬地看我一眼，敷衍道：“哦。” 然后她妈妈又说：“你和那个吕钦扬分了就分了，不要再有来往，纠缠不清的惹闲话。这个罗 XX 条件不错，又是知根知底的，你们俩再处处，平时多打打电话，或者上网聊聊，总会处出感情的。” 凌一尧只是嗯嗯地应着，不敢抬头看我了。电话挂断之后，凌一尧翻身过来抱住我，在我胸口蹭来蹭去，叫我不要介意，她只是敷衍一下而已。我的心情就是非常沮丧，甚至觉得躺在这张床上是一件很不道德的事情，我说：“你现在怎么有那么多事瞒着我？” 凌一尧说：“你以为我愿意藏那么多事？我妈问我有没车票，我说没有，她就叫罗 XX 送我了，我不告诉你是怕你多想，不肯来南京找我。” 可我那可悲的自尊心又开始作祟，脑子里老是想着她和那个人坐在那辆歌诗图里，而我像一个傻逼似的坐在长途客车上。我没有责怪她的意思，我只是恨自己为什么总是处于下风，为什么那些人非要这样巧取豪夺。 凌一尧又是安慰，又是发誓，甚至不停地挑逗我。以往她惹我生气了，只要这样一挑逗，挠我的痒痒，我便翻身将她扑倒，一场小矛盾便化为乌有。可惜，这次不奏效。她思索片刻，翻身趴到我的胸口，说：“吕钦扬，如果下个月有个人不来找我，我希望你能尽快赶回来，好吗？” 我一下子风声鹤唳地紧张起来，问道：“谁？罗 XX？”她平静地说：“我大姨妈。”我一时没反应过来，她又补充道：“或者我找你去。” 我这时候才反应过来，一把将她拥入怀中，恨不得把她勒得窒息。凌一尧呀凌一尧，我喜欢你喜欢得恨不得为你去死，我想把我赚来的每一分钱都交给你花，我想让你这辈子都不受半点委屈。我不想远走他乡，我不想颠沛流离，我不想每天早晨一睁开眼睛就很失落，不知道你在哪里，心情如何。 我想你啊 爱疯飞饿啊将发往放 PJGFKCFOIAF 哦额坟挖金风科技啊绝非挖掘 啊我佛架飞机哦额外 JPAWFJO AWIJGFAWJI AFGE A FEO KPFWO XIANG NI A A OA AF FAW FA F OF 哈哈复合肥哈额发发火佛 QFA Q 飞饿肌肤 iaf 哈哈哈 爱好哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈啊哈哈哈哈哈哈哈哈哈哈哈哈哈啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊(这里一段乱码 就是原文 估计 LZ 写到这里戳到痛处咯）。</p><p>那天凌一尧送我去车站，但她连候车大厅都没有进得去，两个人在安检口就仓促地分开了。我本来想再回头与她告别，但门口拥堵着太多旅客和工作人员，我们只能隔着长长的通道望着，最后打着手势，两人在玻璃幕墙内外杵着。我们互相听不见对方的声音，只能面对面地打电话，就像囚犯与探监者一般。她说：“我昨天把重要的东西都收拾在包里了，打算今天一直送你到站台，兴许到时候一咬牙就直接跟你一起上车，一起去乌鲁木齐。”听着她这有些孩子气的话，我不禁苦笑一声，问道：“你这是想私奔么？” 她却将脸凑近玻璃，认真地说：“我没有开玩笑，我真想过了，我也做得出来。”我伸出手指在玻璃上刮了一下，就像以往刮她鼻尖一样，检票口通知检票时，我在玻璃上哈气，写了两个反体字：“等我。”我不喜欢南京车站，我讨厌一切为了管理方便而设定的有悖人情的垃圾规定。从南京到乌鲁木齐，一共 41 小时，我睡了又醒，醒了又睡，做着各种各样的梦。其中一个梦最为蹊跷，当时一个列车员推着小车来售卖零食饮料，我刚好迷迷糊糊地睡着，做了一个非常奇怪的梦，梦见自己又回到高三，我和凌一尧迎面走来，她的嘴角洋溢着微微的笑容，我走过去大声地说：“凌一尧，我们以后会在一起，十年，我们以后还要结婚！” 然后凌一尧骂我是流氓，周围的同学都笑，连大乔和子石都笑，我非常生气地告诉他们俩这是真的。不一会儿，姚千岁大老远地跑过来，手里拎着一个棍子，我就没命地跑。按理来说，梦里的人不会跑得快，可我跑得非常快，甚至能感受到头发被风扯得嘶嘶作响。我就那样一直跑着，感觉这辈子都要用来奔跑，我很快乐，我要大声地笑。旁边人的声音陡然提高，我一下子从梦里惊醒，发现那列车员竟然仍然推着车子往这里走，前进距离不超过五米。当时我突然想起一个悲观的故事：黄粱美梦。 我真希望自己这辈子一直活在那个梦里，被姚千岁追赶着，拼命地逃命着，全校学生都在笑着，教学楼阳台和路边都黑压压地站着一大片，就在围观运动会上的三千米长跑。那时候的我还是一个勇敢的少年，而凌一尧也是一个羞涩文静的少女，我们所有的爱情都藏在那一次次擦肩而过，沉默不语的微笑里。<br>新疆的戈壁滩，开春之前的积雪淹没小腿，我戴着银行劫匪般的头罩，裹着又长又厚的军大衣，扛着沉重的仪器，在荒野里深一脚浅一脚地跋涉。海边是湿冷，这里则是干冷，但温度低得出乎我的想象，我的嘴巴不停地开裂。夜里盖着被子时脚上的冻疮痒得难受，只能伸在外面冻一会儿，冻醒了再缩回被窝里暖一会儿，痒醒了才伸出去冻。凌一尧想给我寄冻疮膏，但快递根本不可能送到，我这里太偏僻了，连蔬菜和肉都要从很远的地方拖过来。一拖就拖一卡车，一吃就是大半月。一起在这里混生计的也有与我差不多年龄的，农民工耐得住吃苦，但那些细皮嫩肉的年轻人都熬不住，没呆几天便跑得光光的。幸好我在海边干过大半年，那边的条件比这里好不到哪里，早就习惯了，何况我已经没有退路。过了没多久，凌一尧打电话告诉我，例假来了，孩子没来。她显然有些沮丧，而我说不清自己是什么心情，也不知道自己应该怀有怎样的心情。她家里还是极力试图促成她与罗 XX 在一起，我们之间偶尔还会因一点小矛盾而争吵，我的脑袋像被门板夹过似的，明明知道她与我一起抗争着，可还是忍不住一次又一次通过这种拙劣的方式来向自己证明她没有离我而去。由于工地的 GPS 仪器出了故障，我们不得不利用原始方式定位高度。我背着二十公斤的全站仪，拿着对讲机，跑出很远去寻找被大雪淹没的原始基准点。不料，我走着走着就迷失方向，我以为可以摸回营地，不料最后我连自己的脚印都找不到了，而对讲机那头的那帮人根本无法判断我的方位。这是我以往在海边从未遇到的状况，有种被人类世界抛弃的恐慌，我不敢乱走，叫那些工人赶紧回营地找人救援。但直到晚上九点，夜色已然降临，四周只剩白雪映出的冷光，还是一点进展都没有，对讲机里满是男人们乱哄哄的争吵。我以为自己的小命会丢在这里，只能背朝肆虐的寒风，用大衣裹住身体，拼命维系最后那点体温。我掏出手机给凌一尧打电话，但要么就是信号全无，要么就是无法接通，连他妈的他妈的他妈的他妈的短信都总是他妈的他妈的他妈的他妈的他妈的他妈的发送失败。我平生第一次发现自己是一个胆小鬼，这样怕死，我怕我死了以后父母没人照顾，怕自己无法被及时发现，怕凌一尧见到的是一具面目全非的残骸，更怕自己像狗一样无人问津地曝尸荒野，葬礼上连一个为我哭泣的人都没有。凌一尧啊凌一尧，如果我真的死在这里，请呼唤我的名字，把我的灵魂带回故乡吧。<br>我找了一个地势稍高的土坡，将全站仪加在坡顶，以便尽早被人发现，然后躲在北风面的凹处，能活多久就活多久。我不知道自己能不能熬过去，做好最坏的打算，用冻得几乎失去知觉的手横握着笔杆，借着雪地映出的微光，在施工日志的中页写遗书。我在这里投了多少钱，外面还有谁谁谁欠我钱，我又欠谁谁谁的钱，我的户口还在学校里没拿回来，如此而已。我本来想说对不起父母，早走一步，劝凌一尧不要悲伤，下辈子有缘再见，但我歪歪扭扭地写完那些账目，再也没精力写字了。我蜷缩在那个角落里，脑子里开始胡思乱想，想着我要是即将失去意识，应该用什么样的姿势才显得体面安详一些，不至于狼狈潦倒。有时我觉得这身体已经完全不属于我自己，四肢像木头一样无知无觉，心脏是性命寄生的最后一块阵地。也是在这个时候，我依稀听见上风口传来发动机的声音，还有人高声呼喊，以及雪地里沙沙的脚步声，随后有人从身后的土丘上冲下来，蹲在我旁边一边喊我名字一边拍我的脸。我感觉自己像被人摁在水里，所有的声音都含糊不清，灯光尤为刺眼，看不清他们到底谁是谁，也不知道自己到底算是获救了，还是正在垂死。他们把我抬起来往上一提，我整个人就像飘进太空的一块废料，所有的意识都跟着失重地飘着。他们把我抬进开着空调的车子里，盖上厚被子，让人揉捏我的四肢，不停地呼喊我，叫我保持清醒：“吕工，吕工，吕工……”我恍恍惚惚地就听见一个熟悉的声音：“吕钦扬，吕钦扬……”我一下子坐了起来，拼命地推开那些工人，瞪大眼睛努力地四处观望，发现根本没有凌一尧的身影，又颓然地倒了下去。后来，那些工人和我喝酒时经常拿这事开玩笑，说他们当时被吓了一跳，以为我是回光返照，以为我是听到勾魂小鬼的点名。我一边喝酒一边嘲笑他们的迷信愚昧，哈哈哈哈哈哈哈哈。呵呵。医院离这里太远，我被带回营地以后烤了一会儿的火也就缓过气来，他们便让我躺在床上休息，专门让烧饭的老头子来伺候我。我一觉睡到第二天下午才醒，掀开窗帘看见一轮咸鸭蛋黄般黯淡的红日，凌厉的冷风吹得活动板房的单层玻璃呜呜作响。我喝了热汤，让老头子给我手机充电，然后给凌一尧打电话。 电话一通，她便问我昨天在干嘛的，为什么只打了一声就挂了。 我说我昨天差点丢了命，连遗书都写好了。凌一尧似乎不太相信我的话，她说：“你到底是去工作还是去打仗的，为什么会有生命危险，如果真的那么危险那就回来啊！”面对这样的责问，我不知道如何应答才好，我已经把自己所有的积蓄都投入这场豪赌，怎么可能因一场意外而举手投降。我在这里扛住雨雪风霜，就是为了让她此生都活得安逸，我只希望她此生都不必感受生活的艰辛，哪怕一辈子都无法理解我此时的狂热。随后她告诉我，她父母托人在我们那个城市给她找了一份新工作，待遇相当不错，催她回去工作。她知道，这样的安排无非是让她离罗 XX 更近一些，更好地掌握两人之间的动向，于是她努力地抗争着，一天一天地拖着。她说：“今天我妈妈说了一句话，我哭了好一会儿。”</p><p>我问：“她骂你了？”她说：“不是。她说‘树欲静而风不止，子欲养而亲不待’，叫我不要等她哪天不在了，才后悔现在没有尽孝。”我愣了好一会儿，突然意识到“疏不间亲”，无论我多爱她，我的地步都很难逾越她的父母。这就是我拼死拼活地卖命，恨不得拿把刀坐在市场中央割肉兜售的结局吗？我强忍左胸口的酸痛，问道：“你想回去了？”凌一尧沉默片刻，而后低声说：“我会尽力扛。”尽力扛，只是尽力扛。呵呵。她能够与我一直走到现在，已经是仁至义尽，我没有权力要求她必须永远与我坚持到底，爱情不是靠绑架得来的。我把烧饭的老头子支了出去，然后向她保证我很快就能出头了，我们可以过得非常幸福，可以让所有人都惭愧他们现在的阻挠.我感觉自己当时的口才出奇地好，比以往任何时候都好，用亢奋的状态向她描述一个美好的未来，完全不像一个从鬼门关回来的人。但凌一尧只是安静地听着，缄默得让我一度怀疑她是否还在电话那头，我不得不傻逼兮兮地“喂”“喂”“喂”。她只是微微的叹息一声，说：“可是，我已经很累了呀。”那一瞬间，我感觉自己的天空猛然塌陷一块，自以为永远不会动摇的精神支柱摇摇欲坠，电话另一头那个让我魂牵梦萦的女孩突然变得无比陌生。我可以相信日出西方，相信江水倒流，相信六月飞雪，就是不能相信凌一尧也会决心动摇，也会有打算离我而去的一天。我忽然发现自己在雪地里对死亡的胆怯显得那么可笑，吕钦扬啊吕钦扬，你拼命地熬着忍着撑着盼着等着，终于保住这条下贱卑微的狗命，迎接你的现实就是这个模样么？生亦何欢，死亦何苦，早知道这样，为什么不干脆听从命运的安排，在老天为你选择的那块埋骨地了结此生算了？你怎么不死掉算了？你干嘛不死掉算了！！！！你死掉算了好不好！！！！啊哈哈哈哈哈哈！！！！！！！也是在那一天，我和凌一尧之间的裂纹越来越明显，分道扬镳的日子不期将至。 在戈壁滩的那段日子，我忙得不可开交，要么在施工现场东奔西跑着，要么趴在电灯泡底下看图纸，要么与工人们混在一起喝酒。偶尔闲暇下来，我傻傻地坐在房间里看着床头那个日历，一遍又一遍地推算工程完工验收的日期。另一个工程队的项目部有一台电视机，外接信号锅的，偶尔我会去那里看一会儿电视，特别喜欢看江苏卫视。不是看非诚勿扰，也不是看电视剧，只是想看一下镜头里的街景。有一天，一个专题节目介绍我家乡的特产，我硬是死死地抓住遥控器，将那帮想看抗日连续剧的家伙晾了十几分钟。最让我万分痛苦的是，凌一尧似乎对我越来越冷淡，以往她接电话时都是兴高采烈的，现在却是问：“什么事？”“你至于这样故意伤我么？”我终于不满地问.“我有吗？”“你态度这样冷淡，是不是不愿意接我电话？”她说：“我们总不可能一辈子都像初恋时那样火热吧，总有一天，你接到我的电话时会不耐烦，握我的手时也毫无感觉。”我呵呵地笑：“可能你说得对吧，但那是第几个十年呢？”凌一尧沉默许久才说：“我妈闹我闹得很凶，一闹就犯气管炎，她都要拿断绝母女关系说事儿了，我能怎么办？我以前一直觉得自己过得很好，家庭和睦，爱情美满，学业也很顺利。可是现在呢，家庭，爱情和工作都乱糟糟的，每天夜里都失眠，早上一睁眼又想着怎样把今天熬过去。我真的很累，太累了。” 我从未见过凌一尧这样暴露自己的脆弱，可我不知道如何安慰，因为我自己的心空得像一个深不见底，连回音都没有的峡谷。我很想将她牢牢抓住，可我又觉得自己像在与她的家人打一场拉锯战，每个人都打着爱她的旗号不肯撒手，却从未有人在乎她夹在其中被撕扯得多痛苦。 我说：“既然你这么为难，那就不要勉强了，回去吧。” 凌一尧愣了一下，问道：“这是你说的？” 我深呼吸一口气，努力将泪水咽了回去，说：“我说的。” 电话那头一片沉寂，而后挂断了。此后的很长时间，我们谁都倔强地不肯联系对方，直到有一天南京的房东打电话给我，问我另一把钥匙在哪里，我才知道她已经退掉房子，回家去了。我离开戈壁滩的时候积雪正在消融，我把手里的数据都交给项目部，连同那本撕掉遗书的施工日志，而我带来的垫付资金暂时只能抽走不到一半。一个关系不错的朋友开着破旧的越野车把我送了出去，一路打滑，一路颠簸，一直把我送到火车站。</p><p>从南京到乌鲁木齐，背离朝阳，冲向黄昏，而从乌鲁木齐与之相反。那四十多小时里，我一直稀里糊涂地想着心事，日落时怀疑自己离太阳越来越远是不是一个不详之兆，日出东方时又在期待这是预示我可以拥有走出困境的幸运。我很无助，感觉自己的力量微弱得几乎渺小，只能寄希望于这些毫不相干的启示。我辗转回到那座城市，没有回家，在车站旁边的宾馆住了下来。我洗澡剃须换了干净衣裳，试图逼着自己睡一会儿，好让自己与凌一尧见面时精神状态好一点。可是，我又困又累，却怎么也睡不着，一闭上眼睛就心慌气短，仿佛有人在我耳边敲着锣鼓大声聒噪:“她要离开你了！她要离开你了！”凌一尧知道我回来了，我们约在安定广场见面，面对面站着，她看着我的眼睛，说:“怎么那么多血丝？多久没睡觉了？”我不知道怎么回答，因为我最近一次超过四小时的睡觉就是从戈壁雪地里捡回小命后近乎昏厥的长睡。旁边有很多小孩子穿着旱冰鞋跑来跑去，我们生怕被撞到，于是坐到旁边的长椅上。我告诉她，我每天都很想她，已经把新疆的工程丢下了，不想再离开她了。她皱起眉头，问:“你不是在那里垫资了吗？丢下那里，你以后怎么办？”<br>我有些不高兴:“你希望我回去？”她想了想，低叹道:“我怕你人财两空，不值得。”我顿时不知道怎么说了，不停地揣测她这句话到底什么意思，可我的脑子处于混沌状态，不知道该往哪个方向思考。她随后又说:“前段时间，我和我妈吵了，把她气得犯病，我外婆都打电话过责备我，问我是不是打算闹得家人不相认，以后逢年过节都不想回家团聚，给祖宗磕头。”她抬眼看我的时候，眼泪一下子流出来，委屈地说:“我外公去年去世，今年清明节应该扫墓的，可我躲在南京就是没回来，你难道还不理解我？我小时候是外公外婆带大的，他们都说我忘恩负义，白眼狼。”我一边帮她擦眼泪，一边抚慰道:“我这个工程一结束就有钱了，我去买车，我们去给你外公磕头，挨家挨户拜访你家亲戚，我也可以很孝敬你的长辈。”她推开我的手，自己擦掉眼泪，说:“你忘了吗？我和你已经是地下恋爱了，我和罗 XX 从年初开始就是名义上的交往，我现在已经回不去了啊！我回不去了！”我们回不去了？我迷茫地看着凌一尧那张脸，那张曾经给我温柔也给我力量的面容现在满是悲伤与决绝，这也是十年来我第一次感受到近在咫尺却远在天涯的无奈。我许久才缓过神来，问道:“你要我怎么办？”凌一尧低头沉默一会儿，说:“我很累了，扛不住了，给我自由吧。”我感觉自己像被人狠狠地砸了后脑，眼前一片黑，但还是努力站起来点头说:“好，听你的。”“你会恨我的吧？”她也跟着站起来。我咬住嘴唇尽量让自己不要说话，那么多小孩子在旁边，不要当众丢人，只是张开胳膊把她搂入怀里，狠狠地抱了一下，最后一次嗅了嗅她长发的香味，然后扭头离开那个广场。凌一尧啊凌一尧，我曾经发誓要为之遮蔽风雪，此生疼爱和保护的女孩啊，你才是世界上最强大的人，你拥有轻描淡写一句话就可以将我抽空灵魂放逐天际的神力啊！从今往后，我该往哪里走，该为谁而活，我该怎样面对那么漫长那么漆黑那么毫无意义的人生啊？</p><p>随后的一个礼拜，我过着这辈子最潦倒的日子。我暂时不想回新疆，也不想去找那些熟知凌一尧的好友，但我已经把家里所有的积蓄都砸在项目上了，所以不敢回家见父母。我一直在宾馆里睡着，拉着窗帘，没日没夜地睡，实在饿得受不了，就干啃房间里本来就有的桶装方便面。</p><p>我以为自己呆在这个城市可以做些什么，但事实上我根本无从改变眼前的现实，凌一尧没有再给我发一条短信，打一个电话，我也没有再去联系她。于是，我决定出去走走。</p><p>这几年来，我一直在走，从江苏走到新疆，从荒凉的沿海滩涂走到更荒凉的戈壁滩。但我从未迷失方向，即便走在只知前后左右不知道东南西北的风雪里，我心里也依然竖着一座高高的灯塔，依然有人期待我的归去。可是现在，灯塔的光亮彻底消失，我再也找不到回去的路了。</p><p>我独自回到南京，去找以前那间房子，房东尚未将它租出去，我恳求他让我呆一晚。凌一尧离开时将房子打扫得干干净净，一些被遗弃的生活用品被整整齐齐地摆在角落里，蓝色的毛巾牙刷杯子都是我的，红色的都是她的；床头靠背还贴着当初我从新袜子包装上面撕下来的标签，她总是因此而数落我“幼稚”；台灯罩上有她用唇彩画的卡通脸，咧着嘴，没心没肺地笑着。</p><p>没有被褥，我只能裹着衣服躺在硬床板上，开着电视睡觉。我总是迷迷糊糊地听见她的声音，每次都猛然惊醒，却发现只是电视的声音。我真希望我所经历的只是一个噩梦，真希望我醒来时看见她正在阳台晾晒衣裳，黄昏余晖映出她可爱的身体轮廓，或者她忽然推门进来，手里提着的塑料袋还贴着超市的标签。可是她已经走了，不会再出现了。</p><p>第二天上午，我独自站在镜子前洗漱，将红色和蓝色的牙刷放在一个杯子里，然后带上房门离开。那天我重新踏上前往乌鲁木齐的火车，从此孑然一身，无牵无挂，这个躯体是行尸走肉，这颗心不再属于凌一尧，而这条命我敬老天爷。</p><p>回到戈壁滩，别人问我事情处理得怎样，我嘿嘿地笑着说一切妥当，一副无比幸福的模样。我不是可怜虫，我不需要博取所谓的怜悯，我已经丢了灵魂，但尖牙与利齿还在，我可以参与残酷的争夺。</p><p>我变成工地上脾气最古怪的人，工作时精力充沛，休息时嘻嘻哈哈，但监理都对我敬而远之，因为我一会儿像哈巴狗一样对他们点头哈腰叫爷爷，一会儿像疯狗一样对他们凶相毕露，甚至趁着酒劲追打吹毛求疵的小监理。合伙人经常数落我，却又纵容着我，因为他们不方便与别人翻脸，他们需要我这样的疯狗。</p><p>只是，一闲下来，我就开始发呆。同事开玩笑说，我是“墙角里的一根打狗棒”。</p><p>我们经常会请业主或者质监站之类的人吃饭，我每次都咋咋呼呼，哗众取宠地说着各种庸俗的荤段子，然后拿出同归于尽的架势来喝酒，一杯接一杯地死磕。所有人都夸我海量，年轻有为，前途不可估限，但我知道，酒场和官场都是谎言的集散地。</p><p>我蹲在一望无垠的戈壁滩上吐，然后趴在地上哭，旁边的同事都开心地笑，所有人都知道我酒劲上来就会哭，却没人知道我到底在哭什么。那几个月里，我与她完全没有联系，似乎这辈子都老死不相往来。我在遥远的新疆数着每一次日升月落，期待将她遗忘的那天，可是一旦每次喝得酩酊大醉，每次从噩梦中惊醒，我都会疯狂地想念那个熟悉的名字。</p><p>可是酒醒之后，站至人前，我还得每天强颜欢笑，听别人讲我酒后的失态模样有多么傻逼多么傻逼多么傻逼，然后我和他们一起笑得直抹眼泪。</p><p>那里的生活极其枯燥，业主项目部的司机小廖用 U 盘传给我一些歌曲，我把那些它们一股脑全装进手机里，从凤凰传奇到维塔斯，从摇滚到红歌，我毫不挑选地挨个儿听过去，在空旷的戈壁滩上一边开车一边高声嚎唱。</p><p>唯独有一首歌让我不得不将车子停在路边，捂着胸口，趴在方向盘上缓气———五月天的《你不是真正的快乐》。</p><p>电力企业是一个不差钱的豪门，但不包括 2012 年在建的太阳能发电站，由于欧美对中国光伏产品的反倾销制裁，光伏电站顿时陷入资金泥潭。新疆戈壁滩的气候恶劣，通常四月份才能正常开工，十月底就完全不具备施工条件，我们提前一个月冒着冰雪和低温开工测量放线，终于在十月基本完工。</p><p>此时的业主暴露资金极度短缺的问题，他们的注册资金是会计师操作出来的，而银行又盯着上头的政策，不敢轻易贷款。于是，我们的工程款没了着落，业主方拿资料审核说事，一天一天地拖着不肯验收。</p><p>我带着工人将业主的车子堵在工地不放行，派出所的民警一趟又一趟过来协调，反反复复八趟之后，连派出所都不太愿意来了。最终我们去骗业主里那个稍微老实的负责人，说暂时只要签字验收就行了，今年不会催要拖欠的工程款，他们刚好不堪其扰，不得不把字签了。</p><p>这个社会，老实人都是要吃亏的。签字的第二天，我们的人挤满整个业主项目部的办公室，拍着桌子催要工程款，把那个女文员吓得躲在角落里哭。我拿着一大把小锁，将他们办公室里的抽屉和资料柜都挂了锁，但挂到那个女文员那边的时候，我看见她的抽屉里摆着一只玻璃罐子，里面摆着五颜六色的许愿星，而她的桌角还有许多未完成的折纸。</p><p>我忽然想起来，凌一尧也曾经为我折过这个东西。</p><p>我像一个张牙舞爪的孩子被大人狠狠地扇了一耳光，陡然发现自己失态时的丑陋，我为什么会变成这样？曾经那个善良的温和的喜欢恶作剧从来不忍心伤害别人的吕钦扬哪里去了？这个一脸狰狞拍桌挂锁满口脏话的吕钦扬又是从哪里来的？</p><p>我没有锁那个女文员的抽屉，默默地走出那间拥挤的办公室。</p><p>十一月中旬，大雪封路之前，我提前离开戈壁滩，返回阔别半年的家乡。也是在到家的当天，我踌躇许久后终于鼓起勇气拨通那个熟悉的号码，她听到我的声音一下子愣住了，叫我稍等一会儿，然后跑回房间接听。</p><p>我说：“没想到你这个南京号码还通着。”</p><p>她说：“我每个月只交一点钱维持不停机，可惜一直没人联系这个号，这几天还在想着把这个号停掉算了。”</p><p>我愣了一下：“等我的？”</p><p>她没有说话，不肯定也不否定。</p><p>我说不禁喜出望外，迫不及待地向她展示自己柳暗花明的现状：“我已经回来了，我也赚到钱了，不是穷小子了！你不是喜欢甲壳虫吗？我们去买一辆！还有开一家书店，我们可以去物色店面！我以后除了和你出去旅行，再也不出去逛荡了，我很想你，我每天都很想你……”</p><p>我自言自语似的说了一大堆的话，想狗等待主人筷子上那块骨头一样渴望她点一下头，然后我开着摩托车狂飙过去拥抱她，我的人生从此完美无缺，我每天都要向苍天和大地感恩戴德。</p><p>可惜，凌一尧低声打断道：“我已经订婚了。”</p><p>我一下子愣住了，再也蹦不出一个字，甚至忘记收起脸上因对未来的憧憬而不知不觉地流露出的笑容。订婚了。。。未婚妻。。。妻。。。我难过得忍不住蹲了下来，用拳头抵住胸口狠狠地摁，试图抑制内心如同比万千虫蚁啃噬的痛楚。</p><p>凌一尧啊凌一尧，你真会开玩笑啊，你怎么可能告诉我这样一句话？你还是扎着马尾辫的高中生啊，你不是要跟我一起气死姚千岁吗？你不是说“妻”这个称呼好别扭可是你又很期待成为我的这个字吗？你不是说一想到这个世界终将诞生一个或者两个拥有我们两人血脉的孩子就会觉得神奇又激动吗？</p><p>我不坚强，我不自信，我不要脸，我是一个贱人，我想和一个无赖的孩子一样躺下来蹬腿哭喊，把自己全身弄得满是尘土，你回答我：你！！！！！！为！！！！！什！！！！！么！！！！！！言！！！！！！而！！！！！无！！！！信！！！！！</p><p>这近两个月里，我们依然保持着联系，过得却不是太好。她经常脾气暴躁，无缘无故地对我发火，把我所有的缺点都翻出来说一遍。有些缺点甚至是许多年以前的，我也早就已经克服，不知道是不是在戈壁滩上透支太多精力，我竟然一点都不生气，任由她自说自话地骂着。她连挂电话都没有预兆，没有再见，没有晚安。</p><p>我们仅仅见过一面，在这座小城的电影院里。那场电影的观影厅空荡荡的没几个人，我们没敢坐在一起，她坐在我的左前方，没有回头，而我几乎一直盯着她的侧影。我记得高二时语文老师给她们班代课，叫我帮他去隔壁班架一下投影仪，我一进去就有人起哄，而她低头写作业不敢抬头看我一眼。这一晃，就是十年，那个腼腆的少女即将嫁作他人妇。</p><p>但我们一直没有停止抗争，这两个月里，只是这艘船上载了太多的人，她搬不动船上的巨锚，而我无法阻止港口缓缓升起的闸。那段时间我看很多电影，读很多书，也聆听许多人的建议。有人说，你的痛苦放在人群里简直微不足道，许多人的心里都深埋着那样一段不见天日的回忆，以后她会渐渐地与丈夫相处融洽，而你也会找到另一个女人，你可以不爱她，也可以对她很好，生一个孩子，你们的心思便全在抚养孩子身上了，谁还在乎爱情是什么？</p><p>我相信那个人所说的话，可是我不要那样的人生。我不想一回家就看到一张冷漠的脸，不想在风月场所眯着醉眼牵走一个不知姓名的女孩，只因她依稀有一点尧尧的影子，我更不想哪天躺在床上奄奄一息，身边围了一大群人，但我却感觉万分孤独，只有雪白的天花板上映出那张几乎遗忘的笑脸。</p><p>凌一尧说，这大半年里她再也没有与家人吵过，但也没有再和他们撒娇谈笑过，每天上班下班，吃完饭便礼貌地放下碗筷，安静地返回自己的房间。<br>她曾经问罗 XX:“你觉得你喜欢我吗？”</p><p>罗 XX 说:“挺喜欢的吧。”</p><p>罗 XX 的人品不坏，也很斯文，他生于温室，生活自理能力还停留在少年时代，大小事宜都有自己的主见，最后还是要服从父母的安排。</p><p>就在挑选婚纱的当天，这个帖子开播的前一天，罗 XX 在她家吃饭，她也跟着喝了一点酒，然后笑了。她母亲很高兴，说尧尧今天心情不错，终于见到笑脸了。但她母亲洗碗时，她站在厨房门口说:“妈，我告诉你一件事，我这一年没有一天过得开心，我一想到以后也要这样过，就害怕得想死。”</p><p>她母亲说:“你喝多了吧，月底都快领证了还说这种话？”</p><p>凌一尧回房间给我打电话，笑着告诉我这事，她那天的话特别特别的多，一句话反反复复地说，而我沉默地听。十几分钟以后，她似乎有些自责地叹气，说:“喝多了，平时不会告诉你这些屁事的。”</p><p>然后她又突然无奈地苦笑起来，说:“我妈的反射弧真够长的，现在才开始摔盘子，我出去看看。”</p><p>我说不清这段时间自己到底什么心态，随着月底的临近，我觉得自己的心像烧尽的木炭一样渐渐黯淡。最为迷茫的是，我有时无法确定自己到底希望她婚后过得幸不幸福，许多小说和电影都说过，爱一个人就祝她幸福，可我却无法笃定地祝她幸福？我一度怀疑自己对她的感情是否足够真挚，罪责感充斥内心。</p><p>1 月 23 日那天，凌一尧和她母亲上街购物，恰巧发现一家饰品店的老板是她小学和初中的同学，冒 XX。高考之后的暑假，我和冒 XX 第一次认识，她帮我和凌一尧瞒这段感情瞒了好几年，直到两年前才渐渐失去联系。凌一尧的母亲说：“我们家尧尧初五结婚，伴娘还没定人呢，你要不要一起来玩？”</p><p>冒 XX 问凌一尧：“你和他到现在才结婚？”</p><p>凌一尧说：“不是他。”</p><p>冒 XX 用意外又惊诧的目光看着她，然后当场婉拒，说年初店里忙，走不开。凌一尧当晚打电话给我，呵呵地苦笑，说：“一共邀请了几个高中同学，一个个都说没空，蒋 XX 直接说不想来，她说以后你结婚时请她，她更不想去。”</p><p>蒋 XX 也是凌一尧初中的同学，也是我高中时的同班同学，也就是开头提到的那个学霸妹子，我抄她的作业，骗她的零食，偷翻她的日记，我一直以为她讨厌我。</p><p>凌一尧说：“我跟我妈说，我和你本来可以得到很多人的祝福，现在他们的祝福都快变成诅咒了，连一个捧场的好朋友都没有。我妈这次被我说哭了，但是没再骂我，上次她摔过盘子之后，心情就一直不太好。”</p><p>子石放假从外地回来，我约他出来吃饭，刚好舒缓内心的抑郁，随口问万一抢婚的话他去不去。子石摇头说：“如果他们真的走到那一步了，你就没必要再折腾了，一个乌烟瘴气的婚礼足够让很多人一辈子抬不起头了。不过，不是还有一个星期才领证吗？你再去努力一下，实在改变不了，那就认命吧，这个世界上有太多不如意却还是维系下去的婚姻了。”</p><p>枕边人不是心上人，心上人只是梦中人。我想到凌一尧从今往后便是别人家的贤妻良母，而我也不得不与另一个女人同床异梦地度过下半辈子，两个人此生都不敢将对方的名字念出来，不禁感到一阵胸闷气短。我可以每天逢场作戏地欢笑，当然也可以假装深情地说“我爱你”，这些都不过是作为一个演员的基本素养，但我无法忍受凌一尧躺在另一栋房子的另一张床上的另一个臂弯里，心里默念着我的名字。</p><p>除非凌一尧亲口对我说，她已经放下了。</p><p>我打电话约凌一尧出来，在这座城市一座古园林见面，和上次在电影院里一样，我们刻意保持着距离。一直走到一座高高的小土山，山坡上生长着一片竹林，坡顶有一座小凉亭，她回头看我一眼，我才紧走几步跟了上去。她说：“我讨厌这种偷偷摸摸的滋味，像在做什么不要脸的事情似的。再过几天，所有事情都已经定了，无论你怎么约我，我都不会再出来了。”</p><p>我说：“我也很憋屈，很窝火，我们本来应该光明正大地牵手逛街的，而不是现在这个样子。”</p><p>“你憋屈？呵呵，”凌一尧笑了一声，“以前有一次我和罗 XX 上街买东西，他也牵过我的手，可我觉得更像做贼一样恐慌，害怕你不知道什么时候在什么地方就突然冒出来。”</p><p>听她这样说，我鼓起勇气，恳求道：“既然这样，我们都不要放弃好吗？时间还有，感情还在，我们豁出去拼一下，把这件事情缓下来。我可以去找你爸妈谈，只要是反对我们的人，有一个算一个，我都可以去找他们谈。”</p><p>但她一直不说话，我有些心慌了，问道：“那你现在还想不想和我一起？”</p><p>凌一尧这才抬头看着我的眼睛，说：“想。”</p><p>“那你在犹豫什么？”</p><p>“怕。”</p><p>“怕什么？”</p><p>凌一尧想了一下，说：“怕很多事情，最怕的就是你现在只是不甘心，没有以前那么喜欢我了，如果是这样，我宁愿现在就散了。”</p><p>我没想到她心里竟有这样的疑虑，完全出乎我的意料，一时不知道怎么回答，片刻之后才为自己辩护道：“我们从高中就开始相处，现在已经十年了，你应该最懂我。我很少向你许诺或者发誓，但保证过的就一定会去兑现，我现在非常确定地告诉你，我对你的感情绝不是不甘心。”</p><p>凌一尧点了点头，又问：“那我爸妈和罗 XX 家怎么办？以前我以为你不回来了，又被我妈闹得难受，觉得你不在了，跟谁过都是一样过，就把这事给应了。现在我说不想结婚了，我爸妈肯定不会同意，罗 XX 家也会来闹。”</p><p>我说：“你不要担心，这事我来扛。”</p><p>凌一尧盯着我的眼睛，而后咬着嘴唇认真地点头，一开始见面时的焦躁不安消散得无影无踪，但我的内心却满是愧疚———我们都同样并非完美，性格有各自的弱点，过分的单纯与善良让她举步维艰，而我竟偏执地踏上自以为的英雄之路，留她独自在炎凉世态里苦撑。</p><p>我原本打算先去拜会凌一尧的家人，但思索再三，还是更改主意，打电话约罗 XX 出来谈一谈。约谈地点还是一家音乐茶座，他们二人一同出现的，落座时凌一尧习惯性地坐到我身边。</p><p>我对凌一尧说：“我们两人谈点事情，你先坐到他车里玩一会儿。”</p><p>罗 XX 掏出遥控钥匙递给凌一尧，但凌一尧接过去隔着落地窗摁了一下，又放回桌面上，拎着包出去了。我们一直目送她坐上车，才收回目光打量对方，一时间不知道怎么开口，最后我尴尬地笑道：“有点像给她开家长会，哈？”</p><p>罗 XX 也讪笑一声，但气氛稍微缓和一点。</p><p>我问道：“你和凌一尧相处这么久，觉得开心吗？”</p><p>他说：“还可以吧。”</p><p>“你确定你爱她？”</p><p>罗 XX 犹豫片刻，抹着鼻尖说：“反正蛮喜欢的。”</p><p>我却不客气地说：“你应该也看得出来，这大半年里凌一尧从未开心过，我和她一起走了十年，不得已的分手就像被迫离婚一样痛苦。她心里想着我，但不代表我和你之间谁比谁更优秀，而是我运气好一些，十年前就认识她了。现在我很诚恳地希望得到你的帮助，把领证结婚这事停了吧，你们俩勉强凑合在一起不会过得好。”</p><p>罗 XX 有些不服气：“那你前面这几个月干嘛去了？”</p><p>“我以前做得不对，所以现在来纠正错误。本来这事有很多解决途径，只要尧尧一口咬定不领证不结婚，我带她直接离开这个城市，难道你们还能捆绑着逼婚？之所以与你沟通商量，是希望咱们年轻人私底下把这事解决了，尽量把负面影响降到最小，不要伤害长辈，你看怎么样？”</p><p>罗 XX 保持缄默，手指一直拨弄那把车钥匙。</p><p>我给他添了茶水，说：“你们相处几个月，时间不算短了，但你对她了解多少呢？你每次向别人介绍她，第二句就是她的硕士学位；夏天你老是怂恿她穿得性感一些，可她不是你用来向哥们儿炫耀的宠物啊；还有，你总是不停地草泥马草泥马，并且认为这是时尚用语，不是脏话。这些事情都让她非常反感，可是她为什么不说出来呢？”</p><p>罗 XX 不是笨蛋，他明白我的言外之意，我也适时地停止这种攻击性的责问，将话题岔开，与他谈及我与凌一尧在高中时的趣事。罗 XX 一开始有些抵触，但听着听着，也跟着笑了起来，在他笑容最灿烂的时候，我再次严肃地向他请求道：“兄弟啊，以你的条件，再找一个漂亮女朋友不是难事，但我只有一个凌一尧，错过了她，我这辈子都会过得不安生。所以，希望你能帮我一把，恳请你帮我一把。”</p><p>罗 XX 渐渐收起笑脸，思索片刻后说：“如果我不帮忙呢？”</p><p>我说：“我刚才已经讲过了，凌一尧我是肯定要带走的。你帮忙，这事会变得好看一点，你不帮忙，这事只是稍微难看一些而已。”</p><p>罗 XX 坐在那里想了一会儿，最后叹息一声，说：“我明白了。这事我得想一想，明天再打电话给你，给你答复。”</p><p>他起身离开，刚离开座位，凌一尧就从那辆车里下来，往茶座里走来。她和罗 XX 在门口遇到，两人互相打了一声招呼，然后一个出门登车而去，一个在我对面身边坐了下来。凌一尧问：“谈得怎么样？”</p><p>我说：“我也不确定，不过既然已经把话说开了，那你以后就要做好和一条道走到黑的心理准备。”</p><p>凌一尧点了点头，而后又眯眼微笑道：“这条道不会是黑的。”</p><p>整整一天，我一直心神不宁地等着电话，甚至想过万一凌一尧被她父母软禁在家，我就喊一帮哥们儿去抢人，或者打电话报警说有人抢我的老婆。只要凌一尧点一下头，承认她想跟我走，我便再无任何顾忌，大不了从此远走高飞。</p><p>大约凌晨两点，罗 XX 没有打电话过来，却接到凌一尧的电话，她说：“罗 XX 叫我转告你，他已经向他家人说过了，他和我性格不合，两个人相处得不愉快，想取消婚约。我爸妈的态度也不太激烈，我说我也不想和罗 XX 结婚了，他们就只是叹气，没多说什么。”</p><p>“那我什么时候去你家拜会？”我问道。</p><p>“你不要急嘛，再等两天，等大家都把这事认下了，你再过来找我爸妈谈。”凌一尧停顿片刻，说，“我都把东西收拾好了，要是他们还那么固执，我就直接跟你走。”</p><p>我努力抑制内心的喜悦，问道：“你现在什么感觉？”</p><p>凌一尧拖着长音的“嗯”，最后长吸一口气，释然地说：“感觉像又活过来了。”</p><p>挂断电话之后，我张开四肢躺在床上，听着床头闹钟滴滴答答的声音，每一次声响都昭示我正在一秒一秒地远离自己的青春。可是，缱绻于心的爱情如同一个野蛮的天神，呼啸着从天而降，抓着我的衣领飞向九天云霄之外。我闭着眼睛感受这种踏步云端的喜悦，仿佛一瞬间时光倒流，我又回到许多年前的那个漫天火烧云的黄昏，满脸稚气的孩子敲着饭盒喊我的名字，年轻的老师们笑而不语，而凌一尧一脸绯红地躲在满是起哄声的教室里，就像一个即将嫁给我的小新娘。</p><p>而我内心曾经的自卑，以及对金钱的狂热，就像那只名叫“理查德帕克”的白老虎，甩一甩尾巴，轻轻一跃，消失于新疆戈壁滩的绿洲之中。</p><p>理查德.帕克，呵呵。</p><p>如果这个故事让诸位不满意，非要追根究底地质疑这样一个故事是否可信，那我重新讲一个靠谱一点的故事吧。</p><p>我从新疆回来的第三天，去安定广场闲逛，偶然发现花圃台阶旁边有一个漂亮的新娘正在拍婚纱照。她很漂亮，表情又有些木讷，像一个牵线木偶一样被摄影师指挥着，与新郎摆出各种造型。</p><p>我喊了她的名字：“凌一尧。”</p><p>她看见我时愣了一下，而后丢下那个打扮得油头粉面的新郎，提着婚纱的裙摆，快步走了过来。穿着这身单薄的婚纱，她冻得瑟瑟发抖，又有些羞赧，问道：“你哥呢？”</p><p>我说：“他在新疆没回来。”</p><p>“你还去吗？”</p><p>我点头说“还去，要去收账。”</p><p>凌一尧噢了一声，“你等我一下”，她去台阶旁边拿起自己的加长羽绒服披上，又拎来自己的包，将一张银行卡递给我，说：“这是你哥身份证办的卡，以前一起时的定期存款，你帮我带给他，他知道密码。”</p><p>“嗯。”我将银行卡接了过去，揣进口袋。</p><p>“一定要带给他。”她又强调一遍。</p><p>我用拳头按了按胸口，说：“一定。”</p><p>然后我转身离开，冷风横贯整个广场，我深呼吸试图抑制内心的痛楚，却被着实呛了一下，眼泪差点滚落下来。我的思绪一下子回到三月的戈壁滩，风雪肆虐，寒气逼人，我的步话机里断断续续地传出吕钦扬的呼喊：“你们点几个火堆，把火烧旺，给我指一下方向，我找不到回去的路了。”</p><p>我们用皮卡车拖了许多木方，以及报废的橡胶轮胎，火焰和浓烟直冲云霄，整整烧了一夜，但吕钦扬还是毫无音讯。最后一次与他通话时，他似乎有些精神恍惚，绝望地念叨着：“凌一尧，我迷路了啊……”</p><p>第二天下午，我们在十公里外的一座土丘背后找到他早已冻僵的尸体，他不停地跋涉着，可惜离营地越来越远。而他大衣里那本施工日记的中页，用凝油的圆珠笔笔尖在纸上深深地刻下他此生最潦草最歪斜的几个字：“别告诉凌一尧”。</p><p>吕钦扬，我最尊敬的学长。当初在黄海的滔天潮水中，你用挖掘机的斗子死死抵住我这台机器的侧面，以防我脚下的堤坝塌陷；你坚持不起诉那些地痞，保下我这个冲动不懂事的学弟；你将我拦了下来，扛着仪器走入茫茫雪地之中；你不停地朝着凌一尧的方向奔跑，那么坚定执着，为什么最后还是迷失方向？</p><p>愿你永远活在十年前的文津河畔，愿你灵魂安息。</p><p>今天是公元 2013 年 2 月 14 日，情人节，也是农历癸巳年正月初五，凌一尧的婚期。原本打算讲完故事就销声匿迹，让它慢慢冷却，逐渐被遗忘，但事到如今还是决定给它一个最终番，省得那么多人猜来猜去，越猜越离奇。</p><p>也在这里对某些人说一声，不要以你的生活环境作为公理定理原理来判断这个世界，譬如学龄。我是如皋小城的一个乡下孩子，入小学时不满六岁，因为运河上面没有桥梁只有渡船，在淹死几个孩子之后，学校在河东开了一所小分校，我所在的那一届，全年级不过七个人而已。后来，有一个家伙留级了，我那个年级一共只剩六个人———如果你们觉得这个事情很荒唐，那么你们以后对人对事作判断时请悠着点。</p><p>2000 年我未满十五岁，以全校第 12 名的成绩进入白蒲高中，但由于整天把心思放在踢足球上，学业受到影响，考过全班第一，也考过二三十名。也是在那里，我开始人生的初恋并且不幸被抓，饱受政教处的折腾，也得到班主任老姚的格外关照。冬天起床后为了暖一下身体，出门时我们灌了一口红酒，最后被老姚拦在门口，每人做了 20 个俯卧撑，他终于将我锁定。他后来对同寝室的阿荣说：“XXX 同学今早喝酒了，可能是因为感情受挫，你们一定要对他关心爱护。”</p><p>在此感谢千岁大人。</p><p>正如故事里所说，高考时我数学失利，只考到本二，而凌一尧正常发挥，考取名牌一本，但我至少可以与凌一尧光明正大地恋爱了。这场恋爱不伟大也不光荣，和所有的校园情侣一样，懵懵懂懂，浑浑噩噩，为了莫名其妙的小事吵架，也为了装逼矫情的小事开心。但我大学毕业之后，一切都变得陡然沉重，因为我拿着两三千的月薪，无法挣脱穷困的枷锁。</p><p>情侣之间最无法弥合的矛盾，就是为了钱而吵架。</p><p>我业余时间开始写小说，希望成为所谓的修仙小说写手，写一个少年得到神仙指点不断修炼不断进步最后成为神魔人三界主宰，这种故事非常无趣但它就是有市场，兴许可以为我赚得娶老婆的本钱。但最后，我毫无建树，因为我对此根本一点都不感兴趣，我后来出版的小说也是一个反响平平的都市爱情故事。</p><p>再后来，我去给出版社做枪手，为他人做嫁衣。写自己的故事，署他人的名，拿一笔如同售卖亲子得来的钱。这样的工作可以为我提供七八万的年薪，但我只是别人的影子，没有一点社会地位，当凌一尧的父亲问我从事什么工作，我说是出版社，可是我心里明白，出版社的员工花名册里压根儿没有我的名字。</p><p>我只是别人花钱雇来的影子武士。</p><p>在那段时间，凌一尧的父母对我说了“NO”，我与凌一尧之间也不停地发生争执，我一度出现精神抑郁的状况，整夜整夜地失眠。也是在那段时间，我与一个早年认识的北京女孩聊得较多，当初认识时她才十八九岁，素颜时很像大学时期的凌一尧。</p><p>我走进一个死胡同，我将这个北京女孩当作凌一尧，试图用一个从未谋面的人来排挤凌一尧，那段颠三倒四的日子就是这样混过去的。后来，我也不知道自己到底是在暗恋北京女孩，还是在思念凌一尧。</p><p>再后来，北京女孩长大了，她与同学创建“powerful”的品牌，而我依旧是默默无闻的吕钦扬，互相删了微博和豆瓣。</p><p>后来我遇到一个既称得上哥又称得上叔的长辈，他问我怕不怕苦，问我要不要一起去干工程，加入这个既辛苦又容易暴发的行业。当时我想钱已经想疯了，我看见运钞车都会不自觉地想一下各种可能性，我每天都渴望赚到钱但我不知道如何赚，每天都被这种矛盾折磨得无法入睡。</p><p>凌一尧试图阻止我，但我还是跟他一起走了，先去海边干围海，没有赚到现钱，政府工程的付款方式非常扯淡。再后来，我们又去新疆做光伏电站，在那里，一起趟过黄海和戈壁的技术员把命丢在那里。他比我小一岁，出来卖命的原因也是为了某个她。</p><p>因为出现伤亡事故会导致工程停滞，业主最后托关系出具自然死亡证明，80 万元私了，尸体在当地停了几天后才火化。为了把他带回江苏，我们三人轮流开车，手机按了免提摆在骨灰盒上，里面传出来自家乡老人的呼唤：“天冷霜重，快点归乡哦！”</p><p>当我回到家乡，凌一尧与别人的婚事已经是板上钉钉的事情，用她的话讲，“和他结婚或者和你结婚，现在对我而言，似乎都无所谓了”。我们打电话都要偷偷摸摸的，我们对此都非常厌烦，年底婚期将至的那段时间，凌一尧在派发请柬时难免遇到我们当时的一些老朋友，她的情绪出现波动，开始犹豫不决，甚至想过悔婚。</p><p>可是即便他不是她想要的，那现在的我就是她想要的么？</p><p>我也曾经欢欣鼓舞地认为自己的爱情可以失而复返，但最终闹腾一段时间，我们都发现，那不过是再普通不够的婚前焦虑而已。我们很久以前就各自走上背离对方的道路，只是我独自活在自己的世界里，以为两条道路在前面仍会交汇。</p><p>那个技术员经常喝酒以后和我聊他那让我一听就想打瞌睡的爱情，一提到他的女朋友以后可能和别人结婚，他就忍不住抹眼泪，说：“要是她以后和别人结婚，我一定要躺到她家门口，从我身上跨过去才让她出门。”</p><p>1 月 27 日，我做了人生里最操蛋的事情，我去了他女朋友举办婚礼的那家酒店，将一块旧红布压在迎宾门毯底下。现在你就躺在这里了，可是你阻止得了么？</p><p>至于红布是什么，我家乡的人兴许会明白。</p><p>讲完这个故事之后，我比你们任何人都无法自拔，老是梦见白蒲高中那条河，梦见她穿着蓝白相间的校服走下桥头，梦见她站在阳台上忧虑地望着远方。但那又能如何，我现在一想起她，只记得她从十五岁到二十四岁的模样，却想不起来她如今着了粉黛之后的相貌。</p><p>我的脾气也越来越坏，时而莫名其妙地摔东西，时而一个人在家唱歌，我有时都想着自己是不是有点精神分裂，怀疑自己会不会哪天睁眼醒来发现自己的一些经历只是一场梦。</p><p>昨天是家乡风俗里迎财神的日子，而今天是送财神的日子，漫天的璀璨烟火，其中便有为祝福她的未来而怒放。凌晨五点，我踏上前往上海的车子，今天在上海呆一宿，明天飞往北京，拜见几位资历厚重的前辈。</p><p>正月初五，情人节，故人着新衣，嫁作他人妇。</p><p>这只金箍，先戴为敬。</p><p>故事引用了少年派的结局，作者疑似为写手，不过这都已经不重要了，相信在 13 年那个还没那么多“故事写手”的情况下，作者带着自己的感情与爱情写下了这篇帖子，帖子的最后，楼主给了这个故事三个结局，除了直播帖一开始的结局之外，还有“<a href="https://baike.baidu.com/item/凌一尧">凌一尧</a>解除婚约，回到吕钦扬身边”和“吕钦扬丧命沙漠，遗书要求向凌一尧隐瞒死讯”两个结局。网友猜测，帖子开头的结局是真实的，大团圆结局是楼主的美好愿望，而那个残忍的结局，则是楼主希望“自己当时死了算了”的感叹。</p><p><strong>三个结局</strong><br>　　 1，男主回来，找到男二谈话，找回了爱情，男二自己放弃（这是作者和读者最想看到的结局）<br>　　 2，男主死在了新疆，男主学弟复述了这个故事，赚了很多读者的眼泪。（其实是以那个真的死去的技术员为背景写的这个结局，同时寓意自己的心已经死在新疆）<br>　　 3，男主否认了上面两种结局，这个世界上没有那么多美好的结局，也没有付出努力就得到的大笔金钱（工程真的做了，但没有赚到钱），更没有那么多让爱情变得凄美的死亡。男主在这个残酷的世界里，找不回曾经的爱情，而存在于他们心底的爱情，也没有年少时的勇气和激情能够让他们推翻抛弃一切在一起。<br>　　也许，最痛苦的，不是发现自己无力改变这个现实，而是发现，已经不那么爱了。</p><p>他们足够相爱，足够有担当，足够谦让，足够包容，拥有一切爱情所需要的，可最终还是败在了现实面前，也许生活就是这样</p><p>看完以后</p><p>所有的话语化成一句我爱你</p><p>我会用尽全力 🍖。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;偶然之间看到一篇帖子, 想到了现在我和某人，不知道后来的我们, 我们的十年会不会也变成这样 🌎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;整理后的帖子相对完整，原文缺失部分&lt;/p&gt;
&lt;p&gt;这是整理后的帖子 原文： &lt;a href=&quot;https://www.douban.co</summary>
      
    
    
    
    <category term="生活" scheme="https://anzhiy.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://anzhiy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>五一，武汉行</title>
    <link href="https://anzhiy.cn/posts/7e87.html"/>
    <id>https://anzhiy.cn/posts/7e87.html</id>
    <published>2021-05-05T08:57:50.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<span class='p center logo large'>武汉行</span><span class='p center small'>一场说走就走的旅行✌️</span><p>趁着这次五一长假 📷，去武汉好好的玩一玩<del>武功山人太多了</del>，武汉我们来啦~</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/1.jpg" alt=""></p><p>下午 15 点坐上火车，晚上 20 点就到了武昌站</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/2.jpg" alt=""></p><p>一路上遇到了很多人很多事，火车真的是一个大杂烩，什么人都有，比如某不抽烟就是不信毛爷爷女子，抽烟抽了 10 多年了从没人管过之类，但也有人很好的叔叔，也有给我们让座了的好人，4 个人的旅途总之很愉快 🧊~</p><p>下了车站后，我们找到酒店放下行李，休息了一会儿后就立马前往<strong>楚河汉街</strong>。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/3.jpg" alt=""></p><p>吃了一顿不是那么好吃的烧烤和炒饭河粉（可能武汉人民的烧烤不符合我们湖南人吧 hhh），逛完楚河汉街和光谷步行街已经到了晚上 12 点，打车回酒店就直接睡了。第一天的行程就结束了。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/4.jpg" alt=""></p><p><strong>第二天</strong></p><p>第二天我们早早的起床，早早的化妆，终于在 9 点半出发 hhh，10 点左右赶到粮道街，令我们没想到的是，武汉鱿鱼老板任性的在 10 点左右开门，柒个蛋烘糕也在 10 点半开门，所以我们几乎没排什么队的就把所有小吃 🍰 吃了个遍<del>除了武汉热干面</del>，也多亏了没吃热干面 🥘，不然就吃不下这么多好吃的了，柒个蛋烘糕 🌮 针不戳，就是老板任性，有钱我不赚，哎~，就是玩儿~hhh。</p><p><strong>爆汁生煎</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/5.jpg" alt=""></p><p><strong>马丁豆豆</strong>（牛蛙肉）</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/6.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/7.jpg" alt=""></p><p><strong>鱿鱼</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/8.jpg" alt=""></p><p><strong>无骨煸鸡</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/9.jpg" alt=""></p><p><strong>蛋卷</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/10.jpg" alt=""></p><p><strong>茶百道</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/11.jpg" alt=""></p><p><strong>豆皮烧麦</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/12.jpg" alt=""></p><p>中午的时候咱们走路去了黄鹤楼，本来想常常黄鹤楼雪糕 🍦，结果没找到地方就没买了，在黄鹤楼外的小公园里面拍了很多照片，远远的拍了一张黄鹤楼的照片<del>就当我来过了</del></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/13.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/14.jpg" alt=""></p><p>接下来就是到处走，到处看，去了<code>昙华林</code>体验了一下“欧式建筑”，到处转了转，感受了当地的风土民情 🍧。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/15.jpg" alt=""></p><p>下午下起了雨</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/16.png" alt=""></p><p>迫于无奈去看了一场电影《你的婚礼》🙏，怎么样我就不说了，4 人集体 yue，直接跑路。</p><p>看完电影还想去玩，但是雨还没停，想着 4 点多了，小明大排档也快开门了，结果因为下雨 🌨️，我们走路过去晚到了 10 分钟，在我们前面排队的就有 70 桌，而小明大排档上下两层楼只有 20 桌，然后我们果断的等了半个小时后放弃直接去了一家刚开业的小龙虾大排档。</p><p>吃完饭，雨 🌨️ 还是没有停的意思，但是我们决定一定要坐渡轮，因为明天就回去了，所以我们走路去了坐渡轮的地方，别问我们为什么不打滴滴去，<del>才不是因为打不到车，打车更久</del> 走路过去的结果就是我们的 jio 都成了泡椒凤爪 💧</p><p>但是看到了渡轮 ⛵ 上的风景，也挺好看的，桥上的灯也正好在我们那一趟船开灯了</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/17.jpg" alt=""></p><div class="videos" col='2'><div class="video"><video controls preload><source src='https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/1.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/2.mp4' type='video/mp4'>Your browser does not support the video tag.</video></div></div><p>回到民宿，我们看了 🎉《羞羞的铁拳》，简直比某婚礼好看不知道多少倍</p><p>第三天，起床我们就去了吃了小川料理 ✨，简直超好吃，可惜吃不动了，某人还去面基了~</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/18.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/19.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/20.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/21.jpg" alt=""></p><p>吃了大餐后，我们去了武汉博物馆 🔔，武汉美术馆，梨园，海底世界等，以上所有地点都由于一系列原因只在门口进行了拍照留念<del>哈哈哈</del></p><p>最后我们在东湖玩了一下午，东湖之大，几个西湖装不下</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/22.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/23.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/24.jpg" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/25.jpg" style="height:500px;" /></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/26.jpg" alt=""></p><p>最后这趟愉快的武汉之行就结束啦~</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/wuhan/27.jpg" alt=""></p><p>这是一场说走就走的旅行 ⚽，以后也会在我们记忆的深处埋藏</p>]]></content>
    
    
    <summary type="html">武汉真是一个令人神往的城市🥰</summary>
    
    
    
    <category term="生活" scheme="https://anzhiy.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://anzhiy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>console的高级用法</title>
    <link href="https://anzhiy.cn/posts/3444.html"/>
    <id>https://anzhiy.cn/posts/3444.html</id>
    <published>2021-04-18T11:22:54.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>前几天在看<a href='https://limestart.cn/'>青柠起始页</a>的时候偶然间看到它的控制台居然可以这样 👊</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/1.png" alt=""></p><p>于是就萌生了学一波 console 方法的念头，今天正好有时间就来把这几天的学习成果记录一下 😶</p></blockquote><h1 id="console-的基本用法"><a href="#console-的基本用法" class="headerlink" title="console 的基本用法"></a>console 的基本用法</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;最常见用法\n换行&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;输出错误信息 会以红色显示&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;打印警告信息 会以黄色显示&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;打印一般信息&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.clear();//清空上面的console显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//进阶用法</span></span><br><span class="line"><span class="comment">//console.assert(bool,”info”) 如果bool为false 打印出info 否则不打印</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">assert</span>(<span class="literal">false</span>, <span class="string">&#x27;判断为false才显示的信息&#x27;</span>)</span><br><span class="line"><span class="comment">//传入的对象或数组以表格方式显示</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">table</span>([[<span class="string">&#x27;Anzhiyu&#x27;</span>, <span class="string">&#x27;Chen&#x27;</span>], [<span class="string">&#x27;好&#x27;</span>]])</span><br><span class="line"><span class="comment">//打印 调用链 fn2()调用fn1()，fn1()调用fn()</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">trace</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fn1</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn2</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//格式化输出</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      console.log支持的格式标志有:</span></span><br><span class="line"><span class="comment">      %s       占位符</span></span><br><span class="line"><span class="comment">      %d 或 %i    整数</span></span><br><span class="line"><span class="comment">      %f       浮点数</span></span><br><span class="line"><span class="comment">      %o%O     object对象</span></span><br><span class="line"><span class="comment">      %c       css样式</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%d + %d = %d&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">//%o%O打印dom节点时就不一样</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%o&#x27;</span>, <span class="variable language_">document</span>.<span class="property">body</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%O&#x27;</span>, <span class="variable language_">document</span>.<span class="property">body</span>)</span><br><span class="line"><span class="comment">// %c 后面的内容，增加css样式</span></span><br><span class="line"><span class="comment">//附：console.log输出的超链接会被自动识别并加上灰色字体颜色和下划线的样式，而这个无法用%c覆盖</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;123 %c 456&#x27;</span>, <span class="string">&#x27;font-size:36px;color:red;&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="string">&#x27;123 %c 4 https://anzhiy.cn 56 %c 789&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;font-size:20px;color:#49b1f5;&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;font-size：12px;color:#000&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//利用css样式加载图片</span></span><br><span class="line"><span class="comment">//没法直接设置width和height样式,line-height图片高度,再调padding</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="string">&#x27;%c &#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;background-image:url(&quot;https://cdn.jsdelivr.net/gh/waterchen520/cdn2@latest/anzhiy.cn.jpg&quot;);background-size:120% 120%;background-repeat:no-repeat;background-position:center center;line-height:60px;padding:30px 120px;&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//高级用法</span></span><br><span class="line"><span class="comment">//计时，单位毫秒</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>()</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> j = i * i</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">timeEnd</span>()</span><br><span class="line"><span class="comment">//统计代码或函数被调用了多少次</span></span><br><span class="line"><span class="keyword">var</span> fn_ = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">count</span>(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="title function_">fn_</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查看内存使用情况，是属性，不带括号</span></span><br><span class="line"><span class="comment">//console.memory;</span></span><br><span class="line"><span class="comment">//在浏览器开发者工具中使用</span></span><br><span class="line"><span class="comment">//分组输出，可嵌套</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;分组1&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;语文&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数学&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;其他科目&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;化学&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;地理&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;历史&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">groupEnd</span>(<span class="string">&#x27;其他科目&#x27;</span>)</span><br></pre></td></tr></table></figure><p>展开上面代码运行可以得到</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/2.png" alt=""></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/3.png" alt=""></p><p>注意以上某些方法某些浏览器<psw>IE:没错就是我</psw>不支持</p><h1 id="console-详解"><a href="#console-详解" class="headerlink" title="console 详解"></a>console 详解</h1><p>让我们来看看谷歌浏览器提供的 console 方法的 API <a href="https://developer.chrome.com/docs/devtools/console/">https://developer.chrome.com/docs/devtools/console/</a></p><p>我们来重写 console，发现它里面有很多方法</p><h2 id="console-assert-expression-object"><a href="#console-assert-expression-object" class="headerlink" title="console.assert(expression, object)"></a>console.assert(expression, object)</h2><p>在被评估的表达式为 <code>false</code> 时向控制台写入一个错误。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greaterThan</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">assert</span>(a &gt; b, &#123; <span class="attr">message</span>: <span class="string">&#x27;a is not greater than b&#x27;</span>, <span class="attr">a</span>: a, <span class="attr">b</span>: b &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">greaterThan</span>(<span class="number">5</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/4.png" alt=""></p><h2 id="console-clear"><a href="#console-clear" class="headerlink" title="console.clear()"></a>console.clear()</h2><p>清除控制台。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.clear();1</span><br></pre></td></tr></table></figure><p>如果已启用 Preserve log 复选框，<code>console.clear()</code> 将停用。 不过，在控制台处于聚焦状态时，按 clear console 按钮或者输入 Ctrl+L 快捷键仍然有效。</p><h2 id="console-count-label"><a href="#console-count-label" class="headerlink" title="console.count(label)"></a>console.count(label)</h2><p>写入在同一行使用相同标签调用 <code>count()</code> 的次数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function login(name) &#123;</span><br><span class="line">  console.count(name + &#x27; logged in&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/5.png" alt=""></p><h2 id="console-debug-object-object-…"><a href="#console-debug-object-object-…" class="headerlink" title="console.debug(object [, object, …])"></a>console.debug(object [, object, …])</h2><p>与 <code>console.log()</code> 作用相同。</p><h2 id="console-dir-object"><a href="#console-dir-object" class="headerlink" title="console.dir(object)"></a>console.dir(object)</h2><p>输出以 JavaScript 形式表示的指定对象。如果正在记录的对象是 HTML 元素，将输出其以 DOM 形式表示的属性，如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.dir(document.body);</span><br></pre></td></tr></table></figure><p>比 console.log 更加详细</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/6.png" alt=""></p><h2 id="console-dirxml-object"><a href="#console-dirxml-object" class="headerlink" title="console.dirxml(object)"></a>console.dirxml(object)</h2><p>如果可以，输出 object 子级元素的 XML 表示形式，否则输出其 JavaScript 表示形式。 在 HTML 和 XML 元素上调用 <code>console.dirxml()</code> 等同于调用 <code>console.log()</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">dirxml</span>(<span class="variable language_">document</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/7.png" alt=""></p><h2 id="console-error-object-object-…"><a href="#console-error-object-object-…" class="headerlink" title="console.error(object [, object, …])"></a>console.error(object [, object, …])</h2><p>输出一条类似于 <code>console.log()</code> 的消息，将消息设置成错误样式，并在调用此方法的地方包含一个堆叠追踪。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.error(&#x27;error: name is undefined&#x27;);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/8.png" alt=""></p><h2 id="console-group-object-object-…"><a href="#console-group-object-object-…" class="headerlink" title="console.group(object[, object, …])"></a>console.group(object[, object, …])</h2><p>启动一个带有可选标题的新日志组。以可视化方式将在 <code>console.group()</code> 后、<code>console.groupEnd()</code> 前发生的所有控制台输出组合在一起。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;first: &#x27;</span>, obj.<span class="property">first</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;middle: &#x27;</span>, obj.<span class="property">middle</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;last: &#x27;</span>, obj.<span class="property">last</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">groupEnd</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">name</span>(&#123; <span class="attr">first</span>: <span class="string">&#x27;Wile&#x27;</span>, <span class="attr">middle</span>: <span class="string">&#x27;E&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Coyote&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/9.png" alt=""></p><p>您还可以嵌套组：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;first: &#x27;</span>, obj.<span class="property">first</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;middle: &#x27;</span>, obj.<span class="property">middle</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;last: &#x27;</span>, obj.<span class="property">last</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">groupEnd</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doStuff</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">group</span>(<span class="string">&#x27;doStuff()&#x27;</span>)</span><br><span class="line">  <span class="title function_">name</span>(&#123; <span class="attr">first</span>: <span class="string">&#x27;Wile&#x27;</span>, <span class="attr">middle</span>: <span class="string">&#x27;E&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;coyote&#x27;</span> &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">groupEnd</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">doStuff</span>()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/10.png" alt=""></p><h2 id="console-groupCollapsed-object-object-…"><a href="#console-groupCollapsed-object-object-…" class="headerlink" title="console.groupCollapsed(object[, object, …])"></a>console.groupCollapsed(object[, object, …])</h2><p>创建一个初始处于折叠状态而不是打开状态的新日志组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">groupCollapsed</span>(<span class="string">&#x27;status&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;peekaboo, you can&#x27;t see me&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">groupEnd</span>()</span><br></pre></td></tr></table></figure><h2 id="console-groupEnd"><a href="#console-groupEnd" class="headerlink" title="console.groupEnd()"></a>console.groupEnd()</h2><p>关闭日志组。相关示例请参阅 <code>console.group</code>。</p><h2 id="console-info-object-object-…"><a href="#console-info-object-object-…" class="headerlink" title="console.info(object [, object, …])"></a>console.info(object [, object, …])</h2><p>输出一条类似 <code>console.log()</code> 的消息，但同时在输出旁显示一个图标（带白色“i”的蓝色圆圈）。</p><h2 id="console-log-object-object-…"><a href="#console-log-object-object-…" class="headerlink" title="console.log(object [, object, …])"></a>console.log(object [, object, …])</h2><p>在控制台中显示一条消息。将一个或多个对象传递到此方法。每个对象都会进行评估并级联到一个由空格分隔的字符串中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello, Logs!&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="格式说明符"><a href="#格式说明符" class="headerlink" title="格式说明符"></a>格式说明符</h2><p>您传递的第一个对象可以包含一个或多个格式说明符。格式说明符由百分号 (%) 与紧跟其后面的一个字母组成，字母指示要应用的格式。</p><h2 id="console-profile-label"><a href="#console-profile-label" class="headerlink" title="console.profile([label])"></a>console.profile([label])</h2><p>启动一个带有可选标签的 JavaScript CPU 配置文件。要完成配置文件，请调用 <code>console.profileEnd()</code>。 每一个配置文件都会添加到 Profiles 面板中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">processPixels</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">profile</span>(<span class="string">&#x27;processPixels()&#x27;</span>)</span><br><span class="line">  <span class="comment">// later, after processing pixels</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">profileEnd</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="console-profileEnd"><a href="#console-profileEnd" class="headerlink" title="console.profileEnd()"></a>console.profileEnd()</h2><p>停止当前的 JavaScript CPU 分析会话（如果正在进行此会话），并将报告输出到 Profiles 面板中。</p><h2 id="console-time-label"><a href="#console-time-label" class="headerlink" title="console.time(label)"></a>console.time(label)</h2><p>启动一个具有关联标签的新计时器。使用相同标签调用 console.timeEnd() 时，定时器将停止，经过的时间将显示在控制台中。计时器值精确到亚毫秒。传递到 <code>time()</code> 和 <code>timeEnd()</code> 的字符串必须匹配，否则计时器不会结束。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;Array initialize&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> array = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1000000</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = array.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">  array[i] = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;Array initialize&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/11.png" alt=""></p><h2 id="console-timeEnd-label"><a href="#console-timeEnd-label" class="headerlink" title="console.timeEnd(label)"></a>console.timeEnd(label)</h2><p>停止当前的计时器（如果正在运行一个计时器），并将计时器标签和经过的时间输出到控制台。</p><h2 id="console-timeStamp-label"><a href="#console-timeStamp-label" class="headerlink" title="console.timeStamp([label])"></a>console.timeStamp([label])</h2><p>在录制会话期间向 Timeline 添加一个事件。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">timeStamp</span>(<span class="string">&#x27;check out this custom timestamp thanks to console.timeStamp()!&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="console-trace-object"><a href="#console-trace-object" class="headerlink" title="console.trace(object)"></a>console.trace(object)</h2><p>从调用此方法的位置输出一个堆叠追踪。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">trace</span>()</span><br></pre></td></tr></table></figure><h2 id="console-warn-object-object-…"><a href="#console-warn-object-object-…" class="headerlink" title="console.warn(object [, object, …])"></a>console.warn(object [, object, …])</h2><p>输出一条类似 <code>console.log()</code> 的消息，但同时在记录的消息旁显示一个黄色警告图标。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;user limit reached!&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/12.png" alt=""></p><h1 id="重写简单的-console-方法"><a href="#重写简单的-console-方法" class="headerlink" title="重写简单的 console 方法"></a>重写简单的 console 方法</h1><p>我们常用的有 console.log、console.info、console.group、console.warn、console.error、console.profile、console.time，现在我们来试着重写 console.log、console.info、console.group、console.warn、console.error 这几个常用的，其他的类似但比较复杂。</p><p>第一步，搭一个结构，覆盖浏览器(chrome\ie)提供的 console 功能，这样直接引用此 JS 文件即可保证浏览器(主要是 IE)中不出错：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable language_">console</span> = &#123;</span><br><span class="line">  <span class="attr">assert</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">clear</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">count</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">debug</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">dir</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">dirxml</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">exception</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">group</span>: <span class="keyword">function</span> (<span class="params">name</span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">groupCollapsed</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">groupEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">info</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">log</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">memoryProfile</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">memoryProfileEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">profile</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">profileEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">table</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">time</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">timeEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">timeStamp</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">trace</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">warn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第二步，实现 console.log 方法。在所实现的几个方法中这个是最复杂的。</p><p>从 chrome 的 API 中我们可以看到，console.log 不仅仅可以输出信息，还提供了类似 string.Format 的功能，原文地址：<a href="https://developer.chrome.com/docs/devtools/console/api/">https://developer.chrome.com/docs/devtools/console/api/</a></p><p>Here is the complete set of patterns that you may use for string substitution:</p><div class="table-container"><table><thead><tr><th>Pattern</th><th>Type</th></tr></thead><tbody><tr><td>%s</td><td>String</td></tr><tr><td>%d, %i</td><td>Integer (numeric formatting is not yet supported)</td></tr><tr><td>%f</td><td>Floating point number (numeric formatting is not yet supported)</td></tr><tr><td>%o</td><td>Object hyperlink</td></tr><tr><td>%c</td><td>Style formatting</td></tr></tbody></table></div><p>其中的%c 比较特殊，是给输出添加样式的，比如我们在 Chrome 中这样写：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%cTest output&#x27;</span>, <span class="string">&#x27;color:white; background-color:blue&#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行后的结果是这样的：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/console/13.png" alt=""></p><p>这里%c 也可以跟 %s、%d 等混用。</p><p>所以，在代码中我直接用 replace 进行替换，由于 JS 中的 replace 默认只替换第一个匹配项，这里刚好，代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line"><span class="keyword">if</span> (args.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">1</span>,</span><br><span class="line">    hasstyle = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">if</span> (args[<span class="number">0</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;%c&#x27;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">    args[<span class="number">0</span>] = args[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%c/</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    i = <span class="number">2</span></span><br><span class="line">    hasstyle = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (; i &lt; args.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/%s|%d|%i|%o/</span>.<span class="title function_">test</span>(args[<span class="number">0</span>])) &#123;</span><br><span class="line">      args[<span class="number">0</span>] = args[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%s|%d|%i|%o/</span>, args[i])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (i &lt; args.<span class="property">length</span>) &#123;</span><br><span class="line">    args[<span class="number">0</span>] = args[<span class="number">0</span>] + <span class="string">&#x27; &#x27;</span> + args.<span class="title function_">slice</span>(i).<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (hasstyle) &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>], args[<span class="number">1</span>])</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>])</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (args.<span class="property">length</span> == <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showlog</span>(<span class="string">&#x27;[&#x27;</span> + args[<span class="number">0</span>] + <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>], <span class="literal">null</span>, <span class="string">&#x27;console_log_function&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>])</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  consoleHelper.<span class="title function_">showlog</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于 console.log 可以接受多个参数，且个数不确定，所以这里直接没有写形参。对于%c 虽然 Chrome 中写在中间也是有效的，这里为了简单直接只对写在开头的有效。代码中先把参数转换为数组，然后对数组进行分情况处理。</p><p>当参数个数大于 1 时，对后面的参数用 replace 进行替换，然后把剩下的参数连接(join)起来进行输出。</p><p>当参数个数为 1 时，还要分两种情况，一是数组，二是方法。对于数组，按 Chrome 中的格式，在两端加中括号，对于函数，把字的颜色变为绿色</p><p>当参数个数为 0 时，直接输出空字符串</p><p>后面的 consoleHelper.showlog 是为了输出方便另外写的一个方法，在这个方法中把各种调试信息的结果显示在页面上的一个 div(如果存在)中。</p><p>其他几个方法的思路跟这个差不多，只是样式不同，功能比这个简单，直接把参数连接起来输出即可。</p><p><strong>整个 console 类代码如下：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable language_">console</span> = &#123;</span><br><span class="line">  <span class="attr">assert</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">clear</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">count</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">debug</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">dir</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">dirxml</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    consoleHelper.<span class="title function_">showerror</span>(args.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">exception</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">group</span>: <span class="keyword">function</span> (<span class="params">name</span>) &#123;</span><br><span class="line">    consoleHelper.<span class="title function_">showgroup</span>(name)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">groupCollapsed</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">groupEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">info</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="keyword">if</span> (args.<span class="property">length</span> == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showinfo</span>(<span class="string">&#x27;[&#x27;</span> + args[<span class="number">0</span>] + <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showinfo</span>(args[<span class="number">0</span>], <span class="string">&#x27;console_log_function&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showinfo</span>(args[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      consoleHelper.<span class="title function_">showinfo</span>(args.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">log</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="keyword">if</span> (args.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> i = <span class="number">1</span>,</span><br><span class="line">        hasstyle = <span class="literal">false</span></span><br><span class="line">      <span class="keyword">if</span> (args[<span class="number">0</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;%c&#x27;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">        args[<span class="number">0</span>] = args[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%c/</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        i = <span class="number">2</span></span><br><span class="line">        hasstyle = <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (; i &lt; args.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/%s|%d|%i|%o/</span>.<span class="title function_">test</span>(args[<span class="number">0</span>])) &#123;</span><br><span class="line">          args[<span class="number">0</span>] = args[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/%s|%d|%i|%o/</span>, args[i])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (i &lt; args.<span class="property">length</span>) &#123;</span><br><span class="line">        args[<span class="number">0</span>] = args[<span class="number">0</span>] + <span class="string">&#x27; &#x27;</span> + args.<span class="title function_">slice</span>(i).<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (hasstyle) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>], args[<span class="number">1</span>])</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (args.<span class="property">length</span> == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showlog</span>(<span class="string">&#x27;[&#x27;</span> + args[<span class="number">0</span>] + <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>], <span class="literal">null</span>, <span class="string">&#x27;console_log_function&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showlog</span>(args[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      consoleHelper.<span class="title function_">showlog</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">memoryProfile</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">memoryProfileEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">profile</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">profileEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">table</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">time</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">timeEnd</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">timeStamp</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">trace</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">warn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="keyword">if</span> (args.<span class="property">length</span> == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showwarn</span>(<span class="string">&#x27;[&#x27;</span> + args[<span class="number">0</span>] + <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">0</span>] <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showwarn</span>(args[<span class="number">0</span>], <span class="string">&#x27;console_log_function&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        consoleHelper.<span class="title function_">showwarn</span>(args[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      consoleHelper.<span class="title function_">showwarn</span>(args.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>consoleHelper 代码如下：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> consoleHelper = &#123;</span><br><span class="line">  <span class="attr">showlog</span>: <span class="keyword">function</span> (<span class="params">val, style, cla</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (cla) &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_log &#x27;</span> + cla</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_log&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">show</span>(val, style, cla)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">showinfo</span>: <span class="keyword">function</span> (<span class="params">val, cla</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (cla) &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_info &#x27;</span> + cla</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_info&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">show</span>(val, <span class="literal">null</span>, cla)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">showwarn</span>: <span class="keyword">function</span> (<span class="params">val, cla</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (cla) &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_warn &#x27;</span> + cla</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cla = <span class="string">&#x27;console_warn&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">show</span>(val, <span class="literal">null</span>, cla)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">showerror</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">show</span>(val, <span class="literal">null</span>, <span class="string">&#x27;console_error&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">showgroup</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!val) &#123;</span><br><span class="line">      val = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">show</span>(val + <span class="string">&#x27;:&#x27;</span>, <span class="literal">null</span>, <span class="string">&#x27;console_group&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">show</span>: <span class="keyword">function</span> (<span class="params">val, style, cla</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;showconsole&#x27;</span>)) &#123;</span><br><span class="line">      <span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">      <span class="keyword">if</span> (div.<span class="property">setAttribute</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (style) &#123;</span><br><span class="line">          div.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>, style)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (style) &#123;</span><br><span class="line">          div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;&lt;div style=&#x27;</span> + style + <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (cla) &#123;</span><br><span class="line">        div.<span class="property">className</span> = cla</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> oText = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(val)</span><br><span class="line">      div.<span class="title function_">appendChild</span>(oText)</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;showconsole&#x27;</span>).<span class="title function_">appendChild</span>(div)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>注：如果想在页面中看到调试信息，直接在页面上添加一个id 为 showconsole 的隐藏的div即可。</code></p><p><strong>样式(尽量跟 Chrome 保持一致)：</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.console_log</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.console_info</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;这里是info方法的小图标&#x27;</span>) no-repeat scroll <span class="number">0</span> <span class="number">1px</span> <span class="number">#ebf5ff</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.console_warn</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;这里是warn方法的小图标&#x27;</span>) no-repeat scroll <span class="number">0</span> <span class="number">1px</span> <span class="number">#ffffc8</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.console_error</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;这里是error方法的小图标&#x27;</span>) no-repeat scroll <span class="number">0</span> <span class="number">1px</span> <span class="number">#ffebeb</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.console_group</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bolder;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.console_log_function</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里为了演示方便，三个小图标直接预留了位置，大家用时可以换成图片地址。</p><h1 id="代码实现案例"><a href="#代码实现案例" class="headerlink" title="代码实现案例"></a>代码实现案例</h1><p>如果只需要一个简单的，类似我博客里的这种，你只需要写一个 js</p><p>下面是本博客控制台的 js 源码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now1 = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;04/01/2021 00:00:00&#x27;</span>) <span class="comment">//此处修改你的建站时间或者网站上线时间</span></span><br><span class="line">  now1.<span class="title function_">setTime</span>(now1.<span class="title function_">getTime</span>() + <span class="number">250</span>)</span><br><span class="line">  <span class="keyword">var</span> days = (now1 - grt) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span></span><br><span class="line">  <span class="keyword">var</span> dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> ascll = [</span><br><span class="line">    <span class="string">`欢迎来到Anzhiyu\`Blog!`</span>,</span><br><span class="line">    <span class="string">`生活明朗, 万物可爱`</span>,</span><br><span class="line">    <span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ██╗   ██╗██╗ ██████╗ ██╗     ███████╗████████╗</span></span><br><span class="line"><span class="string">  ██║   ██║██║██╔═══██╗██║     ██╔════╝╚══██╔══╝</span></span><br><span class="line"><span class="string">  ██║   ██║██║██║   ██║██║     █████╗     ██║   </span></span><br><span class="line"><span class="string">  ╚██╗ ██╔╝██║██║   ██║██║     ██╔══╝     ██║   </span></span><br><span class="line"><span class="string">   ╚████╔╝ ██║╚██████╔╝███████╗███████╗   ██║   </span></span><br><span class="line"><span class="string">    ╚═══╝  ╚═╝ ╚═════╝ ╚══════╝╚══════╝   ╚═╝   </span></span><br><span class="line"><span class="string">                                              </span></span><br><span class="line"><span class="string">`</span>,</span><br><span class="line">    <span class="string">&#x27;Anzhiyu`Blog 已上线&#x27;</span>,</span><br><span class="line">    dnum,</span><br><span class="line">    <span class="string">&#x27;天&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;©2021 By Anzhiyu&#x27;</span>,</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">`\n%c<span class="subst">$&#123;ascll[<span class="number">0</span>]&#125;</span> %c <span class="subst">$&#123;ascll[<span class="number">1</span>]&#125;</span> %c <span class="subst">$&#123;ascll[<span class="number">2</span>]&#125;</span> %c<span class="subst">$&#123;ascll[<span class="number">3</span>]&#125;</span>%c <span class="subst">$&#123;ascll[<span class="number">4</span>]&#125;</span>%c <span class="subst">$&#123;ascll[<span class="number">5</span>]&#125;</span>\n\n%c <span class="subst">$&#123;ascll[<span class="number">6</span>]&#125;</span>\n`</span>,</span><br><span class="line">      <span class="string">&#x27;color:#49b1f5&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:#49b1f5&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:#49b1f5&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:#49b1f5&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createtime1</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> ascll2 = [<span class="string">`NCC2-036`</span>, <span class="string">`调用前置摄像头拍照成功，识别为【小笨蛋】.`</span>, <span class="string">`Photo captured: `</span>, <span class="string">`  `</span>]</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">`%c <span class="subst">$&#123;ascll2[<span class="number">0</span>]&#125;</span> %c <span class="subst">$&#123;ascll2[<span class="number">1</span>]&#125;</span> %c \n<span class="subst">$&#123;ascll2[<span class="number">2</span>]&#125;</span> %c\n<span class="subst">$&#123;ascll2[<span class="number">3</span>]&#125;</span>\n`</span>,</span><br><span class="line">      <span class="string">&#x27;color:white; background-color:#4fd953&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;background:url(&quot;https://unpkg.zhimg.com/anzhiyu-assets@latest/image/common/tinggge.gif&quot;) no-repeat;font-size:450%&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">&#x27;%c WELCOME %c 你好，小笨蛋.&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:white; background-color:#4f90d9&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">warn</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">&#x27;%c ⚡ Powered by Anzhiyu %c 你正在访问 Anzhiyu 的博客.&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:white; background-color:#f0ad4e&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">&#x27;%c W23-12 %c 你已打开控制台.&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:white; background-color:#4f90d9&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">warn</span>.<span class="title function_">bind</span>(</span><br><span class="line">      <span class="variable language_">console</span>,</span><br><span class="line">      <span class="string">&#x27;%c S013-782 %c 你现在正处于监控中.&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;color:white; background-color:#d9534f&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">createtime2</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure><p>写下这篇博客的时候 📌，已经忘记参考地址是哪里了，算是一个汇总吧，参考地址<psw>百度</psw></p><p>啦啦啦~</p><p>我一直想从你的窗子里看月亮。💡~</p>]]></content>
    
    
    <summary type="html">console的高级用法</summary>
    
    
    
    
    <category term="JS" scheme="https://anzhiy.cn/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>弹性盒子</title>
    <link href="https://anzhiy.cn/posts/eadb39c4.html"/>
    <id>https://anzhiy.cn/posts/eadb39c4.html</id>
    <published>2021-04-17T10:13:37.000Z</published>
    <updated>2022-07-27T15:05:55.705Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>弹性盒模型的一些知识</p></blockquote><h3 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h3><p>弹性盒模型（ <code>Flexible Box</code> 或 <code>FlexBox</code>）是一个 CSS3 新增布局模块，官方称为 CSS Flexible Box Layout Module，用于实现容器里项目的<code>对齐、方向、排序（即使在项目大小位置、动态生成的情况）, 分配空白空间</code> 。弹性盒模型最大的特性在于，能够<code>动态修改子元素的宽度和高度</code>，以满足在不同尺寸屏幕下的恰当布局。</p><p>Flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p><p>任何一个容器都可以指定为 Flex 布局。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>行内元素也可以使用 Flex 布局。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Webkit 内核的浏览器，必须加上<code>-webkit</code>前缀。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意，设为 Flex 布局以后，子元素的<code>float</code>、<code>clear</code>和<code>vertical-align</code>属性将失效。</p><h3 id="基本知识"><a href="#基本知识" class="headerlink" title="基本知识"></a>基本知识</h3><p>弹性盒子是由<code>弹性容器（flex container）</code>和弹性<code>子元素（flex item）</code>组成，弹性盒子有一个<code>主轴</code>（main axis）和一个<code>纵轴</code>（cross axis），弹性子元素沿着主轴依次排列 ，<code>侧轴垂直于主轴</code>。弹性容器的主轴开始（main start）、主轴结束（main end）和侧轴开始（cross start）、侧轴结束（cross end）代表了弹性子元素排列的<code>起始和结束位置</code>。具体可以看下面的图。</p><p>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做<code>main start</code>，结束位置叫做<code>main end</code>；交叉轴的开始位置叫做<code>cross start</code>，结束位置叫做<code>cross end</code>。</p><p>项目默认沿主轴排列。单个项目占据的主轴空间叫做<code>main size</code>，占据的交叉轴空间叫做<code>cross size</code>。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/flex-container.png" alt=""></p><h3 id="弹性容器的相关属性"><a href="#弹性容器的相关属性" class="headerlink" title="弹性容器的相关属性"></a>弹性容器的相关属性</h3><details class="folding-tag" cyan open><summary> 弹性容器的相关属性 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>属性</th><th>属性说明</th></tr></thead><tbody><tr><td>flex-direction</td><td>设置主轴方向，确定弹性子元素的排列方式</td></tr><tr><td>flex-wrap</td><td>当弹性子元素超出弹性容器范围时是否换行</td></tr><tr><td>flex-flow</td><td>flex-direction 和 flex-wrap 的快捷方式，复合属性</td></tr><tr><td>justify-content</td><td>设置弹性子元素主轴上的对齐方式</td></tr><tr><td>align-items</td><td>设置弹性子元素侧轴上的对齐方式</td></tr><tr><td>align-content</td><td>侧轴上有空白时且有多行时，设置弹性子元素侧轴的对齐方式</td></tr></tbody></table></div><div class="tabs" id="flex-container-attr"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex-container-attr-1">flex-direction</button></li><li class="tab"><button type="button" data-href="#flex-container-attr-2">flex-wrap</button></li><li class="tab"><button type="button" data-href="#flex-container-attr-3">flex-flow</button></li><li class="tab"><button type="button" data-href="#flex-container-attr-4">justify-content</button></li><li class="tab"><button type="button" data-href="#flex-container-attr-5">align-items</button></li><li class="tab"><button type="button" data-href="#flex-container-attr-6">align-content</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex-container-attr-1"><blockquote><p>使用方法：<code>flex-direction:row |row-reverse |column |column-reverse</code></p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>row（默认值）</td><td>主轴为水平方向。排序方向与页面的文档顺序相同。如果文档顺序是 ltr，则排列顺序是从左到右；如果文档顺序是 rtl，则排列顺序是从右到左。</td></tr><tr><td>row-reverse</td><td>主轴为水平方向。排序方向与页面的文档顺序相反。</td></tr><tr><td>column</td><td>主轴为垂直方向。排列顺序为从上到下</td></tr><tr><td>column-reverse</td><td>主轴为垂直方向。排列顺序为从下到上</td></tr></tbody></table></div><p>其属性的效果图如下：<img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/flex-direction.png" alt="flex-direction"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-container-attr-2"><blockquote><p>使用方法：flex-wrap: nowrap | wrap | wrap-reverse</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>nowrap（默认值）</td><td>溢出时不换行</td></tr><tr><td>wrap</td><td>溢出时自动换行</td></tr><tr><td>wrap-reverse</td><td>溢出时自动换行，翻转排列</td></tr></tbody></table></div><p>其效果图如下：<img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/flex-wrap.png" alt="flex-wrap"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-container-attr-3"><blockquote><p>使用方法：flex-flow: [flex-direction] || [flex-wrap]</p><p>含义：复合属性（flex-direction 和 flex-wrap），设置弹性子元素的排列方式</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-container-attr-4"><blockquote><p>使用方法：justify-content: flex-start | flex-end | center | space-between | space-around</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>flex-start（默认值）</td><td>主轴开始对齐，主轴为横轴，ltr 环境下，左对齐</td></tr><tr><td>flex-end</td><td>主轴结束对齐，主轴为横轴，ltr 环境下，右对齐</td></tr><tr><td>center</td><td>居中对齐</td></tr><tr><td>space-between</td><td>第一个、最后一个对齐弹性容器的边缘，其余均匀分布</td></tr><tr><td>space-around</td><td>全部均匀分布</td></tr></tbody></table></div><p>其效果图如下：<img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/justify-content.png" alt="justify-content"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-container-attr-5"><blockquote><p>使用方法：align-items: flex-start | flex-end | center | baseline | stretch</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>flex-start</td><td>侧轴开始对齐，主轴为横轴，顶对齐</td></tr><tr><td>flex-end</td><td>侧轴结束对齐</td></tr><tr><td>center</td><td>居中对齐</td></tr><tr><td>baseline</td><td>基线对齐</td></tr><tr><td>stretch（默认值）</td><td>从侧轴开始到侧轴结束铺满整个侧轴</td></tr></tbody></table></div><p>其效果图如下：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/align-items.png" alt="align-items"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-container-attr-6"><blockquote><p>使用方法：align-content: flex-start | flex-end | center | space-between | space-around | stretch</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>flex-start</td><td>主轴开始对齐，主轴为横轴，ltr 环境下，左对齐</td></tr><tr><td>flex-end</td><td>主轴结束对齐，主轴为横轴，ltr 环境下，右对齐</td></tr><tr><td>center</td><td>居中对齐</td></tr><tr><td>space-between</td><td>第一个、最后一个对齐弹性容器的边缘，其余均匀分布</td></tr><tr><td>space-around</td><td>全部均匀分布</td></tr><tr><td>stretch（默认值）</td><td>各行伸展以占用剩余空间。如果剩余空间是负数，该值等效于 flex-start</td></tr></tbody></table></div><p>其效果图如下：<img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/align-content.png" alt="align-content"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h3 id="弹性子元素的相关属性"><a href="#弹性子元素的相关属性" class="headerlink" title="弹性子元素的相关属性"></a>弹性子元素的相关属性</h3><details class="folding-tag" ><summary> 弹性子元素的相关属性 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>order</td><td>控制弹性容器里子元素的顺序，数值小的排在前面，可以为负值</td></tr><tr><td>flex-grow</td><td>设置弹性子元素的扩展比率</td></tr><tr><td>flex-shrink</td><td>设置弹性子元素的收缩比率</td></tr><tr><td>flex-basis</td><td>指定弹性子元素伸缩前的默认大小值，相当于 width 和 height 属性</td></tr><tr><td>flex</td><td>flex-grow，flex-shrink 和 flex-basis 属性的复合属性</td></tr><tr><td>align-self</td><td>允许独立的弹性子元素覆盖弹性容器的默认对齐设置（align-items）</td></tr></tbody></table></div><div class="tabs" id="flex-item-attr"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flex-item-attr-1">order属性</button></li><li class="tab"><button type="button" data-href="#flex-item-attr-2">flex-grow 属性</button></li><li class="tab"><button type="button" data-href="#flex-item-attr-3">flex-shrink 属性</button></li><li class="tab"><button type="button" data-href="#flex-item-attr-4">flex-basis 属性</button></li><li class="tab"><button type="button" data-href="#flex-item-attr-5">flex 属性</button></li><li class="tab"><button type="button" data-href="#flex-item-attr-6">align-self 属性</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flex-item-attr-1"><blockquote><p>使用方法：order: integer number</p></blockquote><p>​ 其属性效果图如下：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/order.png" alt="order"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-item-attr-2"><blockquote><p>使用方法：flex-grow: number</p><p>含义：设置弹性子元素的扩展比率，不允许为负值，默认值为 0。根据弹性盒子元素所设置的扩展因子作为比率来分配剩余空间。</p></blockquote><p>其属性效果图如下：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/flex-grow.png" alt="flex-grow"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-item-attr-3"><blockquote><p>使用方法：flex-shrink: number</p><p>含义：设置弹性子元素的收缩比率，不允许为负值，默认值为 1。根据弹性盒子元素所设置的扩展因子作为比率来收缩空间。</p></blockquote><p>其属性效果图如下：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/flex-shrink.png" alt="flex-shrink"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-item-attr-4"><blockquote><p>使用方法：flex-basis:|| auto</p><p>含义：设置弹性子元素的伸缩基准值，不允许为负值。默认值为 auto，无特定宽度（高度）。</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-item-attr-5"><blockquote><p>使用方法：flex: none | [flex-grow] || [flex-shrink] || [flex-basis</p><p>含义：复合属性，设置弹性子元素的如何分配空间</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flex-item-attr-6"><blockquote><p>使用方法：auto | flex-start | flex-end | center | baseline | stretch</p><p>含义：设置弹性子元素的在侧轴上的对齐方式，与 align-items 相同。设置某个弹性子元素的对立对齐方式。</p></blockquote><p>其属性效果图如下：</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/align-self.png" alt="align-self"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h3 id="多列属性详解"><a href="#多列属性详解" class="headerlink" title="多列属性详解"></a>多列属性详解</h3><details class="folding-tag" ><summary> 多列属性详解 </summary>              <div class='content'>              <p><strong>基础知识</strong></p><p>多列（Multi-column）是一个 CSS3 新增布局模块，官方称为 Multiple column layout，可以比较轻松的实现多列布局，比如图片瀑布流。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/Flexible/Multi-column.png" alt="Multi-column"></p><p><strong>属性一览</strong></p><div class="table-container"><table><thead><tr><th>属性</th><th>属性说明</th></tr></thead><tbody><tr><td>columns</td><td>复合属性（column-width 和 column-count），设置宽度和列数</td></tr><tr><td>column-width</td><td>设置每列的宽度</td></tr><tr><td>column-count</td><td>设置列数</td></tr><tr><td>column-gap</td><td>设置列之间的间隙</td></tr><tr><td>column-rule</td><td>复合属性（column-rule-width、column-rule-style 和 column-rule-color），设置列之间的边框样式</td></tr><tr><td>column-fill</td><td>设置列的高度是否统一</td></tr><tr><td>column-span</td><td>设置是否横跨所有列</td></tr></tbody></table></div><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">column-width 属性</button></li><li class="tab"><button type="button" data-href="#test1-2">column-count 属性</button></li><li class="tab"><button type="button" data-href="#test1-3">columns 属性</button></li><li class="tab"><button type="button" data-href="#test1-4">column-gap 属性</button></li><li class="tab"><button type="button" data-href="#test1-5">column-rule 属性</button></li><li class="tab"><button type="button" data-href="#test1-6">column-fill 属性</button></li><li class="tab"><button type="button" data-href="#test1-7">column-span 属性</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><blockquote><p>使用方法：column-width: length | auto</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>auto（默认值）</td><td>浏览器决定列的宽度</td></tr><tr><td>length</td><td>用长度值来定义列宽。不允许负值</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><blockquote><p>使用方法： column-count: integer number | auto</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>auto（默认值）</td><td>列数将取决于其他属性，例如：”column-width”</td></tr><tr><td>imteger number</td><td>用整数值来定义列数，列的最佳数目将其中的元素的内容无法流出。</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><blockquote><p>使用方法：columns: [column-width]｜[column-count]</p><p>含义：复合属性设置列的宽度和个数</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-4"><blockquote><p>使用方法：column-gap: length | normal</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>normal（默认值）</td><td>与 font-size 大小相同。假设该对象的 font-size 为 16px，则 normal 的值为 16px，以此类推。</td></tr><tr><td>length</td><td>用长度来定义列与列之间的间隙。不允许为负值。</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-5"><blockquote><p>使用方法：column-rule: [column-rule-width] || [column-rule-style] || [column-rule-color]</p><p>含义：设置列与列之间的边框，和 border 属性相似</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>column-rule-width</td><td>设置列与列之间的边框的厚度</td></tr><tr><td>column-rule-style</td><td>设置列与列之间的边框的样式</td></tr><tr><td>column-rule-color</td><td>设置列与列之间的边框的颜色</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-6"><blockquote><p>使用方法：column-fill: auto | balance</p><p>含义：设置所有列的高度是否统一</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>auto（默认值）</td><td>列高度自适应内容</td></tr><tr><td>balance</td><td>所有列的高度以其中最高的一列统一</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-7"><blockquote><p>使用方法：column-span: none | all</p><p>含义：对象元素是否横跨所有列</p></blockquote><div class="table-container"><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td>none（默认值）</td><td>不跨列</td></tr><tr><td>all</td><td>横跨所有列</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><p>CSS3 弹性盒子的基本知识就是这些了 👌 👌 👌</p>]]></content>
    
    
    <summary type="html">弹性盒子, css, css3, Flexible Box, FlexBox</summary>
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="CSS" scheme="https://anzhiy.cn/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>HTML基础</title>
    <link href="https://anzhiy.cn/posts/e173abca.html"/>
    <id>https://anzhiy.cn/posts/e173abca.html</id>
    <published>2021-04-16T11:22:54.000Z</published>
    <updated>2022-07-27T15:05:55.709Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>&nbsp;&nbsp;生活明朗，万物可爱，勤做笔记的好戏惯可不能落下，嘿嘿😉，正所谓好记性不如烂笔头✍，笔记还是要记的</p><p>&nbsp;&nbsp;就像面对自己的恋人一般，认真，专注,接下来就是我的 HTML 笔记，也就是网页的结构，下面开始充电 🔋 之旅啦~</p><h3 id="初识-WEB"><a href="#初识-WEB" class="headerlink" title="初识 WEB"></a>初识 WEB</h3><p>让我们先来了解一下什么是 web</p><details class="folding-tag" blue><summary> 认识web </summary>              <div class='content'>              <p><strong>网页</strong> 主要是由<code>文字、图像</code>和<code>超链接</code>等元素构成，当然除了这些元素，网页中还可以包括音频、视频以及 Flash 等。</p><p><strong>浏览器</strong> 是网页显示、运行的平台。</p><p><strong>浏览器内核</strong> (排版引擎、解释引擎、渲染引擎)</p><blockquote><p>负责读取网页内容，整理讯息，计算网页的显示方式并显示页面。</p></blockquote><div class="table-container"><table><thead><tr><th>浏览器</th><th>内核</th><th>备注</th></tr></thead><tbody><tr><td>IE</td><td>Trident</td><td>IE、猎豹安全、360 极速浏览器、百度浏览器</td></tr><tr><td>firefox</td><td>Gecko</td><td>可惜这几年已经没落了，打开速度慢、升级频繁、猪一样的队友 flash、神一样的对手 chrome。</td></tr><tr><td>Safari</td><td>webkit</td><td>现在很多人错误地把 webkit 叫做 chrome 内核（即使 chrome 内核已经是 blink 了）。苹果感觉像被别人抢了媳妇，都哭晕在厕所里面了。</td></tr><tr><td>chrome</td><td>Chromium/Blink</td><td>在 Chromium 项目中研发 Blink 渲染引擎（即浏览器核心），内置于 Chrome 浏览器之中。Blink 其实是 WebKit 的分支。大部分国产浏览器最新版都采用 Blink 内核。二次开发</td></tr><tr><td>Opera</td><td>blink</td><td>现在跟随 chrome 用 blink 内核。</td></tr></tbody></table></div>              </div>            </details><details class="folding-tag" blue><summary> Web标准 </summary>              <div class='content'>              <p><strong>构成</strong>👉 结构标准，表现标准和行为标准</p><ul><li><code>结构标准</code>用于对网页元素进行整理和分类(HTML)</li><li><code>表现标准</code>用于设置网页元素的版式、颜色、大小等外观属性(CSS)</li><li><code>行为标准</code>用于对网页模型的定义及交互的编写(JavaScript)</li></ul><p>也就是 <code>结构+表现+行为</code></p><p><strong>Web 标准的优点</strong>👇</p><ul><li><code>易于维护</code>：只需更改 CSS 文件，就可以改变整站的样式</li><li><code>页面响应快</code>：HTML 文档体积变小，响应时间短</li><li><code>可访问性</code>：语义化的 HTML（结构和表现相分离的 HTML）编写的网页文件，更容易被屏幕阅读器识别</li><li><code>设备兼容性</code>：不同的样式表可以让网页在不同的设备上呈现不同的样式</li><li><code>搜索引擎</code>：语义化的 HTML 能更容易被搜索引擎解析，提升排名</li></ul>              </div>            </details><h3 id="初识-HTML"><a href="#初识-HTML" class="headerlink" title="初识 HTML"></a>初识 HTML</h3><p><strong>HTML</strong>(Hyper Text Markup Language):超文本标记语言</p><p><strong>所谓超文本，有 2 层含义：</strong></p><ul><li>它可以加入图片、声音、动画、多媒体等内容（<code>超越文本限制</code> ）</li><li>不仅如此，它还可以从一个文件跳转到另一个文件，与世界各地主机的文件连接（<code>超级链接文本</code>）。</li></ul><details class="folding-tag" blue><summary> HTML规范 </summary>              <div class='content'>              <p>HTML 骨架格式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 页面中最大的标签 根标签 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 头部标签 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 标题标签 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 文档的主体 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>团队约定大小写</p><ul><li>HTML 标签名、类名、标签属性和大部分属性值统一用<code>小写</code></li></ul><p>HTML 元素标签分类</p><ul><li>常规元素(双标签)</li><li>空元素(单标签)</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">常规元素(双标签)</span><br><span class="line">&lt;标签名&gt; 内容 &lt;/标签名&gt;   比如<span class="tag">&lt;<span class="name">body</span>&gt;</span>我是文字<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">空元素(单标签)</span><br><span class="line">&lt;标签名 /&gt;  比如 <span class="tag">&lt;<span class="name">br</span> /&gt;</span>或<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><p>HTML 标签关系</p><ul><li><code>嵌套关系</code>父子级包含关系</li><li><code>并列关系</code>兄弟级并列关系<ul><li>如果两个标签之间的关系是<code>嵌套关系</code>，子元素最好缩进一个 tab 键的身位（一个 tab 是 4 个空格）。如果是<code>并列关系</code>，最好上下对齐。</li></ul></li></ul><p>文档类型\&lt;!DOCTYPE &gt;</p><p><strong>文档类型</strong>用来说明你用的 XHTML 或者 HTML 是什么版本。\&lt;!DOCTYPE html&gt; 告诉浏览器按照 HTML5 标准解析页面。</p><p>页面语言 lang</p><p><code>lang</code>指定该 html 标签内容所用的语言</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  en 定义语言为英语 zh-CN定义语言为中文</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>lang 的作用</strong></p><ul><li>根据根据 lang 属性来设定不同语言的 css 样式，或者字体</li><li>告诉搜索引擎做精确的识别</li><li>让语法检查程序做语言识别</li><li>帮助翻译工具做识别</li><li>帮助网页阅读程序做识别</li></ul><p>字符集</p><p><strong>字符集</strong>(Character set)是多个字符的集合,计算机要准确的处理各种字符集文字，需要进行字符编码，以便计算机能够识别和存储各种文字。</p><ul><li>UTF-8 是目前最常用的字符集编码方式</li><li>让 html 文件是以 UTF-8 编码保存的， 浏览器根据编码去解码对应的 html 内容。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>meta viewport 的用法</p><p>通常 viewport 是指视窗、视口。浏览器上(也可能是一个 app 中的 webview)用来显示网页的那部分区域。在移动端和 pc 端视口是不同的，pc 端的视口是浏览器窗口区域，而在移动端有三个不同的视口概念：布局视口、视觉视口、理想视口</p><blockquote><p>meta 有两个属性 name 和 http-equiv</p></blockquote><p>name 属性的取值</p><ul><li>keywords(关键字) 告诉搜索引擎，该网页的关键字</li><li>description(网站内容描述) 用于告诉搜索引擎，你网站的主要内容。</li><li>viewport(移动端的窗口)</li><li>robots(定义搜索引擎爬虫的索引方式) robots 用来告诉爬虫哪些页面需要索引，哪些页面不需要索引</li><li>author(作者)</li><li>generator(网页制作软件）</li><li>copyright(版权)</li></ul><p>http-equiv 有以下参数</p><p><strong>http-equiv</strong>相当于 http 的文件头作用，它可以向浏览器传回一些有用的信息，以帮助正确和精确地显示网页内容</p><ul><li><strong>content-Type</strong> 设定网页字符集(Html4 用法，不推荐)</li><li><strong>Expires(期限)</strong> ,可以用于设定网页的到期时间。一旦网页过期，必须到服务器上重新传输。</li><li><strong>Pragma(cache 模式)</strong>,是用于设定禁止浏览器从本地机的缓存中调阅页面内容，设定后一旦离开网页就无法从 Cache 中再调出</li><li><strong>Refresh(刷新)</strong>,自动刷新并指向新页面。</li><li><strong>cache-control</strong>（请求和响应遵循的缓存机制）</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>HTML 标签的语义化</p><ul><li>方便代码的阅读和维护，样式丢失的时候能让页面呈现清晰的结构。</li><li>有利于 SEO，搜索引擎根据标签来确定上下文和各个关键字的权重。</li><li>方便其他设备解析，如盲人阅读器根据语义渲染网页</li></ul><p><strong>拓展</strong> \<base> 标签：规定页面上所有链接的默认 URL 和设置整体链接的打开状态</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">base</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  跳转到 百度</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="HTML-常用标签"><a href="#HTML-常用标签" class="headerlink" title="HTML 常用标签"></a>HTML 常用标签</h3><p>下面列举一些常用标签</p><details class="folding-tag" blue><summary> 常用标签 </summary>              <div class='content'>              <p><strong>排版标签</strong></p><p>主要和 css 搭配使用，显示网页结构的标签，是网页布局最常用的标签。</p><ul><li>标题标签 h(h1~h6)</li><li>段落标签 p,可以把 HTML 文档分割为若干段落</li><li>水平线标签 hr</li><li>换行标签 br</li><li>div 和 span 标签:是没有语义的,是我们网页布局最主要的 2 个盒子。</li></ul><p><strong>表现标签</strong></p><ul><li><strong>b</strong>和<strong>strong</strong> 文字以粗体显示</li><li><strong>i</strong>和<strong>em</strong> 文字以斜体显示</li><li><strong>s</strong>和<strong>del</strong> 文字以加删除线显示</li><li><strong>u</strong>和<strong>ins</strong> 文字以加下划线显示</li></ul><p><strong>标签属性(行内式)</strong></p><p>使用 HTML 制作网页时，如果想让 HTML 标签提供更多的信息，可以使用 HTML 标签的属性加以设置。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签名 属性1=&quot;属性值1&quot; 属性2=&quot;属性值2&quot; …&gt; 内容 &lt;/标签名&gt;</span><br><span class="line">&lt;手机 颜色=&quot;红色&quot; 大小=&quot;5寸&quot;&gt;  &lt;/手机&gt;</span><br></pre></td></tr></table></figure><p><strong>图像标签 img</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/1.png" alt=""></p><div class="note warning modern"><p><strong>注意：</strong></p><ul><li>标签可以拥有多个属性，必须写在开始标签中，位于标签名后面。</li><li>属性之间不分先后顺序，标签名与属性、属性与属性之间均以空格分开。</li><li>采取 键值对 的格式 key=”value” 的格式</li></ul></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;wg.jpg&quot; width=&quot;300&quot; height=&quot;300&quot; border=&quot;3&quot; title=&quot;这是个小乌龟&quot; /&gt;</span><br></pre></td></tr></table></figure><p>链接标签(重点)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;跳转目标&quot;</span> <span class="attr">target</span>=<span class="string">&quot;目标窗口的弹出方式&quot;</span>&gt;</span>文本或图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">target=&quot;_self&quot; 默认窗口弹出方式 target=&quot;_blank&quot; 新窗口弹出</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>属性</th><th>作用</th></tr></thead><tbody><tr><td>href</td><td>用于指定链接目标的 url 地址，（必须属性）当为标签应用 href 属性时，它就具有了超链接的功能</td></tr><tr><td>target</td><td>用于指定链接页面的打开方式，其取值有_self 和_blank 两种，其中_self 为默认值，_blank 为在新窗口中打开方式。</td></tr></tbody></table></div><p><strong>src 和 href 的区别</strong></p><p>一句话概括:<strong>src 是引入资源的 href 是跳转 url 的</strong></p><ol><li>src 用于替换当前元素，href 用于在当前文档和引用资源之间确立联系。</li><li>src 是 source 的缩写，指向外部资源的位置，指向的内容将会嵌入到文档中当前标签所在位置；在请求 src 资源时会将其指向的资源下载并应用到文档内，例如 js 脚本，img 图片和 frame 等元素。当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执行完毕，图片和框架等元素也如此，类似于将所指向资源嵌入当前标签内。这也是为什么将 js 脚本放在底部而不是头部。</li><li>href 是 Hypertext Reference 的缩写，指向网络资源所在位置，建立和当前元素（锚点）或当前文档（链接）之间的链接。如果我们在文档中添加那么浏览器会识别该文档为 css 文件，就会并行下载资源并且不会停止对当前文档的处理。这也是为什么建议使用 link 方式来加载 css，而不是使用@import 方式。</li></ol><div class="note warning modern"><p><strong>注意</strong></p><ol><li>外部链接 需要添加 <code>http://</code> www.baidu.com</li><li>内部链接 直接链接内部页面名称即可 比如 &lt; a href=”index.html”&gt; 首页</li><li>如果当时没有确定链接目标时，通常将链接标签的 href 属性值定义为“#”(即 href=”#”)，表示该链接暂时为一个空链接。</li><li>不仅可以创建文本超链接，在网页中各种网页元素，如图像、表格、音频、视频等都可以添加超链接。</li></ol></div><p><strong>锚点定位 ：通过创建锚点链接，用户能够快速定位到目标内容。</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 使用相应的id名标注跳转目标的位置。 (找目标)</span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span>&gt;</span>第2集<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">2. 使用</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#id名&quot;</span>&gt;</span>链接文本<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">创建链接文本（被点击的）</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#two&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注释标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 注释语句 --&gt;</span></span><br><span class="line">快捷键是： ctrl + / 或者 ctrl +shift + /</span><br></pre></td></tr></table></figure><p><strong>团队约定</strong>：注释内容前后各一个空格字符，注释位于要注释代码的上面，单独占一行</p><p>路径</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/2.png" alt=""></p>              </div>            </details><h3 id="其他知识"><a href="#其他知识" class="headerlink" title="其他知识"></a>其他知识</h3><details class="folding-tag" blue><summary> 常用标签 </summary>              <div class='content'>              <p><strong>预格式化文本 pre 标签</strong></p><p><strong>预格式化文本 pre 标签</strong>元素中的文本通常会保留空格和换行符。而文本也会呈现为等宽字体。格式化文本就是 ，按照我们预先写好的文字格式来显示页面， 保留空格和换行等。</p><p><strong>特殊字符</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/3.png" alt=""></p><p><strong>什么是 XHTML</strong></p><ul><li>XHTML 指<strong>可扩展超文本标签语言</strong>（EXtensible HyperText Markup Language）。</li><li>XHTML 的目标是取代 HTML。</li><li>XHTML 与 HTML 4.01 几乎是相同的。</li><li>XHTML 是更严格更纯净的 HTML 版本。</li><li>XHTML 是作为一种 XML 应用被重新定义的 HTML,是严格版本的 HTML。例如它要求标签必须小写，标签必须被正确关闭，标签顺序必须正确排列，对于属性都必须使用双引号等。</li><li>XHTML 是一个 W3C 标准。</li></ul><p><strong>写 HTML 代码时应注意什么？</strong></p><ul><li>尽可能少的使用无语义的标签 div 和 span；</li><li>在语义不明显时，既可以使用 div 或者 p 时，尽量用 p, 因为 p 在默认情况下有上下间距，对兼容特殊终端有利；</li><li>不要使用纯样式标签，如：b、font、u 等，改用 css 设置。</li><li>需要强调的文本，可以包含在 strong 或者 em 标签中（浏览器预设样式，能用 CSS 指定就不用他们），strong 默认样式是加粗（不要用 b），em 是斜体（不用 i）；</li><li>使用表格时，标题要用<strong>caption</strong>，表头用 thead，主体部分用 tbody 包围，尾部用 tfoot 包围。表头和一般单元格要区分开，表头用 th，单元格用 td；</li><li>表单域要用<strong>fieldset</strong>标签包起来，并用<strong>legend</strong>标签说明表单的用途；</li><li>每个 input 标签对应的说明文本都需要使用<strong>label</strong>标签，并且通过为 input 设置 id 属性，在 lable 标签中设置 for 来让说明文本和相对应的 input 关联起来。</li></ul>              </div>            </details><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><details class="folding-tag" blue><summary> 表格 </summary>              <div class='content'>              <p>现在还是较为常用的一种标签，但不是用来布局，<code>常见显示、展示表格式数据</code>。因为它可以让数据显示的非常的规整，可读性非常好。<code>特别是后台展示数据的时候表格运用是否熟练就显得很重要</code>，一个清爽简约的表格能够把繁杂的数据表现得很有条理。</p><p><strong>创建表格</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内的文字<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>table、tr、td</code>，他们是创建表格的基本标签，缺一不可</p><ul><li>table 用于定义一个表格标签。</li><li>tr 标签 用于定义表格中的行，必须嵌套在 table 标签中。</li><li>td 用于定义表格中的单元格，必须嵌套在<code>&lt;tr&gt;&lt;/tr&gt;</code>标签中。</li><li>字母 td 指表格数据（table data），即数据单元格的内容，现在我们明白，表格最合适的地方就是用来存储数据的。td 像一个容器，可以容纳所有的元素。</li></ul><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/4.png" alt=""><br><strong>表头单元格标签 th</strong>:一般表头单元格位于表格的第一行或第一列，并且文本加粗居中,只需用表头标签\<th>\</th>替代相应的单元格标签\<td>\</td>即可。<br><strong>表格标题 caption</strong>:通常这个标题会被居中且显示于表格之上。caption 标签必须紧随 table 标签之后。这个标签只存在 表格里面才有意义。你是风儿我是沙</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">caption</span>&gt;</span>我是表格标题<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>表格属性</strong></p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/5.png" alt=""><br>三参为 0，平时开发的我们这三个参数 <code>border</code> <code>cellpadding</code> <code>cellspacing</code> 为 0</p><p><strong>合并单元格</strong></p><p>合并的顺序我们按照 <code>先上 后下 先左 后右</code> 的顺序 ,合并完之后需要删除多余的单元格。</p><ul><li>跨行合并：rowspan=”合并单元格的个数”</li><li>跨列合并：colspan=”合并单元格的个数”</li></ul><p><strong>总结表格</strong></p><div class="table-container"><table><thead><tr><th>标签名</th><th>定义</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;table&gt;&lt;/table&gt;</code></td><td>表格标签</td><td>就是一个四方的盒子</td></tr><tr><td><code>&lt;tr&gt;&lt;/tr&gt;</code></td><td>表格行标签</td><td>行标签要再 table 标签内部才有意义</td></tr><tr><td><code>&lt;td&gt;&lt;/td&gt;</code></td><td>单元格标签</td><td>单元格标签是个容器级元素，可以放任何东西</td></tr><tr><td><code>&lt;th&gt;&lt;/th&gt;</code></td><td>表头单元格标签</td><td>它还是一个单元格，但是里面的文字会居中且加粗</td></tr><tr><td><code>&lt;caption&gt;&lt;/caption&gt;</code></td><td>表格标题标签</td><td>表格的标题，跟着表格一起走，和表格居中对齐</td></tr><tr><td><code>clospan 和 rowspan</code></td><td>合并属性</td><td>用来合并单元格的</td></tr></tbody></table></div><p><strong>表格划分结构</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;对于比较复杂的表格，表格的结构也就相对的复杂了，所以又将表格分割成三个部分：题头、正文和脚注。而这三部分分别用:thead,tbody,tfoot 来标注， 这样更好的分清表格结构。</p><div class="note warning modern"><p><strong>注意</strong></p><ol><li>\<thead>\</thead>：用于定义表格的头部。用来放标题之类的东西。\<thead> 内部必须拥有\<tr> 标签！</li><li>\<tbody>\</tbody>：用于定义表格的主体。放数据本体 。</li><li>\<tfoot>\</tfoot>放表格的脚注之类。</li><li>以上标签都是放到 table 标签中。</li></ol></div>              </div>            </details><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p><strong>列表</strong><br>容器里面装载着结构，样式一致的文字或图表的一种形式，叫列表。</p><p>列表最大的特点就是整齐 、整洁、 有序，跟表格类似，但是它可组合自由度会更高。</p><details class="folding-tag" blue><summary> 列表 </summary>              <div class='content'>              <p><strong>无序列表 ul</strong></p><ul><li>\<ul>\</ul>中只能嵌套\<li>\</li>，直接在\<ul>\</ul>标签中输入其他标签或者文字的做法是不被允许的。</li><li>\<li>与\</li>之间相当于一个容器，可以容纳所有元素。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>有序列表 ol</strong></p><ul><li>\<ol>标签中的 type 属性值为排序的序列号，不添加 type 属性时，有序列表默认从数字 1 开始排序。</li><li>常用的 type 属性值分别为是 1，a，A，i，I</li><li>\<ol reversed="reversed">中的 reversed 属性能够让有序列表中的序列倒序排列。</li><li>\<ol start="3">中的 start 属性值为 3，有序列表中的第一个序列号将从 3 开始排列。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表二<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表三<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>自定义列表 dl</strong></p><p>定义列表常用于对术语或名词进行解释和描述，定义列表的列表项前没有任何项目符号。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词2<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><p>在 HTML 中，一个完整的表单通常由<strong>表单控件</strong>（也称为表单元素）、<strong>提示信息</strong>和<strong>表单域</strong>3 个部分构成。表单目的是为了收集用户信息。</p><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/6.png" alt=""></p><details class="folding-tag" blue><summary> 表单 </summary>              <div class='content'>              <p><strong>表单控件：</strong></p><p>包含了具体的表单功能项，如单行文本输入框、密码输入框、复选框、提交按钮、重置按钮等。</p><p><strong>提示信息：</strong></p><p>一个表单中通常还需要包含一些说明性的文字，提示用户进行填写和操作。</p><p><strong>表单域：</strong></p><p>它相当于一个容器，用来容纳所有的表单控件和提示信息，可以通过他定义处理表单数据所用程序的 url 地址，以及数据提交到服务器的方法。如果不定义表单域，表单中的数据就无法传送到后台服务器。</p><p><strong>input 控件</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;属性值&quot;</span> <span class="attr">value</span>=<span class="string">&quot;你好&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>input 输入的意思</li><li>\<input />标签为单标签</li><li>type 属性设置不同的属性值用来指定不同的控件类型</li><li>除了 type 属性还有别的属性</li></ul><p><strong>常用属性：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">用户名:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line">密 码：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><div class="tabs" id="form-value"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#form-value-1">value</button></li><li class="tab"><button type="button" data-href="#form-value-2">name</button></li><li class="tab"><button type="button" data-href="#form-value-3">checked</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="form-value-1"><p>value 默认的文本值。有些表单想刚打开页面就默认显示几个文字，就可以通过这个 value 来设置。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;请输入用户名&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="form-value-2"><ul><li>name 表单的名字， 这样，后台可以通过这个 name 属性找到这个表单。 页面中的表单很多，name 主要作用就是用于区别不同的表单。</li><li>name 属性后面的值，是我们自己定义的。</li><li>radio 如果是一组，我们必须给他们命名相同的名字 name 这样就可以多个选其中的一个啦</li><li>name 属性，我们现在用的较少，但是，当我们学 ajax 和后台的时候，是必须的。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br><span class="line">男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br><span class="line">女</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="form-value-3"><p>表示默认选中状态。 较常见于 单选按钮和复选按钮。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">性 别:</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span> /&gt;</span></span><br><span class="line">男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> /&gt;</span></span><br><span class="line">女</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>input 属性小结</strong></p><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th><th>作用</th></tr></thead><tbody><tr><td>type</td><td>表单类型</td><td>用来指定不同的控件类型</td></tr><tr><td>value</td><td>表单值</td><td>表单里面默认显示的文本</td></tr><tr><td>name</td><td>表单名字</td><td>页面中的表单很多，name 主要作用就是用于区别不同的表单。</td></tr><tr><td>checked</td><td>默认选中</td><td>表示那个单选或者复选按钮一开始就被选中了</td></tr></tbody></table></div><p><strong>label 标签</strong></p><ul><li>label 标签为 input 元素定义标注（标签）。</li><li>label 标签主要目的是为了提高用户体验。为用户提高最优秀的服务。</li></ul><p><strong>作用</strong></p><p>用于绑定一个表单元素, 当点击 label 标签的时候, 被绑定的表单元素就会获得输入焦点。</p><p><strong>如何绑定元素呢</strong></p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">方法一</button></li><li class="tab"><button type="button" data-href="#test1-2">方法二</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p>用 label 标签直接包含 input 表单， 适合单个表单选择</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">  用户名：</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;请输入用户名&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>使用 for 属性规定 label 与哪个表单元素绑定(通过 id)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>textarea 控件(文本域)</strong></p><ul><li>通过 textarea 控件可以轻松地创建多行文本输入框.</li><li>cols=”每行中的字符数” rows=”显示的行数” 我们实际开发不用<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/7.png" alt=""></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span></span><br><span class="line">    文本内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>文本框和文本域区别</strong></p><div class="table-container"><table><thead><tr><th>表单</th><th>名称</th><th>区别</th><th>默认值显示</th><th>用于场景</th></tr></thead><tbody><tr><td>input type=”text”</td><td>文本框</td><td>只能显示一行文本</td><td>单标签，通过 value 显示默认值</td><td>用户名、昵称、密码等</td></tr><tr><td>textarea</td><td>文本域</td><td>可以显示多行文本</td><td>双标签，默认值写到标签中间</td><td>留言板</td></tr></tbody></table></div><p><strong>select 下拉列表</strong></p><ul><li>如果有多个选项让用户选择，为了节约空间，我们可以使用 select 控件定义下拉列表。</li><li>在 option 中定义 selected =” selected “时，当前项即为默认选中项。</li><li>我们实际开发会用的比较少</li></ul><p><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/8.png" alt=""></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>form 表单域</strong></p><blockquote><p>收集的用户信息怎么传递给服务器？</p></blockquote><p>通过 form 表单域</p><blockquote><p>目的</p></blockquote><p>在 HTML 中，form 标签被用于定义表单域，以实现用户信息的收集和传递，form 中的所有内容都会被提交给服务器。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;url地址&quot;</span> <span class="attr">method</span>=<span class="string">&quot;提交方式&quot;</span> <span class="attr">name</span>=<span class="string">&quot;表单名称&quot;</span>&gt;</span>各种表单控件<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>常用属性</strong></p><p>每个表单都应该有自己表单域。后面学 <code>ajax 后台交互</code>的时候，必须需要 form 表单域。</p><div class="table-container"><table><thead><tr><th>属性</th><th>属性值</th><th>作用</th></tr></thead><tbody><tr><td>action</td><td>url 地址</td><td>用于指定接收并处理表单数据的服务器程序的 url 地址</td></tr><tr><td>method</td><td>get/post</td><td>用于设置表单数据的提交方式，其取值为 get 或 post。</td></tr><tr><td>name</td><td>名称</td><td>用于指定表单的名称，以区分同一个页面中的多个表单。</td></tr></tbody></table></div><p><strong>GET 和 POST 的区别</strong></p><ul><li>GET 在浏览器回退时是无害的，而 POST 会再次提交请求。</li><li>GET 请求会被浏览器主动 cache，而 POST 不会，除非手动设置。</li><li>GET 请求只能进行 url 编码，而 POST 支持多种编码方式。</li><li>GET 请求参数会被完整保留在浏览器历史记录里，而 POST 中的参数不会被保留。</li><li>GET 请求大小一般是(1024 字节)，http 协议并没有限制，而与服务器，操作系统有关，POST 理论上来说没有大小限制，http 协议规范也没有进行大小限制，但实际上 post 所能传递的数据量根据取决于服务器的设置和内存大小。</li><li>对参数的数据类型，GET 只接受 ASCII 字符，而 POST 没有限制。</li><li>GET 比 POST 更不安全，因为参数直接暴露在 URL 上，所以不能用来传递敏感信息。</li></ul><p><strong>团队约定</strong></p><ul><li>元素属性值使用双引号语法</li><li>元素属性值可以写上的都写上</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 推荐</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3><details class="folding-tag" blue><summary> 从输入url到页面展示发生了什么 </summary>              <div class='content'>              <blockquote><p>作者：Twinkle_</p><p>链接：<a href="https://juejin.im/post/6869279683230629896">https://juejin.im/post/6869279683230629896</a></p><p>来源：掘金</p></blockquote><p><strong>浏览器的多进程架构</strong></p><p>从浏览器输入 <code>URL</code> 到页面渲染的整个过程都是由 浏览器架构中的各个进程之间的配合完成。</p><ul><li><strong>浏览器主进程</strong>: 管理子进程、提供服务功能</li><li><strong>渲染进程</strong>：将 HTML、CSS、JS 渲染成界面，js 引擎 v8 和排版引擎 Blink 就在上面，他会为每一个 tab 页面创建一个渲染进程</li><li><strong>GPU 进程</strong>：本来是负责处理 3Dcss 的，后来慢慢的 UI 界面也交给 GPU 来绘制</li><li><strong>网络进程</strong>：就是负责网络请求，网络资源加载的进程</li><li><strong>插件进程</strong>：负责插件的运行的，因为插件很容易崩溃，把它放到独立的进程里不要让它影响别人</li></ul><p>从用户输入信息到页面展示的不同阶段，<code>是不同的进程在发挥作用</code>，示意图如下：<br><img src="https://cdn.cbd.int/anzhiyu-blog@latest/img/post/html-base/9.png" alt=""></p><p>从图中可以看出，整个过程是需要各个进程之间相互配合完成的，过程大致可以描述为：</p><ul><li>用户<code>输入url</code>,处理输入信息，主进程开始导航，交给<code>网络进程</code>干活</li><li>网络进程发起网络请求，其中有<code>可能会发生重定向</code></li><li>服务器响应 URL 之后，主进程就要通知渲染进程，你要开始干活了</li><li>渲染进程准备好了，要想渲染进程提交数据，这个时间叫做<code>提交文档</code></li><li>渲染进程接受到数据，完成页面渲染。</li></ul><p><strong>具体过程</strong></p><ol><li>输入 url</li></ol><ul><li>用户输入 url，处理输入信息：</li><li>如果为非 url 结构的字符串，交给浏览器<code>默认引擎</code>去搜索改字符串；</li><li>若为 url 结构的字符串，浏览器主进程会交给 <code>网络进程</code> ,开始干活。</li></ul><ol><li><p>网络进程<br>2.1 <strong>查找浏览器缓存</strong></p><ul><li><p>网络进程会先看看是否存在本地缓存，如果有就直接返回资源给浏览器进程，无则下一步 DNS-&gt; IP -&gt; TCP</p><p>2.2 <strong>DNS 解析</strong></p></li><li><p>网络进程拿到 url 后，先会进行 DNS 域名解析得到<code>IP地址</code>。如果请求协议是 HTTPS，那么还需要建立 TLS 连接。</p><p>2.3 <strong>建立 TCP 连接，三次握手</strong></p></li><li><p>接下来就是利用 IP 地址和服务器建立 TCP 连接。连接建立之后，向服务器发送请求。</p></li></ul></li><li><p>服务器响应</p><ul><li>服务器收到请求信息后，会根据请求信息生成响应行、响应头、响应体，并发给网络进程。网络进程接受了响应信息之后，就开始解析响应头的内容。</li><li><p><code>网络进程解析响应行和响应头信息的过程：</code></p><p>3.1 <strong>重定向</strong></p></li></ul></li></ol><p>如果响应行状态码为 301（永久重定向）和 302（临时），那么说明需要重定向到其他 url。这时候网络进程会从响应头中的 Location 字段里读取重定向的地址，并重新发起网络请求。</p><p>3.2 <strong>响应数据处理</strong></p><p>导航会通过请求头的 Content-type 字段判断响应体数据的类型。浏览器通过这个来决定如何显示响应体的内容。比如：若为 application/octet-stream，则会按照下载类型来处理这个请求，导航结束。若为 text/html，这就告诉浏览器服务器返回的是 html 格式，浏览器会通知渲染进程，你要干活了。</p><ol><li>准备渲染进程</li></ol><ul><li>默认情况，每个页面一个渲染进程。但若处于同一站点（同根域名+协议），那么渲染进程就会复用。</li></ul><ol><li>提交文档</li></ol><ul><li>渲染进程准备好后，浏览器进程发出“提交文档的消息”，渲染进程接受了消息之后，会跟网络进程简历传输数据的管道。</li><li>等数据传输完成了，渲染进程会告诉浏览器进程，确认文档提交，这时候浏览器会更新页面，安全状态，url，前进后退的历史。</li><li>到这里导航结束，进入渲染阶段。</li></ul><div class="note warning modern"><p><strong>注意</strong><br>当浏览器刚开始加载一个地址之后，标签页上的图标便进入了加载状态。但此时图中页面显示的依然是之前打开的页面内容，并没立即替换为百度首页的页面。因为需要等待提交文档阶段，页面内容才会被替换。</p></div>              </div>            </details><details class="folding-tag" blue><summary> iframe有哪些缺点？ </summary>              <div class='content'>              <p>iframe 是一种框架，也是一种很常见的网页嵌入方式。</p><h3 id="iframe-的优点"><a href="#iframe-的优点" class="headerlink" title="iframe 的优点"></a>iframe 的优点</h3><ul><li>iframe 能够原封不动的把嵌入的网页展现出来。</li><li>如果有多个网页引用 iframe，那么你只需要修改 iframe 的内容，就可以实现调用的每一个页面内容的更改，方便快捷。</li><li>网页如果为了统一风格，头部和版本都是一样的，就可以写成一个页面，用 iframe 来嵌套，可以增加代码的可重用。</li><li>如果遇到加载缓慢的第三方内容如图标和广告，这些问题可以由 iframe 来解决。</li></ul><h3 id="iframe-的缺点"><a href="#iframe-的缺点" class="headerlink" title="iframe 的缺点"></a>iframe 的缺点</h3><ul><li>会产生很多页面，不容易管理。</li><li>iframe 框架结构有时会让人感到迷惑，如果框架个数多的话，可能会出现上下、左右滚动条，会分散访问者的注意力，用户体验度差。</li><li>代码复杂，无法被一些搜索引擎索引到，这一点很关键，现在的搜索引擎爬虫还不能很好的处理 iframe 中的内容，所以使用 iframe 会不利于搜索引擎优化。</li><li>很多的移动设备（PDA 手机）无法完全显示框架，设备兼容性差。</li><li>iframe 框架页面会增加服务器的 http 请求，对于大型网站是不可取的。</li><li>现在基本上都是用 Ajax 来代替 iframe，所以 iframe 已经渐渐的退出了前端开发。</li></ul>              </div>            </details><details class="folding-tag" blue><summary> label的作用是什么？是怎么用的？ </summary>              <div class='content'>              <p>例子 1: 点击” 用户名:” 就可以定位光标到输入框</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;myid &quot;</span>&gt;</span>用户名:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myid&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>for 属性功能</p></blockquote><p>表示 Label 标签要绑定的 HTML 元素，你点击这个标签的时候，所绑定的元素将获取焦点。</p><blockquote><p>acesskey 属性</p></blockquote><p><strong>功能：</strong><br>表示访问 Label 标签所绑定的元素的热键，当您按下热键，所绑定的元素将获取焦点。</p><p><strong>局限性：</strong><br>accessKey 属性所设置的快捷键不能与浏览器的快捷键冲突，否则将优先激活浏览器的快捷键。</p>              </div>            </details><details class="folding-tag" blue><summary> HTML5的form如何关闭自动完成功能？ </summary>              <div class='content'>              <p>&nbsp;HTML 的输入框可以拥有自动完成的功能，当你往输入框输入内容的时候，浏览器会从你以前的同名输入框的历史记录中查找出类似的内容并列在输入框下面，这样就不用全部输入进去了，直接选择列表中的项目就可以了。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;但有时候我们希望关闭输入框的自动完成功能，例如当用户输入内容的时候，我们希望使用 AJAX 技术从数据库搜索并列举而不是在用户的历史记录中搜索。</p><p>关闭输入框的自动完成功能有 3 种方法：</p><ol><li>在 IE 的 Internet 选项菜单里的内容—自动完成里面设置</li><li>设置 form 的 autocomplete 为”on”或者”off”来开启或者关闭自动完成功能</li><li>设置输入框的 autocomplete 为”on”或者”off”来开启或者关闭该输入框的自动完成功能</li></ol>              </div>            </details><details class="folding-tag" blue><summary> 将 HTML5 看作成开放的网络平台 </summary>              <div class='content'>              <p>面试造火箭，经典工作拧螺丝</p><ol><li>语义 - 提供更准确地描述内容。</li><li>连接 - 提供新的方式与服务器通信。</li><li>离线和存储 - 允许网页在本地存储数据并有效地离线运行。</li><li>多媒体 - 在 Open Web 中，视频和音频被视为一等公民（first-class citizens）。</li><li>2D/3D 图形和特效 - 提供更多种演示选项。</li><li>性能和集成 - 提供更快的访问速度和性能更好的计算机硬件。</li><li>设备访问 - 允许使用各种输入、输出设备。</li><li>外观 - 可以开发丰富的主题。</li></ol>              </div>            </details><details class="folding-tag" blue><summary> 浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢？ </summary>              <div class='content'>              <ul><li>在浏览器的 html 头部加上 manifest 属性，如果是第一次访问浏览器会根据 manifest 的内容进行下载存储离线内容，如果已经访问过则从离线存储中进行加载，然后在比对服务器如果有新内容在更新离线存储</li><li>离线的情况下，浏览器就直接使用离线存储的资源。</li></ul>              </div>            </details><details class="folding-tag" blue><summary> 浏览器的渲染过程？ </summary>              <div class='content'>              <ol><li>将获取的 html 解析成 dom 树</li><li>处理 css，构成层叠样式表模型 CSSOM</li><li>将 dom 树和 CSSOM 合并为渲染树</li><li>根据 CSSOM 将渲染树的节点布局计算</li><li>将渲染树节点样式绘制到页面上</li></ol><div class="note warning modern"><p><strong>注意</strong></p><ul><li>在渲染的过程中是自上而下渲染，</li><li>js 会阻塞页面的渲染，优先等 js 执行完成</li><li>如果在渲染的过程中改变了样式，会造成回流需要重新渲染</li></ul></div>              </div>            </details><details class="folding-tag" blue><summary> link和@import的区别？ </summary>              <div class='content'>              <ol><li>从属关系区别：<br>link 属于 html 标签，而@import 是 css 提供的。</li><li>加载顺序区别：<br>页面被加载时，link 会同时被加载，而@import 引用的 css 会等到页面被加载完再加载。</li><li>兼容性区别：<br>import 只在 IE5 以上才能识别，而 link 是 html 标签，无兼容问题。</li><li>dom 可操作性区别：<br>可以通过 JS 操作 DOM ，插入 link 标签来改变样式；由于 DOM 方法是基于文档的，无法使用@import 的方式插入样式</li><li>权重区别：<br>如果已经存在相同样式，@import 引入的这个样式将被该 CSS 文件本身的样式层叠掉，表现出 link 方式的样式权重高于@import 的权重这样的直观效果。（简而言之，link 和@import，谁写在后面，谁的样式就被应用，后面的样式覆盖前面的样式。）</li></ol>              </div>            </details><details class="folding-tag" blue><summary> src与href的区别？ </summary>              <div class='content'>              <ol><li>href 是指向网络资源所在位置，建立和当前元素（锚点）或当前文档（链接）之间的链接，用于超链接。</li><li>src 是指向外部资源的位置，指向的内容将会嵌入到文档中当前标签所在位置；在请求 src 资源时会将其指向的资源下载并应用到文档内，例如 js 脚本，img 图片和 frame 等元素。当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执行完毕，图片和框架等元素也如此，类似于将所指向资源嵌入当前标签内。这也是为什么将 js 脚本放在底部而不是头部。</li></ol>              </div>            </details><p>❤️ 感谢大家能看到这里</p>]]></content>
    
    
    <summary type="html">HTML基础</summary>
    
    
    
    <category term="前端" scheme="https://anzhiy.cn/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="HTML" scheme="https://anzhiy.cn/tags/HTML/"/>
    
  </entry>
  
</feed>
